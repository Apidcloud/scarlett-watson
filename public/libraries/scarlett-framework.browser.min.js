!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("msdf-bmfont-xml"),require("fs"),require("util.promisify")):"function"==typeof define&&define.amd?define("SC",["msdf-bmfont-xml","fs","util.promisify"],e):"object"==typeof exports?exports.SC=e(require("msdf-bmfont-xml"),require("fs"),require("util.promisify")):t.SC=e(t["msdf-bmfont-xml"],t.fs,t["util.promisify"])}(this,function(__WEBPACK_EXTERNAL_MODULE_162__,__WEBPACK_EXTERNAL_MODULE_163__,__WEBPACK_EXTERNAL_MODULE_164__){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="build/dist",e(e.s=167)}([function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(185),i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}()},function(t,e,r){"use strict";function n(t,e){return T()(t,e)}function i(t){return void 0!==t&&null!==t}function a(t){return w()(t)}function o(t){return b()(t)}function s(t){return"function"==typeof t}function u(t,e){t.prototype=v()(e.prototype)}function c(){return(++E).toString()}function l(t){return _()(t)}function f(t){return m()(t)}function h(t){return null===t?"[object Null]":t.getType?t.getType():t.constructor.name||Object.prototype.toString.call(t)}function p(t,e){return s(t.equals)?t.equals(e):t===e}r.d(e,"i",function(){return i}),r.d(e,"j",function(){return a}),r.d(e,"h",function(){return o}),r.d(e,"g",function(){return s}),r.d(e,"e",function(){return u}),r.d(e,"b",function(){return c}),r.d(e,"k",function(){return f}),r.d(e,"a",function(){return l}),r.d(e,"c",function(){return h}),r.d(e,"f",function(){return p}),r.d(e,"d",function(){return n});var y=r(116),v=r.n(y),d=r(190),m=r.n(d),g=r(118),_=r.n(g),x=r(204),b=r.n(x),k=r(205),w=r.n(k),S=r(207),T=r.n(S),E=0},function(t,e){var r={};t.exports=r,function(){r._nextId=0,r._seed=0,r.extend=function(t,e){var n,i,a;"boolean"==typeof e?(n=2,a=e):(n=1,a=!0),i=Array.prototype.slice.call(arguments,n);for(var o=0;o<i.length;o++){var s=i[o];if(s)for(var u in s)a&&s[u]&&s[u].constructor===Object?t[u]&&t[u].constructor!==Object?t[u]=s[u]:(t[u]=t[u]||{},r.extend(t[u],a,s[u])):t[u]=s[u]}return t},r.clone=function(t,e){return r.extend({},e,t)},r.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)e.push(r);return e},r.values=function(t){var e=[];if(Object.keys){for(var r=Object.keys(t),n=0;n<r.length;n++)e.push(t[r[n]]);return e}for(var i in t)e.push(t[i]);return e},r.shadeColor=function(t,e){var r=parseInt(t.slice(1),16),n=Math.round(2.55*e),i=(r>>16)+n,a=(r>>8&255)+n,o=(255&r)+n;return"#"+(16777216+65536*(i<255?i<1?0:i:255)+256*(a<255?a<1?0:a:255)+(o<255?o<1?0:o:255)).toString(16).slice(1)},r.shuffle=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(r.random()*(e+1)),i=t[e];t[e]=t[n],t[n]=i}return t},r.choose=function(t){return t[Math.floor(r.random()*t.length)]},r.isElement=function(t){try{return t instanceof HTMLElement}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}},r.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},r.clamp=function(t,e,r){return t<e?e:t>r?r:t},r.sign=function(t){return t<0?-1:1},r.now=function(){var t=window.performance||{};return t.now=function(){return t.now||t.webkitNow||t.msNow||t.oNow||t.mozNow||function(){return+new Date}}(),t.now()},r.random=function(e,r){return e=void 0!==e?e:0,r=void 0!==r?r:1,e+t()*(r-e)},r.colorToNumber=function(t){return t=t.replace("#",""),3==t.length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},r.log=function(t,e){if(console&&console.log&&console.warn)switch(e){case"warn":console.warn("Matter.js:",t);break;case"error":console.log("Matter.js:",t)}},r.nextId=function(){return r._nextId++},r.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1};var t=function(){return r._seed=(9301*r._seed+49297)%233280,r._seed/233280}}()},function(t,e){var r=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=r)},function(t,e,r){var n=r(72)("wks"),i=r(54),a=r(6).Symbol,o="function"==typeof a;(t.exports=function(t){return n[t]||(n[t]=o&&a[t]||(o?a:i)("Symbol."+t))}).store=n},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e,r){var n=r(6),i=r(4),a=r(23),o=r(24),s=function(t,e,r){var u,c,l,f=t&s.F,h=t&s.G,p=t&s.S,y=t&s.P,v=t&s.B,d=t&s.W,m=h?i:i[e]||(i[e]={}),g=m.prototype,_=h?n:p?n[e]:(n[e]||{}).prototype;h&&(r=e);for(u in r)(c=!f&&_&&void 0!==_[u])&&u in m||(l=c?_[u]:r[u],m[u]=h&&"function"!=typeof _[u]?r[u]:v&&c?a(l,n):d&&_[u]==l?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):y&&"function"==typeof l?a(Function.call,l):l,y&&((m.virtual||(m.virtual={}))[u]=l,t&s.R&&g&&!g[u]&&o(g,u,l)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,r){"use strict";function n(t){return"[object Array]"===S.call(t)}function i(t){return"[object ArrayBuffer]"===S.call(t)}function a(t){return"undefined"!=typeof FormData&&t instanceof FormData}function o(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function s(t){return"string"==typeof t}function u(t){return"number"==typeof t}function c(t){return void 0===t}function l(t){return null!==t&&"object"==typeof t}function f(t){return"[object Date]"===S.call(t)}function h(t){return"[object File]"===S.call(t)}function p(t){return"[object Blob]"===S.call(t)}function y(t){return"[object Function]"===S.call(t)}function v(t){return l(t)&&y(t.pipe)}function d(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function m(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function g(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function _(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),n(t))for(var r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}function x(){function t(t,r){"object"==typeof e[r]&&"object"==typeof t?e[r]=x(e[r],t):e[r]=t}for(var e={},r=0,n=arguments.length;r<n;r++)_(arguments[r],t);return e}function b(t,e,r){return _(e,function(e,n){t[n]=r&&"function"==typeof e?k(e,r):e}),t}var k=r(133),w=r(248),S=Object.prototype.toString;t.exports={isArray:n,isArrayBuffer:i,isBuffer:w,isFormData:a,isArrayBufferView:o,isString:s,isNumber:u,isObject:l,isUndefined:c,isDate:f,isFile:h,isBlob:p,isFunction:y,isStream:v,isURLSearchParams:d,isStandardBrowserEnv:g,forEach:_,merge:x,extend:b,trim:m}},function(t,e,r){t.exports=r(131)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(84),i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t){return function(){var e=t.apply(this,arguments);return new i.default(function(t,r){function n(a,o){try{var s=e[a](o),u=s.value}catch(t){return void r(t)}if(!s.done)return i.default.resolve(u).then(function(t){n("next",t)},function(t){n("throw",t)});t(u)}return n("next")})}}},function(t,e){var r={};t.exports=r,function(){r.create=function(t,e){return{x:t||0,y:e||0}},r.clone=function(t){return{x:t.x,y:t.y}},r.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},r.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},r.rotate=function(t,e){var r=Math.cos(e),n=Math.sin(e);return{x:t.x*r-t.y*n,y:t.x*n+t.y*r}},r.rotateAbout=function(t,e,r,n){var i=Math.cos(e),a=Math.sin(e);n||(n={});var o=r.x+((t.x-r.x)*i-(t.y-r.y)*a);return n.y=r.y+((t.x-r.x)*a+(t.y-r.y)*i),n.x=o,n},r.normalise=function(t){var e=r.magnitude(t);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}},r.dot=function(t,e){return t.x*e.x+t.y*e.y},r.cross=function(t,e){return t.x*e.y-t.y*e.x},r.cross3=function(t,e,r){return(e.x-t.x)*(r.y-t.y)-(e.y-t.y)*(r.x-t.x)},r.add=function(t,e,r){return r||(r={}),r.x=t.x+e.x,r.y=t.y+e.y,r},r.sub=function(t,e,r){return r||(r={}),r.x=t.x-e.x,r.y=t.y-e.y,r},r.mult=function(t,e){return{x:t.x*e,y:t.y*e}},r.div=function(t,e){return{x:t.x/e,y:t.y/e}},r.perp=function(t,e){return e=!0===e?-1:1,{x:e*-t.y,y:e*t.x}},r.neg=function(t){return{x:-t.x,y:-t.y}},r.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},r._temp=[r.create(),r.create(),r.create(),r.create(),r.create(),r.create()]}()},function(t,e){var r={};t.exports=r,function(){r.create=function(t){var e={min:{x:0,y:0},max:{x:0,y:0}};return t&&r.update(e,t),e},r.update=function(t,e,r){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var n=0;n<e.length;n++){var i=e[n];i.x>t.max.x&&(t.max.x=i.x),i.x<t.min.x&&(t.min.x=i.x),i.y>t.max.y&&(t.max.y=i.y),i.y<t.min.y&&(t.min.y=i.y)}r&&(r.x>0?t.max.x+=r.x:t.min.x+=r.x,r.y>0?t.max.y+=r.y:t.min.y+=r.y)},r.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},r.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},r.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},r.shift=function(t,e){var r=t.max.x-t.min.x,n=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+r,t.min.y=e.y,t.max.y=e.y+n}}()},function(t,e,r){t.exports=!r(36)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,r){var n=r(15),i=r(108),a=r(70),o=Object.defineProperty;e.f=r(13)?Object.defineProperty:function(t,e,r){if(n(t),e=a(e,!0),n(r),i)try{return o(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){var n=r(16);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=function(){function t(){i()(this,t)}return o()(t,null,[{key:"renderContext",get:function(){return this._renderContext},set:function(t){this._renderContext=t}},{key:"activeScene",get:function(){return this._activeScene},set:function(t){this._activeScene=t}},{key:"activeProject",get:function(){return this._activeProject},set:function(t){this._activeProject=t}},{key:"activeGame",get:function(){return this._activeGame},set:function(t){this._activeGame=t}},{key:"activeProjectPath",get:function(){return this._activeProjectPath},set:function(t){this._activeProjectPath=t}}]),t}();e.a=s},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a);r(33).a.addRule("vector2",["x","y"]);var s=function(){function t(e,r){i()(this,t),this.x=0,this.y=0,this.set(e,r)}return o()(t,[{key:"set",value:function(t,e){this.x=t||0,this.y=e||0}},{key:"objectify",value:function(){return{x:this.x,y:this.y}}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"unload",value:function(){}},{key:"magnitude",value:function(){return Math.sqrt(this.sqrMagnitude())}},{key:"sqrMagnitude",value:function(){return this.x*this.x+this.y*this.y}},{key:"normalLeft",value:function(){return new t(this.y,-1*this.x)}},{key:"normalRight",value:function(){return new t(-1*this.y,this.x)}},{key:"normalize",value:function(){return t.normalize(this)}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"distanceTo",value:function(e){return t.distance(this,e)}},{key:"multiply",value:function(e){return t.multiply(this,e)}},{key:"subtract",value:function(e){return t.subtract(this,e)}},{key:"add",value:function(e){return t.add(this,e)}},{key:"toString",value:function(){return"{x: "+this.x+"; y: "+this.y+"}"}}],[{key:"restore",value:function(e){return new t(e.x,e.y)}},{key:"add",value:function(e,r){return new t(e.x+r.x,e.y+r.y)}},{key:"subtract",value:function(e,r){return new t(e.x-r.x,e.y-r.y)}},{key:"multiply",value:function(e,r){return new t(e.x*r.x,e.y*r.y)}},{key:"normalize",value:function(t){var e=1/t.magnitude();return t.x*=e,t.y*=e,t}},{key:"distance",value:function(e,r){return Math.sqrt(t.sqrDistance(e,r))}},{key:"sqrDistance",value:function(t,e){var r=t.x-e.x,n=t.y-e.y;return r*r+n*n}},{key:"transformMat4",value:function(e,r){return new t(r[0]*e.x+r[4]*e.y+r[12],r[1]*e.x+r[5]*e.y+r[13])}},{key:"transformMat3",value:function(e,r){return new t(r[0]*e.x+r[3]*e.y+r[6],r[1]*e.x+r[4]*e.y+r[7])}}]),t}();e.a=s},function(t,e,r){t.exports={default:r(175),__esModule:!0}},function(t,e,r){"use strict";r.d(e,"a",function(){return u});var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=function(){function t(e){i()(this,t),e=e||{},this._context=e.context||"Default"}return o()(t,[{key:"log",value:function(t){console.log(this._context+" | "+t)}},{key:"warn",value:function(t){console.warn(this._context+" | "+t)}},{key:"error",value:function(t){console.error(this._context+" | "+t)}}]),t}();e.b=s;var u=new s("Debug")},function(t,e,r){var n={};t.exports=n;var i=r(11),a=r(3);!function(){n.create=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=t[n],a={x:i.x,y:i.y,index:n,body:e,isInternal:!1};r.push(a)}return r},n.fromPath=function(t,e){var r=/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,i=[];return t.replace(r,function(t,e,r){i.push({x:parseFloat(e),y:parseFloat(r)})}),n.create(i,e)},n.centre=function(t){for(var e,r,a,o=n.area(t,!0),s={x:0,y:0},u=0;u<t.length;u++)a=(u+1)%t.length,e=i.cross(t[u],t[a]),r=i.mult(i.add(t[u],t[a]),e),s=i.add(s,r);return i.div(s,6*o)},n.mean=function(t){for(var e={x:0,y:0},r=0;r<t.length;r++)e.x+=t[r].x,e.y+=t[r].y;return i.div(e,t.length)},n.area=function(t,e){for(var r=0,n=t.length-1,i=0;i<t.length;i++)r+=(t[n].x-t[i].x)*(t[n].y+t[i].y),n=i;return e?r/2:Math.abs(r)/2},n.inertia=function(t,e){for(var r,n,a=0,o=0,s=t,u=0;u<s.length;u++)n=(u+1)%s.length,r=Math.abs(i.cross(s[n],s[u])),a+=r*(i.dot(s[n],s[n])+i.dot(s[n],s[u])+i.dot(s[u],s[u])),o+=r;return e/6*(a/o)},n.translate=function(t,e,r){var n;if(r)for(n=0;n<t.length;n++)t[n].x+=e.x*r,t[n].y+=e.y*r;else for(n=0;n<t.length;n++)t[n].x+=e.x,t[n].y+=e.y;return t},n.rotate=function(t,e,r){if(0!==e){for(var n=Math.cos(e),i=Math.sin(e),a=0;a<t.length;a++){var o=t[a],s=o.x-r.x,u=o.y-r.y;o.x=r.x+(s*n-u*i),o.y=r.y+(s*i+u*n)}return t}},n.contains=function(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=t[(r+1)%t.length];if((e.x-n.x)*(i.y-n.y)+(e.y-n.y)*(n.x-i.x)>0)return!1}return!0},n.scale=function(t,e,r,a){if(1===e&&1===r)return t;a=a||n.centre(t);for(var o,s,u=0;u<t.length;u++)o=t[u],s=i.sub(o,a),t[u].x=a.x+s.x*e,t[u].y=a.y+s.y*r;return t},n.chamfer=function(t,e,r,n,o){e=e||[8],e.length||(e=[e]),r=void 0!==r?r:-1,n=n||2,o=o||14;for(var s=[],u=0;u<t.length;u++){var c=t[u-1>=0?u-1:t.length-1],l=t[u],f=t[(u+1)%t.length],h=e[u<e.length?u:e.length-1];if(0!==h){var p=i.normalise({x:l.y-c.y,y:c.x-l.x}),y=i.normalise({x:f.y-l.y,y:l.x-f.x}),v=Math.sqrt(2*Math.pow(h,2)),d=i.mult(a.clone(p),h),m=i.normalise(i.mult(i.add(p,y),.5)),g=i.sub(l,i.mult(m,v)),_=r;-1===r&&(_=1.75*Math.pow(h,.32)),_=a.clamp(_,n,o),_%2==1&&(_+=1);for(var x=Math.acos(i.dot(p,y)),b=x/_,k=0;k<_;k++)s.push(i.add(i.rotate(d,b*k),g))}else s.push(l)}return s},n.clockwiseSort=function(t){var e=n.mean(t);return t.sort(function(t,r){return i.angle(e,t)-i.angle(e,r)}),t},n.isConvex=function(t){var e,r,n,i,a=0,o=t.length;if(o<3)return null;for(e=0;e<o;e++)if(r=(e+1)%o,n=(e+2)%o,i=(t[r].x-t[e].x)*(t[n].y-t[r].y),i-=(t[r].y-t[e].y)*(t[n].x-t[r].x),i<0?a|=1:i>0&&(a|=2),3===a)return!1;return 0!==a||null},n.hull=function(t){var e,r,n=[],a=[];for(t=t.slice(0),t.sort(function(t,e){var r=t.x-e.x;return 0!==r?r:t.y-e.y}),r=0;r<t.length;r++){for(e=t[r];a.length>=2&&i.cross3(a[a.length-2],a[a.length-1],e)<=0;)a.pop();a.push(e)}for(r=t.length-1;r>=0;r--){for(e=t[r];n.length>=2&&i.cross3(n[n.length-2],n[n.length-1],e)<=0;)n.pop();n.push(e)}return n.pop(),a.pop(),n.concat(a)}}()},function(t,e,r){var n={};t.exports=n;var i=r(28),a=r(3),o=r(40);!function(){n.create=function(t){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite"},t)},n.setModified=function(t,e,r,i){if(t.isModified=e,r&&t.parent&&n.setModified(t.parent,e,r,i),i)for(var a=0;a<t.composites.length;a++){var o=t.composites[a];n.setModified(o,e,r,i)}},n.add=function(t,e){var r=[].concat(e);i.trigger(t,"beforeAdd",{object:e});for(var o=0;o<r.length;o++){var s=r[o];switch(s.type){case"body":if(s.parent!==s){a.log("Composite.add: skipped adding a compound body part (you must add its parent instead)","warn");break}n.addBody(t,s);break;case"constraint":n.addConstraint(t,s);break;case"composite":n.addComposite(t,s);break;case"mouseConstraint":n.addConstraint(t,s.constraint)}}return i.trigger(t,"afterAdd",{object:e}),t},n.remove=function(t,e,r){var a=[].concat(e);i.trigger(t,"beforeRemove",{object:e});for(var o=0;o<a.length;o++){var s=a[o];switch(s.type){case"body":n.removeBody(t,s,r);break;case"constraint":n.removeConstraint(t,s,r);break;case"composite":n.removeComposite(t,s,r);break;case"mouseConstraint":n.removeConstraint(t,s.constraint)}}return i.trigger(t,"afterRemove",{object:e}),t},n.addComposite=function(t,e){return t.composites.push(e),e.parent=t,n.setModified(t,!0,!0,!1),t},n.removeComposite=function(t,e,r){var i=a.indexOf(t.composites,e);if(-1!==i&&(n.removeCompositeAt(t,i),n.setModified(t,!0,!0,!1)),r)for(var o=0;o<t.composites.length;o++)n.removeComposite(t.composites[o],e,!0);return t},n.removeCompositeAt=function(t,e){return t.composites.splice(e,1),n.setModified(t,!0,!0,!1),t},n.addBody=function(t,e){return t.bodies.push(e),n.setModified(t,!0,!0,!1),t},n.removeBody=function(t,e,r){var i=a.indexOf(t.bodies,e);if(-1!==i&&(n.removeBodyAt(t,i),n.setModified(t,!0,!0,!1)),r)for(var o=0;o<t.composites.length;o++)n.removeBody(t.composites[o],e,!0);return t},n.removeBodyAt=function(t,e){return t.bodies.splice(e,1),n.setModified(t,!0,!0,!1),t},n.addConstraint=function(t,e){return t.constraints.push(e),n.setModified(t,!0,!0,!1),t},n.removeConstraint=function(t,e,r){var i=a.indexOf(t.constraints,e);if(-1!==i&&n.removeConstraintAt(t,i),r)for(var o=0;o<t.composites.length;o++)n.removeConstraint(t.composites[o],e,!0);return t},n.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),n.setModified(t,!0,!0,!1),t},n.clear=function(t,e,r){if(r)for(var i=0;i<t.composites.length;i++)n.clear(t.composites[i],e,!0);return e?t.bodies=t.bodies.filter(function(t){return t.isStatic}):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,n.setModified(t,!0,!0,!1),t},n.allBodies=function(t){for(var e=[].concat(t.bodies),r=0;r<t.composites.length;r++)e=e.concat(n.allBodies(t.composites[r]));return e},n.allConstraints=function(t){for(var e=[].concat(t.constraints),r=0;r<t.composites.length;r++)e=e.concat(n.allConstraints(t.composites[r]));return e},n.allComposites=function(t){for(var e=[].concat(t.composites),r=0;r<t.composites.length;r++)e=e.concat(n.allComposites(t.composites[r]));return e},n.get=function(t,e,r){var i,a;switch(r){case"body":i=n.allBodies(t);break;case"constraint":i=n.allConstraints(t);break;case"composite":i=n.allComposites(t).concat(t)}return i?(a=i.filter(function(t){return t.id.toString()===e.toString()}),0===a.length?null:a[0]):null},n.move=function(t,e,r){return n.remove(t,e),n.add(r,e),t},n.rebase=function(t){for(var e=n.allBodies(t).concat(n.allConstraints(t)).concat(n.allComposites(t)),r=0;r<e.length;r++)e[r].id=a.nextId();return n.setModified(t,!0,!0,!1),t},n.translate=function(t,e,r){for(var i=r?n.allBodies(t):t.bodies,a=0;a<i.length;a++)o.translate(i[a],e);return n.setModified(t,!0,!0,!1),t},n.rotate=function(t,e,r,i){for(var a=Math.cos(e),s=Math.sin(e),u=i?n.allBodies(t):t.bodies,c=0;c<u.length;c++){var l=u[c],f=l.position.x-r.x,h=l.position.y-r.y;o.setPosition(l,{x:r.x+(f*a-h*s),y:r.y+(f*s+h*a)}),o.rotate(l,e)}return n.setModified(t,!0,!0,!1),t},n.scale=function(t,e,r,i,a){for(var s=a?n.allBodies(t):t.bodies,u=0;u<s.length;u++){var c=s[u],l=c.position.x-i.x,f=c.position.y-i.y;o.setPosition(c,{x:i.x+l*e,y:i.y+f*r}),o.scale(c,e,r)}return n.setModified(t,!0,!0,!1),t}}()},function(t,e,r){var n=r(43);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,r){var n=r(14),i=r(53);t.exports=r(13)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(139),u=r(145),c=r(150),l=r(62),f=r(26),h=r(60),p=function(){function t(){i()(this,t)}return o()(t,null,[{key:"isElectron",value:function(){return window&&window.process&&window.process.type}},{key:"isGame",value:function(t){return t instanceof s.a}},{key:"isGameScene",value:function(t){return t instanceof u.a}},{key:"isSprite",value:function(t){return t instanceof c.a}},{key:"isTexture2D",value:function(t){return t instanceof l.a}},{key:"isColor",value:function(t){return t instanceof f.a}},{key:"isFileContext",value:function(t){return t instanceof h.a}}]),t}();e.a=p},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(33),u=r(2),c=r(61);s.a.addRule("color",["r","g","b","a"]);var l=function(){function t(e,r,n,a,o){i()(this,t),this.r=0,this.g=0,this.b=0,this.a=1,this.setSpecial(e,r,n,a,o)}return o()(t,null,[{key:"CornflowerBlue",get:function(){return t.fromRGB(100,149,237)}},{key:"Scarlet",get:function(){return t.fromRGB(255,36,0)}},{key:"Red",get:function(){return t.fromRGB(255,0,0)}},{key:"Green",get:function(){return t.fromRGB(0,255,0)}},{key:"Blue",get:function(){return t.fromRGB(0,0,255)}},{key:"White",get:function(){return t.fromRGB(255,255,255)}},{key:"Black",get:function(){return t.fromRGB(0,0,0)}},{key:"Gray",get:function(){return t.fromRGB(80,80,80)}},{key:"Nephritis",get:function(){return t.fromRGB(39,174,96)}},{key:"Wisteria",get:function(){return t.fromRGB(142,68,173)}},{key:"Amethyst",get:function(){return t.fromRGB(155,89,182)}},{key:"Carrot",get:function(){return t.fromRGB(230,126,34)}},{key:"Pumpkin",get:function(){return t.fromRGB(211,84,0)}},{key:"Orange",get:function(){return t.fromRGB(243,156,18)}},{key:"SunFlower",get:function(){return t.fromRGB(241,196,15)}},{key:"Alizarin",get:function(){return t.fromRGB(231,76,60)}}]),o()(t,[{key:"clone",value:function(){return new t(this.r,this.g,this.b,this.a,!1)}},{key:"setSpecial",value:function(t,e,r,n,i){var a=this,o=1;!0===i&&(a=this.toRGBA(),o=255),t=Object(u.h)(t)?t:a.r,e=Object(u.h)(e)?e:a.g,r=Object(u.h)(r)?r:a.b,n=Object(u.h)(n)?n:a.a,this.r=c.a.clamp(t,0,o)/o,this.g=c.a.clamp(e,0,o)/o,this.b=c.a.clamp(r,0,o)/o,this.a=c.a.clamp(n,0,1)}},{key:"set",value:function(t,e,r,n){this.setSpecial(t,e,r,n,!1)}},{key:"setAsRGBA",value:function(t,e,r,n){this.setSpecial(t,e,r,n,!0)}},{key:"equalsIgnoreAlpha",value:function(t){return Object(u.h)(t.r)&&Object(u.h)(t.g)&&Object(u.h)(t.b)?t.r===this.r&&t.g===this.g&&t.b===this.b:null}},{key:"equals",value:function(t){return Object(u.h)(t.a)?this.equalsIgnoreAlpha(t)&&t.a===this.a:null}},{key:"objectify",value:function(){return{r:this.r,g:this.g,b:this.b,a:this.a}}},{key:"toRGBA",value:function(){return{r:255*this.r,g:255*this.g,b:255*this.b,a:this.a}}},{key:"toHex",value:function(){var e=this.toRGBA();return t.rgbToHex(e.r,e.g,e.b)}},{key:"toArray",value:function(){return[this.r,this.g,this.b,this.a]}},{key:"toFloat32Array",value:function(){return new Float32Array([this.r,this.g,this.b,this.a])}},{key:"unload",value:function(){}}],[{key:"restore",value:function(e){return new t(e.r,e.g,e.b,e.a,!1)}},{key:"fromRGBA",value:function(e,r,n,i){return Object(u.h)(e)&&Object(u.h)(r)&&Object(u.h)(n)&&Object(u.h)(i)?new t(e,r,n,i,!0):null}},{key:"fromHex",value:function(e){if(!Object(u.j)(e))return null;var r=t.hexToRGBA(e);return r?t.fromRGBA(r.r,r.g,r.b,r.a):null}},{key:"fromRGB",value:function(e,r,n){return t.fromRGBA(e,r,n,1)}},{key:"random",value:function(e){return e=Object(u.h)(e)?e:1,t.fromRGBA(255*Math.random(),255*Math.random(),255*Math.random(),e)}},{key:"rgbToHex",value:function(t,e,r){return Object(u.h)(t)&&Object(u.h)(e)&&Object(u.h)(r)?(t=c.a.clamp(t,0,255),e=c.a.clamp(e,0,255),r=c.a.clamp(r,0,255),"#"+((1<<24)+(t<<16)+(e<<8)+r).toString(16).slice(1)):""}},{key:"hexToRGBA",value:function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d]?)$/i;t=t.replace(e,function(t,e,r,n,i){return e+e+r+r+n+n+i+i});var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(t);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16),a:"undefined"!=r[4]?parseInt(r[4],16)/255:1}:null}}]),t}();e.a=l},function(t,e,r){t.exports={default:r(272),__esModule:!0}},function(t,e,r){var n={};t.exports=n;var i=r(3);!function(){n.on=function(t,e,r){for(var n,i=e.split(" "),a=0;a<i.length;a++)n=i[a],t.events=t.events||{},t.events[n]=t.events[n]||[],t.events[n].push(r);return r},n.off=function(t,e,r){if(!e)return void(t.events={});"function"==typeof e&&(r=e,e=i.keys(t.events).join(" "));for(var n=e.split(" "),a=0;a<n.length;a++){var o=t.events[n[a]],s=[];if(r&&o)for(var u=0;u<o.length;u++)o[u]!==r&&s.push(o[u]);t.events[n[a]]=s}},n.trigger=function(t,e,r){var n,a,o,s;if(t.events){r||(r={}),n=e.split(" ");for(var u=0;u<n.length;u++)if(a=n[u],o=t.events[a]){s=i.clone(r,!1),s.name=a,s.source=t;for(var c=0;c<o.length;c++)o[c].apply(t,[s])}}}}()},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){var n=r(111),i=r(75);t.exports=function(t){return n(i(t))}},function(t,e,r){"use strict";r.d(e,"a",function(){return h});var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(19),u=r.n(s),c=r(2),l=u()("attributeDictionarySingleton"),f=function(){function t(e){if(i()(this,t),l!==e)throw new Error("Cannot instantiate directly.");this._rules={},this._inheritance={}}return o()(t,[{key:"addRule",value:function(t,e,r){return!!Object(c.i)(t)&&(t=t.toLowerCase(),Object(c.i)(this._rules[t])||(this._rules[t]={}),this._rules[t][e]=r,!0)}},{key:"getRule",value:function(t,e){if(t=t.toLowerCase(),this._rules[t]&&this._rules[t][e])return this._rules[t][e];if(this._inheritance[t])for(var r=0;r<this._inheritance[t].length;++r){var n=this.getRule(this._inheritance[t][r],e);if(null!=n)return n}return null}},{key:"inherit",value:function(t,e){t=t.toLowerCase(),e=e.toLowerCase(),Object(c.i)(this._inheritance[t])||(this._inheritance[t]=[]),this._inheritance[t].push(e)}}],[{key:"instance",get:function(){return this[l]||(this[l]=new t(l)),this[l]}}]),t}(),h=f.instance},function(t,e,r){(function(e){!function(e,r){t.exports=r()}(0,function(){"use strict";function t(t){if(t.hasErrors()){var e=t.input,r=t.context,n=[],i=!0,a=!1,o=void 0;try{for(var s,u=t.errors[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=ht(c,3),f=l[0],y=l[1],v=l[2],d=v?v.toString():null,m=r.typeOf(p(e,f)).toString(),g=h(t.path.concat(f)),_="/"+f.join("/");n.push({pointer:_,field:g,message:y,expected:d,actual:m})}}catch(t){a=!0,o=t}finally{try{!i&&u.return&&u.return()}finally{if(a)throw o}}return n}}function n(t,e){try{var r=yt.get(t);return!!r&&c(r,e)}catch(t){return!0}}function i(t,e){var r=yt.get(t);r||(r=new WeakSet,yt.set(t,r)),l(r,e)}function a(t,e){var r=yt.get(t);r&&f(r,e)}function o(t){return vt.has(t)}function s(t){vt.add(t)}function u(t){vt.delete(t)}function c(t,e){try{return t.has(e)}catch(t){return!0}}function l(t,e){try{t.add(e)}catch(t){}}function f(t,e){try{t.delete(e)}catch(t){}}function h(t){if(!t.length)return"Value";for(var e=t.length,r=new Array(e),n=0;n<e;n++){var i=t[n];"[[Return Type]]"===i?r[n]="Return Type":"string"==typeof i&&dt.test(i)?r[n]=n>0?"."+String(i):String(i):r[n]="["+String(i)+"]"}return r.join("")}function p(t,e){for(var r=t,n=e.length,i=0;i<n;i++){if(null==r)return;var a=e[i];"[[Return Type]]"!==a&&(r=r instanceof Map?r.get(a):r[a])}return r}function y(t,e){var r=t.length;if(r>e.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function v(t){if(t.hasErrors()){var e=t.prefix,r=t.input,n=t.context,i=[],a=!0,o=!1,s=void 0;try{for(var u,c=t.errors[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value,f=ht(l,3),y=f[0],v=f[1],m=f[2],g=m?m.toString():"*",_=p(r,y),x=n.typeOf(_).toString(),b=h(t.path.concat(y)),k=d(_);"string"==typeof k?i.push(b+" "+v+"\n\nExpected: "+g+"\n\nActual Value: "+k+"\n\nActual Type: "+x+"\n"):i.push(b+" "+v+"\n\nExpected: "+g+"\n\nActual: "+x+"\n")}}catch(t){o=!0,s=t}finally{try{!a&&c.return&&c.return()}finally{if(o)throw s}}return new gt(e?e.trim()+" "+i.join(_t):i.join(_t))}}function d(t){if(null===t)return"null";switch(void 0===t?"undefined":at(t)){case"string":return'"'+t+'"';case"symbol":case"number":case"boolean":case"undefined":return String(t);case"function":return;default:if(Array.isArray(t)||null==t.constructor||t.constructor===Object)try{return JSON.stringify(t,null,2)}catch(t){return}return}}function m(t,e){return v(t.context.validate(t,e))}function g(t,e){var r=void 0;if(t===e)return 0;if((e instanceof Rt||e instanceof Dt||e instanceof Ot||e instanceof Ne)&&(e=e.unwrap()),t instanceof Rt)r=t.compareWith(e);else if(t instanceof Mt||t instanceof Dt||e instanceof Mt)r=t.compareWith(e);else{if(t instanceof bt||t instanceof At||t instanceof ge)return 1;r=t.compareWith(e)}return e instanceof bt?1:r}function _(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=kt[t];return r.length>0?i.replace(/\$(\d+)/g,function(t,e){return String(r[e])}):i}function x(t){for(var e,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(e=t.constraints).push.apply(e,pt(n))}function b(t,e,r){for(var n=arguments.length,i=Array(n>3?n-3:0),a=3;a<n;a++)i[a-3]=arguments[a];var o,s,u,c,l;return it.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=t.constraints,s=o.length,u=0;case 3:if(!(u<s)){e.next=12;break}if(c=o[u],"string"!=typeof(l=c.apply(void 0,pt(i)))){e.next=9;break}return e.next=9,[r,l,this];case 9:u++,e.next=3;break;case 12:case"end":return e.stop()}},Ct,this)}function k(t){for(var e=t.constraints,r=e.length,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];for(var o=0;o<r;o++){if("string"==typeof e[o].apply(void 0,pt(i)))return!1}return!0}function w(t){var e=t[jt];if(e)return e;var r=new Mt(t.context);return r.typeParameter=t,t[jt]=r,r}function S(t,e){if(!t){var r=new Error(e);throw r.name="InvariantViolation","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(r,S),r}}function T(t){for(var e=t.split("\n"),r=e.length,n=0;n<r;n++)e[n]="  "+e[n];return e.join("\n")}function E(t){var e=t.context,r=t.bodyCreator,n=new le(e),i=r(n);Array.isArray(i)?n.type=e.class.apply(e,[t.name].concat(pt(i))):n.type=e.class(t.name,i),n.type.shapeID=t.shapeID;for(var a=n.typeParameters,o=arguments.length,s=Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];for(var c=Math.min(s.length,a.length),l=0;l<c;l++){var f=a[l],h=s[l];f.bound&&f.bound!==h?f.bound=e.intersect(f.bound,h):f.bound=h}return n}function P(t,e){for(var r=t.callProperties,n=0;n<r.length;n++){if(r[n].accepts(e))return!0}return!1}function A(t,e){var r=t.callProperties,n=e.callProperties,i=0;t:for(var a=0;a<r.length;a++){for(var o=r[a],s=0;s<n.length;s++){var u=n[s],c=g(o,u);if(0===c){i++;continue t}if(1===c)continue t}return-1}return i===r.length?0:1}function O(t,e){for(var r=t.properties,n=t.indexers,i=[],a=0;a<r.length;a++){var o=r[a];if(!o.accepts(e))return!1;i.push(o.key)}t:for(var s in e)if(-1===i.indexOf(s)){for(var u=e[s],c=0;c<n.length;c++){var l=n[c];if(l.acceptsKey(s)&&l.acceptsValue(u))continue t}return!1}return!0}function C(t,e){var r=t.indexers,n=t.properties,i=e.indexers,a=e.properties,o=!1;t:for(var s=0;s<n.length;s++)for(var u=n[s],c=0;c<a.length;c++){var l=a[c];if(l.key===u.key){var f=g(u,l);if(-1===f)return-1;1===f&&(o=!0);continue t}}t:for(var h=0;h<r.length;h++){for(var p=r[h],y=0;y<i.length;y++){var v=i[y],d=g(p,v);if(1===d){o=!0;continue t}if(0===d)continue t}return-1}return o?1:0}function R(t,e){for(var r=t.properties,n=0;n<r.length;n++){if(!r[n].accepts(e))return!1}return!0}function j(t,e){var r=t.properties;for(var n in e){var i=function(t){if(!r.some(function(e){return e.key===t}))return{v:!1}}(n);if("object"===(void 0===i?"undefined":at(i)))return i.v}return!0}function D(t,e){var r=t.properties,n=e.properties,i=!1;t:for(var a=0;a<r.length;a++){for(var o=r[a],s=0;s<n.length;s++){var u=n[s];if(u.key===o.key){var c=g(o.value,u.value);if(-1===c)return-1;1===c&&(i=!0);continue t}}return-1}return i?1:0}function M(t,e,r,n){var i,a,o,s,u,c,l,f,h;return it.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:i=t.properties,a=t.indexers,o=[],s=0;case 3:if(!(s<i.length)){p.next=10;break}return u=i[s],p.delegateYield(u.errors(e,r,n),"t0",6);case 6:o.push(u.key);case 7:s++,p.next=3;break;case 10:p.t1=it.keys(n);case 11:if((p.t2=p.t1()).done){p.next=28;break}if(c=p.t2.value,-1===o.indexOf(c)){p.next=15;break}return p.abrupt("continue",11);case 15:l=n[c],f=0;case 17:if(!(f<a.length)){p.next=24;break}if(h=a[f],!h.acceptsKey(c)||!h.acceptsValue(l)){p.next=21;break}return p.abrupt("continue",11);case 21:f++,p.next=17;break;case 24:return p.next=26,[r.concat(c),_("ERR_NO_INDEXER"),t];case 26:p.next=11;break;case 28:case"end":return p.stop()}},pe,this)}function I(t,e,r,n){var i,a,o;return it.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:i=t.properties,a=0;case 2:if(!(a<i.length)){s.next=8;break}return o=i[a],s.delegateYield(o.errors(e,r,n),"t0",5);case 5:a++,s.next=2;break;case 8:case"end":return s.stop()}},ye,this)}function N(t,e,r,n){var i,a,o,s=this;return it.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=t.properties,a=it.mark(function e(n){return it.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.some(function(t){return t.key===n})){e.next=3;break}return e.next=3,[r,_("ERR_UNKNOWN_KEY",n),t];case 3:case"end":return e.stop()}},e,s)}),e.t0=it.keys(n);case 3:if((e.t1=e.t0()).done){e.next=8;break}return o=e.t1.value,e.delegateYield(a(o),"t2",6);case 6:e.next=3;break;case 8:case"end":return e.stop()}},ve,this)}function L(t){for(var e=t.split("\n"),r=e.length,n=0;n<r;n++)e[n]="  "+e[n];return e.join("\n")}function B(t,e){for(var r=0;r<e.length;r++)if(e[r].name===t)return r;return-1}function F(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=B(n.key,t);-1===i?t.push(n):t[i]=n}return t}function W(t){var e=t.typeCreator,r=t.context,n=t.name,i=new le(r);i.name=n,i.type=e(i),i.constraints=t.constraints;for(var a=i.typeParameters,o=arguments.length,s=Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];for(var c=Math.min(s.length,a.length),l=0;l<c;l++){var f=a[l],h=s[l];f.bound&&f.bound!==h?f.bound=r.intersect(f.bound,h):f.bound=h}return i}function G(t){var e=t.context,r=t.bodyCreator,n=new le(e),i=r(n);n.type=e.function.apply(e,pt(i));for(var a=n.typeParameters,o=arguments.length,s=Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];for(var c=Math.min(s.length,a.length),l=0;l<c;l++){var f=a[l],h=s[l];f.bound&&f.bound!==h?f.bound=e.intersect(f.bound,h):f.bound=h}return n}function U(t){var e=t[Ie];if(e)return e;var r=t.reveal,n=r();if(!n){if(!De.has(t)){var i=t[Me];i?t.context.emitWarningMessage('Failed to reveal type called "'+i+'" in Temporal Dead Zone.'):t.context.emitWarningMessage("Failed to reveal unknown type in Temporal Dead Zone."),De.add(t)}return t.context.mixed()}return n instanceof xt?n:t.context.ref(n)}function z(t){var e={};if(!t.properties)return e;var r=!0,n=!1,i=void 0;try{for(var a,o=t.properties[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;!function(t){e[t.key]=function(e,r,n){return m(t,e)}}(s)}}catch(t){n=!0,i=t}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}return e}function V(t){if(t.hasErrors()){var e=t.input,r=t.context,n=[],i=!0,a=!1,o=void 0;try{for(var s,u=t.errors[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=ht(c,3),f=l[0],y=l[1],v=l[2],d=v?v.toString():"*",m=r.typeOf(p(e,f)).toString(),g=h(t.path.concat(f));n.push(g+" "+y+"\n\nExpected: "+d+"\n\nActual: "+m+"\n")}}catch(t){a=!0,o=t}finally{try{!i&&u.return&&u.return()}finally{if(a)throw o}}return"Warning: "+n.join(Fe)}}function X(t,e){for(var r=e.length,n=[],i=0;i<r;i++){var a=e[i];if(a instanceof bt||a instanceof ge||a instanceof At)return a;a instanceof Le?q(n,a.types):n.push(a)}var o=new Le(t);return o.types=n,o}function q(t,e){t:for(var r=0;r<e.length;r++){for(var n=e[r],i=0;i<t.length;i++){var a=t[i];if(-1!==g(a,n))continue t}t.push(n)}}function H(t,e,r,n,i){return"function"==typeof n.get&&"function"==typeof n.set?Z(t,e,r,n,i):$(t,e,r,n,i)}function K(t){return"_flowRuntime$"+t}function Y(t){return"function"==typeof t?t.name||"[Class anonymous]":"function"==typeof t.constructor?Y(t.constructor):"[Class anonymous]"}function J(t,e){return"function"==typeof e?e.call(t):e}function $(t,e,r,n,i){var a=K(r),o=Y(e),s=n.initializer,u=(n.writable,lt(n,["initializer","writable"])),c=[o,r];return ut({},u,{type:"accessor",get:function(){if(a in this)return this[a];if(s){var e=J(this,t),r=s.call(this);return e.context.check(e,r,"Default value for property",c),Object.defineProperty(this,a,{writable:!0,value:r}),r}Object.defineProperty(this,a,{writable:!0,value:void 0})},set:function(e){var r=J(this,t),n=r.context;i?n.assert(r,e,"Property",c):n.warn(r,e,"Property",c),a in this?this[a]=e:Object.defineProperty(this,a,{writable:!0,value:e})}})}function Z(t,e,r,n,i){var a=Y(e),o=[a,r],s=n.set;n.set=function(e){var r=J(this,t),n=r.context;i?n.assert(r,e,"Property",o):n.warn(r,e,"Property",o),s.call(this,e)}}function Q(t,e){if(e instanceof xt)return t[Vt]=e,t;var r=t;return function(t){return t[Vt]=r,t}}function tt(t,e,r){var n=e.impl;if("function"!=typeof n)return!0;if(n===r||n.isPrototypeOf(r))return!0;var i=t.getAnnotation(n);return null!=i&&et(t,i,r)}function et(t,e,r){var n=t.getAnnotation(r);if(null!=n){return-1!==g(e,n)}return!0}function rt(t){return{value:t}}var nt={},it=r(131),at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},st=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),ut=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ct=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},lt=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},ft=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},ht=function(){function t(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),pt=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)},yt=new WeakMap,vt=new WeakSet,dt=/^[$A-Z_][0-9A-Z_$[\].]*$/i,mt=function(){function e(t,r){ot(this,e),this.path=[],this.prefix="",this.errors=[],this.cyclic=new WeakMap,this.context=t,this.input=r}return st(e,[{key:"inCycle",value:function(t,e){var r=this.cyclic.get(t);return!!r&&c(r,e)}},{key:"startCycle",value:function(t,e){var r=this.cyclic.get(t);r||(r=new WeakSet,this.cyclic.set(t,r)),l(r,e)}},{key:"endCycle",value:function(t,e){var r=this.cyclic.get(t);r&&f(r,e)}},{key:"hasErrors",value:function(t){if(t){var e=!0,r=!1,n=void 0;try{for(var i,a=this.errors[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value;if(y(t,ht(o,1)[0]))return!0}}catch(t){r=!0,n=t}finally{try{!e&&a.return&&a.return()}finally{if(r)throw n}}return!1}return this.errors.length>0}},{key:"addError",value:function(t,e,r){return this.errors.push([t,r,e]),this}},{key:"clearError",value:function(t){var e=!1;if(t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=this.errors[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;y(t,u[0])?e=!0:r.push(u)}}catch(t){i=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}this.errors=r}else e=this.errors.length>0,this.errors=[];return e}},{key:"resolvePath",value:function(t){return p(this.input,t)}},{key:"toJSON",value:function(){return t(this)}}]),e}(),gt=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.name="RuntimeTypeError",i=r,ft(n,i)}return ct(e,t),e}(TypeError),_t="\n-------------------------------------------------\n\n",xt=function(){function t(e){ot(this,t),this.typeName="Type",this.context=e}return st(t,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){var e=new mt(this.context,t),r=!0,n=!1,i=void 0;try{for(var a,o=this.errors(e,[],t)[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){a.value;return!1}}catch(t){n=!0,i=t}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}return!0}},{key:"acceptsType",value:function(t){return-1!==g(this,t)}},{key:"compareWith",value:function(t){return-1}},{key:"assert",value:function(t){var e=m(this,t);if(e)throw"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(e,this.assert),e;return t}},{key:"unwrap",value:function(){return this}},{key:"toString",value:function(){return"$Type"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(),bt=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="AnyType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return!0}},{key:"compareWith",value:function(t){return 1}},{key:"toString",value:function(){return"any"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),e}(xt),kt={ERR_CONSTRAINT_VIOLATION:"violated a constraint",ERR_EXPECT_ARRAY:"must be an Array",ERR_EXPECT_TRUE:"must be true",ERR_EXPECT_FALSE:"must be false",ERR_EXPECT_BOOLEAN:"must be true or false",ERR_EXPECT_EMPTY:"must be empty",ERR_EXPECT_EXACT_VALUE:"must be exactly $0",ERR_EXPECT_CALLABLE:"must be callable",ERR_EXPECT_CLASS:"must be a Class of $0",ERR_EXPECT_FUNCTION:"must be a function",ERR_EXPECT_GENERATOR:"must be a generator function",ERR_EXPECT_ITERABLE:"must be iterable",ERR_EXPECT_ARGUMENT:'argument "$0" must be: $1',ERR_EXPECT_RETURN:"expected return type of: $0",ERR_EXPECT_N_ARGUMENTS:"requires $0 argument(s)",ERR_EXPECT_INSTANCEOF:"must be an instance of $0",ERR_EXPECT_KEY_TYPE:"keys must be: $0",ERR_EXPECT_NULL:"must be null",ERR_EXPECT_NUMBER:"must be a number",ERR_EXPECT_OBJECT:"must be an object",ERR_EXPECT_PROMISE:"must be a promise of $0",ERR_EXPECT_STRING:"must be a string",ERR_EXPECT_SYMBOL:"must be a symbol",ERR_EXPECT_THIS:"must be exactly this",ERR_EXPECT_VOID:"must be undefined",ERR_INVALID_DATE:"must be a valid date",ERR_MISSING_PROPERTY:"does not exist on object",ERR_NO_INDEXER:"is not one of the permitted indexer types",ERR_NO_UNION:"must be one of: $0",ERR_UNKNOWN_KEY:'should not contain the key: "$0"'},wt=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="TupleType",n.types=[],i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.types,a=i.length,o=this.context,o.checkPredicate("Array",n)){t.next=7;break}return t.next=6,[r,_("ERR_EXPECT_ARRAY"),this];case 6:return t.abrupt("return");case 7:s=0;case 8:if(!(s<a)){t.next=13;break}return t.delegateYield(i[s].errors(e,r.concat(s),n[s]),"t0",10);case 10:s++,t.next=8;break;case 13:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){var e=this.types,r=e.length;if(!this.context.checkPredicate("Array",t)||t.length<r)return!1;for(var n=0;n<r;n++){if(!e[n].accepts(t[n]))return!1}return!0}},{key:"compareWith",value:function(t){if(!(t instanceof e))return-1;var r=this.types,n=t.types;if(n.length<r.length)return-1;for(var i=!1,a=0;a<r.length;a++){var o=g(r[a],n[a]);if(1===o)i=!0;else if(-1===o)return-1}return r.length<n.length?0:i?1:0}},{key:"toString",value:function(){return"["+this.types.join(", ")+"]"}},{key:"toJSON",value:function(){return{typeName:this.typeName,types:this.types}}}]),e}(xt),St=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="ArrayType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.context,i.checkPredicate("Array",n)){t.next=5;break}return t.next=4,[r,_("ERR_EXPECT_ARRAY"),this];case 4:return t.abrupt("return");case 5:if(!e.inCycle(this,n)){t.next=7;break}return t.abrupt("return");case 7:e.startCycle(this,n),a=this.elementType,o=n.length,s=0;case 11:if(!(s<o)){t.next=16;break}return t.delegateYield(a.errors(e,r.concat(s),n[s]),"t0",13);case 13:s++,t.next=11;break;case 16:e.endCycle(this,n);case 17:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){if(!this.context.checkPredicate("Array",t))return!1;if(n(this,t))return!0;i(this,t);for(var e=this.elementType,r=t.length,o=0;o<r;o++)if(!e.accepts(t[o]))return a(this,t),!1;return a(this,t),!0}},{key:"compareWith",value:function(t){var r=this.elementType;if(t instanceof wt){for(var n=t.types,i=0;i<n.length;i++){if(-1===g(r,n[i]))return-1}return 1}return t instanceof e?g(r,t.elementType):-1}},{key:"toString",value:function(){var t=this.elementType;if(o(this))return"string"==typeof t.name?"Array<$Cycle<"+t.name+">>":"Array<$Cycle<Object>>";s(this);var e="Array<"+t.toString()+">";return u(this),e}},{key:"toJSON",value:function(){return{typeName:this.typeName,elementType:this.elementType}}}]),e}(xt),Tt=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="BooleanLiteralType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n===this.value){t.next=3;break}return t.next=3,[r,_(this.value?"ERR_EXPECT_TRUE":"ERR_EXPECT_FALSE"),this];case 3:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return t===this.value}},{key:"compareWith",value:function(t){return t instanceof e&&t.value===this.value?0:-1}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"toJSON",value:function(){return{type:this.typeName,value:this.value}}}]),e}(xt),Et=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="BooleanType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("boolean"==typeof n){t.next=3;break}return t.next=3,[r,_("ERR_EXPECT_BOOLEAN"),this];case 3:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return"boolean"==typeof t}},{key:"compareWith",value:function(t){return t instanceof Tt?1:t instanceof e?0:-1}},{key:"toString",value:function(){return"boolean"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),e}(xt),Pt=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="EmptyType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,[r,_("ERR_EXPECT_EMPTY"),this];case 2:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return!1}},{key:"compareWith",value:function(t){return t instanceof e?0:-1}},{key:"toString",value:function(){return"empty"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),e}(xt),At=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="ExistentialType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return!0}},{key:"compareWith",value:function(t){return 1}},{key:"toString",value:function(){return"*"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),e}(xt),Ot=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="TypeParameterApplication",n.typeInstances=[],i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.parent,a=this.typeInstances,t.delegateYield(i.errors.apply(i,[e,r,n].concat(pt(a))),"t0",2);case 2:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){var e=this.parent,r=this.typeInstances;return e.accepts.apply(e,[t].concat(pt(r)))}},{key:"compareWith",value:function(t){var e;return(e=this.parent).compareWith.apply(e,[t].concat(pt(this.typeInstances)))}},{key:"hasProperty",value:function(t){var e=this.parent;if(e&&"function"==typeof e.hasProperty){var r;return(r=e).hasProperty.apply(r,[t].concat(pt(this.typeInstances)))}return!1}},{key:"getProperty",value:function(t){var e=this.parent;if(e&&"function"==typeof e.getProperty){var r;return(r=e).getProperty.apply(r,[t].concat(pt(this.typeInstances)))}}},{key:"unwrap",value:function(){var t;return(t=this.parent).unwrap.apply(t,pt(this.typeInstances))}},{key:"toString",value:function(){var t=this.parent,e=this.typeInstances,r=t.name;if(e.length){for(var n=[],i=0;i<e.length;i++){var a=e[i];n.push(a.toString())}return r+"<"+n.join(", ")+">"}return r}},{key:"toJSON",value:function(){return{typeName:this.typeName,typeInstances:this.typeInstances}}}]),e}(xt),Ct=it.mark(b),Rt=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="TypeAlias",n.constraints=[],i=r,ft(n,i)}return ct(e,t),st(e,[{key:"addConstraint",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return x.apply(void 0,[this].concat(pt(e))),this}},{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s,u,c,l,f;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.type,a=!1,o=!0,s=!1,u=void 0,t.prev=5,c=i.errors(e,r,n)[Symbol.iterator]();case 7:if(o=(l=c.next()).done){t.next=15;break}return f=l.value,a=!0,t.next=12,f;case 12:o=!0,t.next=7;break;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(5),s=!0,u=t.t0;case 21:t.prev=21,t.prev=22,!o&&c.return&&c.return();case 24:if(t.prev=24,!s){t.next=27;break}throw u;case 27:return t.finish(24);case 28:return t.finish(21);case 29:if(a){t.next=31;break}return t.delegateYield(b(this,e,r,n),"t1",31);case 31:case"end":return t.stop()}},t,this,[[5,17,21,29],[22,,24,28]])})},{key:"accepts",value:function(t){return!!this.type.accepts(t)&&!!k(this,t)}},{key:"compareWith",value:function(t){return t===this?0:this.hasConstraints?-1:g(this.type,t)}},{key:"apply",value:function(){var t=new Ot(this.context);t.parent=this;for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.typeInstances=r,t}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"hasProperty",value:function(t){var e=this.unwrap();return!(!e||"function"!=typeof e.hasProperty)&&e.hasProperty(t)}},{key:"getProperty",value:function(t){var e=this.unwrap();if(e&&"function"==typeof e.getProperty)return e.getProperty(t)}},{key:"toString",value:function(t){var e=this.name,r=this.type;return t?"type "+e+" = "+r.toString()+";":e}},{key:"toJSON",value:function(){return{typeName:this.typeName,name:this.name,type:this.type}}},{key:"properties",get:function(){return this.type.properties}},{key:"hasConstraints",get:function(){return this.constraints.length>0}}]),e}(xt),jt=Symbol("FlowInto"),Dt=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="TypeParameter",n[jt]=null,i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s,u,c,l,f,h,p;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.bound||this.default,a=this.recorded,o=this.context,!(i instanceof Mt||i instanceof Rt)){t.next=7;break}return t.delegateYield(i.errors(e,r,n),"t0",4);case 4:return t.abrupt("return");case 7:if(!a){t.next=12;break}return t.delegateYield(a.errors(e,r,n),"t1",9);case 9:return t.abrupt("return");case 12:if(!i){t.next=47;break}if("AnyType"!==i.typeName&&"ExistentialType"!==i.typeName){t.next=17;break}return t.abrupt("return");case 17:s=!1,u=!0,c=!1,l=void 0,t.prev=21,f=i.errors(e,r,n)[Symbol.iterator]();case 23:if(u=(h=f.next()).done){t.next=31;break}return p=h.value,s=!0,t.next=28,p;case 28:u=!0,t.next=23;break;case 31:t.next=37;break;case 33:t.prev=33,t.t2=t.catch(21),c=!0,l=t.t2;case 37:t.prev=37,t.prev=38,!u&&f.return&&f.return();case 40:if(t.prev=40,!c){t.next=43;break}throw l;case 43:return t.finish(40);case 44:return t.finish(37);case 45:if(!s){t.next=47;break}return t.abrupt("return");case 47:this.recorded=o.typeOf(n);case 48:case"end":return t.stop()}},t,this,[[21,33,37,45],[38,,40,44]])})},{key:"accepts",value:function(t){var e=this.bound||this.default,r=this.recorded,n=this.context;if(e instanceof Mt||e instanceof Rt)return e.accepts(t);if(r)return r.accepts(t);if(e){if("AnyType"===e.typeName||"ExistentialType"===e.typeName)return!0;if(!e.accepts(t))return!1}return this.recorded=n.typeOf(t),!0}},{key:"compareWith",value:function(t){var r=this.bound||this.default,n=this.recorded;return t instanceof e?1:n?g(n,t):r?g(r,t):1}},{key:"unwrap",value:function(){var t=this.bound||this.default,e=this.recorded;return e?e.unwrap():t?t.unwrap():this}},{key:"toString",value:function(t){var e=this.id,r=this.bound,n=this.default;if(t){if(n)return e+" = "+n.toString();if(r)return e+": "+r.toString()}return e}},{key:"toJSON",value:function(){return{typeName:this.typeName,id:this.id,bound:this.bound,recorded:this.recorded}}}]),e}(xt),Mt=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="FlowIntoType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(r,n,i){var a,o,s,u,c,l,f,h,p,y,v,d,m,g,_,x,b,k;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this.typeParameter,o=this.context,s=a.recorded,u=a.bound,!(u instanceof e)){t.next=5;break}return t.delegateYield(u.errors(r,n,i),"t0",4);case 4:return t.abrupt("return");case 5:if(!s){t.next=47;break}if(!u){t.next=39;break}c=!1,l=!0,f=!1,h=void 0,t.prev=11,p=u.errors(r,n,i)[Symbol.iterator]();case 13:if(l=(y=p.next()).done){t.next=21;break}return v=y.value,t.next=17,v;case 17:c=!0;case 18:l=!0,t.next=13;break;case 21:t.next=27;break;case 23:t.prev=23,t.t1=t.catch(11),f=!0,h=t.t1;case 27:t.prev=27,t.prev=28,!l&&p.return&&p.return();case 30:if(t.prev=30,!f){t.next=33;break}throw h;case 33:return t.finish(30);case 34:return t.finish(27);case 35:if(!c){t.next=37;break}return t.abrupt("return");case 37:t.next=45;break;case 39:if(!s.accepts(i)){t.next=43;break}return t.abrupt("return");case 43:return a.recorded=o.union(s,o.typeOf(i)),t.abrupt("return");case 45:t.next=82;break;case 47:if(!u){t.next=82;break}if("AnyType"!==u.typeName&&"ExistentialType"!==u.typeName){t.next=52;break}return t.abrupt("return");case 52:d=!1,m=!0,g=!1,_=void 0,t.prev=56,x=u.errors(r,n,i)[Symbol.iterator]();case 58:if(m=(b=x.next()).done){t.next=66;break}return k=b.value,t.next=62,k;case 62:d=!0;case 63:m=!0,t.next=58;break;case 66:t.next=72;break;case 68:t.prev=68,t.t2=t.catch(56),g=!0,_=t.t2;case 72:t.prev=72,t.prev=73,!m&&x.return&&x.return();case 75:if(t.prev=75,!g){t.next=78;break}throw _;case 78:return t.finish(75);case 79:return t.finish(72);case 80:if(!d){t.next=82;break}return t.abrupt("return");case 82:a.recorded=o.typeOf(i);case 83:case"end":return t.stop()}},t,this,[[11,23,27,35],[28,,30,34],[56,68,72,80],[73,,75,79]])})},{key:"accepts",value:function(t){var r=this.typeParameter,n=this.context,i=r.recorded,a=r.bound;if(a instanceof e)return a.accepts(t);if(i)return!(a&&!a.accepts(t))&&(!!i.accepts(t)||(r.recorded=n.union(i,n.typeOf(t)),!0));if(a){if("AnyType"===a.typeName||"ExistentialType"===a.typeName)return!0;if(!a.accepts(t))return!1}return r.recorded=n.typeOf(t),!0}},{key:"compareWith",value:function(t){var r=this.typeParameter,n=this.context,i=r.recorded,a=r.bound;if(a instanceof e)return a.compareWith(t);if(i){if(a&&-1===g(a,t))return-1;return 0===g(i,t)?0:(r.recorded=n.union(i,t),1)}if(a){if("AnyType"===a.typeName||"ExistentialType"===a.typeName)return 1;if(-1===g(a,t))return-1}return r.recorded=t,0}},{key:"unwrap",value:function(){return this.typeParameter.unwrap()}},{key:"toString",value:function(t){return this.typeParameter.toString(t)}},{key:"toJSON",value:function(){return this.typeParameter.toJSON()}}]),e}(xt),It=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="FunctionTypeRestParam",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.type,t.delegateYield(i.errors(e,r,n),"t0",2);case 2:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return this.type.accepts(t)}},{key:"compareWith",value:function(t){return t instanceof Nt||t instanceof e?g(this.type,t.type):-1===g(this.type,t)?-1:1}},{key:"toString",value:function(){var t=this.type;return"..."+this.name+": "+t.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,name:this.name,type:this.type}}}]),e}(xt),Nt=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="FunctionTypeParam",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.optional,a=this.type,!i||void 0!==n){t.next=5;break}return t.abrupt("return");case 5:return t.delegateYield(a.errors(e,r,n),"t0",6);case 6:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){var e=this.optional,r=this.type;return!(!e||void 0!==t)||r.accepts(t)}},{key:"compareWith",value:function(t){return t instanceof e||t instanceof It?g(this.type,t.type):g(this.type,t)}},{key:"toString",value:function(){var t=this.optional,e=this.type;return this.name+(t?"?":"")+": "+e.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,name:this.name,optional:this.optional,type:this.type}}}]),e}(xt),Lt=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="FunctionTypeReturn",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.type,t.delegateYield(i.errors(e,r.concat("[[Return Type]]"),n),"t0",2);case 2:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return this.type.accepts(t)}},{key:"compareWith",value:function(t){return t instanceof e?g(this.type,t.type):-1===g(this.type,t)?-1:1}},{key:"unwrap",value:function(){return this.type}},{key:"toString",value:function(){return this.type.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),e}(xt),Bt=Symbol("Parent"),Ft=Symbol("NameRegistry"),Wt=Symbol("ModuleRegistry"),Gt=Symbol("CurrentModule"),Ut=Symbol("TypeConstructorRegistry"),zt=Symbol("Inferrer"),Vt=Symbol("Type"),Xt=Symbol("TypeParameters"),qt=Symbol("TypePredicateRegistry"),Ht=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="FunctionType",n.params=[],i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s,u,c,l,f,h;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("function"==typeof n){t.next=4;break}return t.next=3,[r,_("ERR_EXPECT_FUNCTION"),this];case 3:return t.abrupt("return");case 4:if(i=n[Vt],a=this.returnType,o=this.params,!i){t.next=29;break}if(i.params){t.next=9;break}return t.abrupt("return");case 9:s=0;case 10:if(!(s<o.length)){t.next=24;break}if(u=o[s],(c=i.params[s])||u.optional){t.next=18;break}return t.next=16,[r,_("ERR_EXPECT_ARGUMENT",u.name,u.type.toString()),this];case 16:t.next=21;break;case 18:if(u.acceptsType(c)){t.next=21;break}return t.next=21,[r,_("ERR_EXPECT_ARGUMENT",u.name,u.type.toString()),this];case 21:s++,t.next=10;break;case 24:if(a.acceptsType(i.returnType)){t.next=27;break}return t.next=27,[r,_("ERR_EXPECT_RETURN",a.toString()),this];case 27:t.next=32;break;case 29:for(l=this.context,f=0;f<o.length;f++)h=o[f],h.acceptsType(l.any());a.acceptsType(l.any());case 32:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){if("function"!=typeof t)return!1;var e=this.returnType,r=this.params,n=t[Vt];if(n){if(!n.params)return!0;for(var i=0;i<r.length;i++){var a=r[i],o=n.params[i];if(!o&&!a.optional)return!1;if(!a.acceptsType(o))return!1}return!!e.acceptsType(n.returnType)}for(var s=this.context,u=0;u<r.length;u++){r[u].acceptsType(s.any())}return e.acceptsType(s.any()),!0}},{key:"compareWith",value:function(t){if(!(t instanceof e))return-1;var r=this.returnType,n=t.returnType,i=!1,a=g(r,n);if(-1===a)return-1;1===a&&(i=!0);for(var o=this.params,s=t.params,u=0;u<o.length;u++){var c=o[u],l=u>=s.length?t.rest:s[u];if(null==l)return-1;var f=g(c,l);if(-1===f)return-1;1===f&&(i=!0)}return i?1:0}},{key:"acceptsParams",value:function(){for(var t=this.params,e=this.rest,r=t.length,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];for(var o=i.length,s=0;s<r;s++){var u=t[s];if(s<o){if(!u.accepts(i[s]))return!1}else if(!u.accepts(void 0))return!1}if(o>r&&e)for(var c=r;c<o;c++)if(!e.accepts(i[c]))return!1;return!0}},{key:"acceptsReturn",value:function(t){return this.returnType.accepts(t)}},{key:"assertParams",value:function(){for(var t=this.params,e=this.rest,r=t.length,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];for(var o=i.length,s=0;s<r;s++){var u=t[s];s<o?u.assert(i[s]):u.assert(void 0)}if(o>r&&e)for(var c=r;c<o;c++)e.assert(i[c]);return i}},{key:"assertReturn",value:function(t){return this.returnType.assert(t),t}},{key:"invoke",value:function(){for(var t=this.params,e=this.rest,r=this.context,n=t.length,i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];for(var s=a.length,u=0;u<n;u++){var c=t[u];if(u<s){if(!c.acceptsType(a[u]))return r.empty()}else if(!c.accepts(void 0))return r.empty()}if(s>n&&e)for(var l=n;l<s;l++)if(!e.acceptsType(a[l]))return r.empty();return this.returnType.type}},{key:"toString",value:function(){for(var t=this.params,e=this.rest,r=this.returnType,n=[],i=0;i<t.length;i++)n.push(t[i].toString());return e&&n.push(e.toString()),"("+n.join(", ")+") => "+r.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,params:this.params,rest:this.rest,returnType:this.returnType}}}]),e}(xt),Kt=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="GeneratorType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n&&"function"==typeof n.next&&"function"==typeof n.return&&"function"==typeof n.throw){t.next=4;break}return t.next=4,[r,_("ERR_EXPECT_GENERATOR"),this];case 4:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return t&&"function"==typeof t.next&&"function"==typeof t.return&&"function"==typeof t.throw}},{key:"compareWith",value:function(t){if(!(t instanceof e)){return-1===g(this.yieldType,t)?-1:1}var r=!1,n=g(this.yieldType,t.yieldType);return-1===n?-1:(1===n&&(r=!0),-1===(n=g(this.returnType,t.returnType))?-1:(1===n&&(r=!0),-1===(n=g(this.nextType,t.nextType))?-1:(1===n&&(r=!0),r?1:0)))}},{key:"acceptsYield",value:function(t){return this.yieldType.accepts(t)}},{key:"acceptsReturn",value:function(t){return this.returnType.accepts(t)}},{key:"acceptsNext",value:function(t){return this.nextType.accepts(t)}},{key:"assertYield",value:function(t){return this.yieldType.assert(t)}},{key:"assertReturn",value:function(t){return this.returnType.assert(t)}},{key:"assertNext",value:function(t){return this.nextType.assert(t)}},{key:"toString",value:function(){var t=this.yieldType,e=this.returnType,r=this.nextType;return"Generator<"+t.toString()+", "+e.toString()+", "+r.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,yieldType:this.yieldType,returnType:this.returnType,nextType:this.nextType}}}]),e}(xt),Yt=new WeakSet,Jt=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="TypeConstructor",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){var e=this.context,r=this.name;return Yt.has(this)||(e.emitWarningMessage("TypeConstructor "+r+" does not implement accepts()."),Yt.add(this)),!1}},{key:"compareWith",value:function(t){var e=this.context,r=this.name;return Yt.has(this)||(e.emitWarningMessage("TypeConstructor "+r+" does not implement compareWith()."),Yt.add(this)),-1}},{key:"inferTypeParameters",value:function(t){return[]}},{key:"apply",value:function(){var t=new Ot(this.context);t.parent=this;for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.typeInstances=r,t}},{key:"unwrap",value:function(){return this}},{key:"toString",value:function(){return this.name}},{key:"toJSON",value:function(){return{typeName:this.typeName,name:this.name}}}]),e}(xt),$t=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="GenericType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.name,a=this.impl,n instanceof a){t.next=4;break}return t.next=4,[r,_("ERR_EXPECT_INSTANCEOF",i),this];case 4:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return t instanceof this.impl}},{key:"compareWith",value:function(t){var r=this.context,n=this.impl,i=r.getAnnotation(n);if(i){for(var a=arguments.length,o=Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];return g(t,i.unwrap.apply(i,pt(o)))}return t instanceof e&&(t.impl===n||n&&n.isPrototypeOf(t.impl))?0:-1}},{key:"unwrap",value:function(){var t=this.context,e=this.impl;if("function"!=typeof e)return this;var r=t.getAnnotation(e);return null!=r?r.unwrap.apply(r,arguments):this}},{key:"inferTypeParameters",value:function(t){return[]}}]),e}(Jt),Zt=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="NullLiteralType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null===n){t.next=3;break}return t.next=3,[r,_("ERR_EXPECT_NULL"),this];case 3:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return null===t}},{key:"compareWith",value:function(t){return t instanceof e?0:-1}},{key:"toString",value:function(){return"null"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),e}(xt),Qt=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="VoidType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n){t.next=3;break}return t.next=3,[r,_("ERR_EXPECT_VOID"),this];case 3:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return void 0===t}},{key:"compareWith",value:function(t){return t instanceof e?0:-1}},{key:"toString",value:function(){return"void"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),e}(xt),te=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="NullableType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n){t.next=2;break}return t.delegateYield(this.type.errors(e,r,n),"t0",2);case 2:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return null==t||this.type.accepts(t)}},{key:"compareWith",value:function(t){return t instanceof Zt||t instanceof Qt?1:t instanceof e?g(this.type,t.type):-1===g(this.type,t)?-1:1}},{key:"unwrap",value:function(){return this}},{key:"toString",value:function(){return"? "+this.type.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),e}(xt),ee=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="ObjectTypeProperty",n.static=!1,n.constraints=[],i=r,ft(n,i)}return ct(e,t),st(e,[{key:"addConstraint",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return x.apply(void 0,[this].concat(pt(e))),this}},{key:"isNullable",value:function(){return this.value instanceof te}},{key:"existsOn",value:function(t){return this.key in(this.static?t.constructor:t)==1}},{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s,u,c,l,f,h,p,y,v,d;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.optional,a=this.key,o=this.value,s=this.static,u=void 0,c=void 0,!s){t.next=18;break}if(null!==n&&("object"===(void 0===n?"undefined":at(n))||"function"==typeof n)){t.next=8;break}return t.next=7,[r,_("ERR_EXPECT_OBJECT"),this];case 7:return t.abrupt("return");case 8:if(c=r.concat("constructor"),"function"==typeof n.constructor){t.next=14;break}if(i){t.next=13;break}return t.next=13,[c,_("ERR_EXPECT_FUNCTION"),this];case 13:return t.abrupt("return");case 14:c.push(a),u=n.constructor[a],t.next=20;break;case 18:u=n[a],c=r.concat(a);case 20:if(!i||void 0!==u){t.next=22;break}return t.abrupt("return");case 22:if(!this.isNullable()||this.existsOn(n)){t.next=26;break}return t.next=25,[c,_("ERR_MISSING_PROPERTY"),this];case 25:return t.abrupt("return");case 26:l=!1,f=!0,h=!1,p=void 0,t.prev=30,y=o.errors(e,c,u)[Symbol.iterator]();case 32:if(f=(v=y.next()).done){t.next=40;break}return d=v.value,l=!0,t.next=37,d;case 37:f=!0,t.next=32;break;case 40:t.next=46;break;case 42:t.prev=42,t.t0=t.catch(30),h=!0,p=t.t0;case 46:t.prev=46,t.prev=47,!f&&y.return&&y.return();case 49:if(t.prev=49,!h){t.next=52;break}throw p;case 52:return t.finish(49);case 53:return t.finish(46);case 54:if(l){t.next=56;break}return t.delegateYield(b(this,e,c,u),"t1",56);case 56:case"end":return t.stop()}},t,this,[[30,42,46,54],[47,,49,53]])})},{key:"accepts",value:function(t){var e=this.optional,r=this.key,n=this.value,i=this.static,a=void 0;if(i){if(null===t||"object"!==(void 0===t?"undefined":at(t))&&"function"!=typeof t)return!1;if("function"!=typeof t.constructor)return!!e;a=t.constructor[r]}else a=t[r];return!(!e||void 0!==a)||!(this.isNullable()&&!this.existsOn(t))&&(!!n.accepts(a)&&k(this,a))}},{key:"compareWith",value:function(t){return t instanceof e?t.key!==this.key?-1:g(this.value,t.value):-1}},{key:"unwrap",value:function(){return this.value.unwrap()}},{key:"toString",value:function(){var t=this.key;return"symbol"===(void 0===t?"undefined":at(t))&&(t="["+t.toString()+"]"),this.static?"static "+t+(this.optional?"?":"")+": "+this.value.toString()+";":t+(this.optional?"?":"")+": "+this.value.toString()+";"}},{key:"toJSON",value:function(){return{typeName:this.typeName,key:this.key,value:this.value,optional:this.optional}}}]),e}(xt),re=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="ObjectTypeIndexer",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n,i){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"NumberType"!==this.key.typeName&&"NumericLiteralType"!==this.key.typeName||(n=+n),t.delegateYield(this.key.errors(e,r.concat("[[Key]]"),n),"t0",2);case 2:return t.delegateYield(this.value.errors(e,r.concat(n),i),"t1",3);case 3:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return this.value.accepts(t)}},{key:"acceptsKey",value:function(t){return"NumberType"!==this.key.typeName&&"NumericLiteralType"!==this.key.typeName||(t=+t),this.key.accepts(t)}},{key:"acceptsValue",value:function(t){return this.value.accepts(t)}},{key:"compareWith",value:function(t){if(t instanceof ee)return this.key.accepts(t.key)?g(this.value,t.value):-1;if(!(t instanceof e))return-1;var r=g(this.key,t.key);if(-1===r)return-1;var n=g(this.value,t.value);return-1===n?-1:0===r&&0===n?0:1}},{key:"unwrap",value:function(){return this.value.unwrap()}},{key:"toString",value:function(){return"["+this.id+": "+this.key.toString()+"]: "+this.value.toString()+";"}},{key:"toJSON",value:function(){return{typeName:this.typeName,id:this.id,key:this.key,value:this.value}}}]),e}(xt),ne=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="ObjectTypeCallProperty",n.static=!1,i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.value,a=this.static,o=void 0,s=void 0,!a){t.next=16;break}if(null!==n&&("object"===(void 0===n?"undefined":at(n))||"function"==typeof n)){t.next=8;break}return t.next=7,[r,_("ERR_EXPECT_OBJECT"),this];case 7:return t.abrupt("return");case 8:if(s=r.concat("constructor"),"function"==typeof n.constructor){t.next=13;break}return t.next=12,[s,_("ERR_EXPECT_FUNCTION"),this];case 12:return t.abrupt("return");case 13:o=n.constructor,t.next=18;break;case 16:o=n,s=r;case 18:return t.delegateYield(i.errors(e,s,o),"t0",19);case 19:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){var e=this.value,r=this.static,n=void 0;if(r){if(null===t||"object"!==(void 0===t?"undefined":at(t))&&"function"!=typeof t)return!1;if("function"!=typeof t.constructor)return!1;n=t.constructor}else n=t;return e.accepts(n)}},{key:"compareWith",value:function(t){return t instanceof e?g(this.value,t.value):-1}},{key:"unwrap",value:function(){return this.value.unwrap()}},{key:"toString",value:function(){return this.static?"static "+this.value.toString()+";":this.value.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,value:this.value}}}]),e}(xt),ie=function(t){function e(){return ot(this,e),ft(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return ct(e,t),e}(xt),ae=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="VarDeclaration",n.constraints=[],i=r,ft(n,i)}return ct(e,t),st(e,[{key:"addConstraint",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return x.apply(void 0,[this].concat(pt(e))),this}},{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s,u,c,l,f;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.type,a=!1,o=!0,s=!1,u=void 0,t.prev=5,c=i.errors(e,r,n)[Symbol.iterator]();case 7:if(o=(l=c.next()).done){t.next=15;break}return f=l.value,a=!0,t.next=12,f;case 12:o=!0,t.next=7;break;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(5),s=!0,u=t.t0;case 21:t.prev=21,t.prev=22,!o&&c.return&&c.return();case 24:if(t.prev=24,!s){t.next=27;break}throw u;case 27:return t.finish(24);case 28:return t.finish(21);case 29:if(a){t.next=31;break}return t.delegateYield(b(this,e,r,n),"t1",31);case 31:case"end":return t.stop()}},t,this,[[5,17,21,29],[22,,24,28]])})},{key:"accepts",value:function(t){return!!this.type.accepts(t)&&!!k(this,t)}},{key:"compareWith",value:function(t){return g(this.type,t)}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toString",value:function(){return"declare var "+this.name+": "+this.type.toString()+";"}}]),e}(ie),oe=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="TypeDeclaration",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"addConstraint",value:function(){var t;return(t=this.typeAlias).addConstraint.apply(t,arguments),this}},{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.typeAlias.errors(e,r,n),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"apply",value:function(){var t;return(t=this.typeAlias).apply.apply(t,arguments)}},{key:"accepts",value:function(t){return this.typeAlias.accepts(t)}},{key:"compareWith",value:function(t){return g(this.typeAlias,t)}},{key:"hasProperty",value:function(t){for(var e,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return(e=this.typeAlias).hasProperty.apply(e,[t].concat(pt(n)))}},{key:"getProperty",value:function(t){for(var e,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return(e=this.typeAlias).getProperty.apply(e,[t].concat(pt(n)))}},{key:"unwrap",value:function(){var t;return(t=this.typeAlias).unwrap.apply(t,arguments)}},{key:"toString",value:function(){return"declare "+this.typeAlias.toString(!0)+";"}},{key:"type",get:function(){return this.typeAlias.type}}]),e}(ie),se=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="ModuleDeclaration",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"get",value:function(t){var e=this.moduleExports;if(e){var r=e.unwrap();if("function"==typeof r.getProperty){var n=r.getProperty(t);if(n)return n.unwrap()}}else{var i=this.declarations[t];if(i)return i.unwrap()}}},{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)})},{key:"import",value:function(t){return/^\.\//.test(t)&&(t=""+this.name+t.slice(1)),this.innerContext.import(t)}},{key:"toString",value:function(){var t=this.name,e=this.declarations,r=this.modules,n=this.moduleExports,i=[];for(var a in e){var o=e[a];i.push(o.toString(!0))}if(r)for(var s in r){var u=r[s];i.push(u.toString())}return n&&i.push(n.toString()),'declare module "'+t+'" {\n'+T(i.join("\n\n"))+"}"}},{key:"moduleType",get:function(){return this.moduleExports?"commonjs":"es6"}},{key:"isCommonJS",get:function(){return!!this.moduleExports}},{key:"isES6",get:function(){return!this.moduleExports}},{key:"declarations",get:function(){return this.innerContext[Ft]}},{key:"modules",get:function(){return this.innerContext[Wt]}}]),e}(ie),ue=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="ModuleExports",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.type.errors(e,r,n),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toString",value:function(){return"declare module.exports: "+this.type.toString()+";"}}]),e}(ie),ce=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="ClassDeclaration",n.shapeID=Symbol(),i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s,u,c,l,f,h,p,y,v,d;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.body,a=this.superClass&&this.superClass.unwrap(),null!==n&&("object"===(void 0===n?"undefined":at(n))||"function"==typeof n)){t.next=6;break}return t.next=5,[r,_("ERR_EXPECT_INSTANCEOF",this.name),this];case 5:return t.abrupt("return");case 6:if(!a){t.next=42;break}o=!0,s=!1,u=void 0,t.prev=10,c=a.errors(e,r,n)[Symbol.iterator]();case 12:if(o=(l=c.next()).done){t.next=28;break}if(f=l.value,h=ht(f,3),p=h[0],y=h[1],v=h[2],d=p[r.length],!i.getProperty(d)){t.next=23;break}return t.abrupt("continue",25);case 23:return t.next=25,[p,y,v];case 25:o=!0,t.next=12;break;case 28:t.next=34;break;case 30:t.prev=30,t.t0=t.catch(10),s=!0,u=t.t0;case 34:t.prev=34,t.prev=35,!o&&c.return&&c.return();case 37:if(t.prev=37,!s){t.next=40;break}throw u;case 40:return t.finish(37);case 41:return t.finish(34);case 42:return t.delegateYield(i.errors(e,r,n),"t1",43);case 43:case"end":return t.stop()}},t,this,[[10,30,34,42],[35,,37,41]])})},{key:"accepts",value:function(t){var e=this.body,r=this.superClass&&this.superClass.unwrap();return null!==t&&("object"===(void 0===t?"undefined":at(t))||"function"==typeof t)&&(!(r&&!r.accepts(t))&&!!e.accepts(t))}},{key:"compareWith",value:function(t){return t instanceof e?t===this?0:this.isSuperClassOf(t)?1:-1:g(this.body,t)}},{key:"getProperty",value:function(t){var e=this.body,r=this.superClass,n=e.getProperty(t);return n||(r&&"function"==typeof r.getProperty?r.getProperty(t):void 0)}},{key:"hasProperty",value:function(t){var e=this.body,r=this.superClass;return!!e.hasProperty(t)||!(!r||"function"!=typeof r.hasProperty)&&r.hasProperty(t)}},{key:"isSuperClassOf",value:function(t){for(var r=this.body,n=this.shapeID,i=t;null!=i;){if(i===this||i===r||i.shapeID===n)return!0;i=i instanceof e?i.superClass:i.unwrap()}return!1}},{key:"apply",value:function(){var t=new Ot(this.context);t.parent=this;for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.typeInstances=r,t}},{key:"toString",value:function(t){var e=this.name,r=this.superClass,n=this.body;if(t){var i=r&&("string"==typeof r.name&&r.name||r.toString());return"declare class "+e+(i?" extends "+i:"")+" "+n.toString()}return e}},{key:"properties",get:function(){var t=this.body,e=this.superClass;if(null==e)return t.properties;var r=t.properties,n=e.unwrap().properties;if(null==n)return r;for(var i={},a={},o=[],s=0;s<n.length;s++){var u=n[s];o.push(u),u.static?a[u.key]=s:i[u.key]=s}for(var c=0;c<r.length;c++){var l=r[c];i[l.key]?o[c]=l:o.push(l)}return o}}]),e}(ie),le=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="PartialType",n.typeParameters=[],i=r,ft(n,i)}return ct(e,t),st(e,[{key:"typeParameter",value:function(t,e,r){var n=new Dt(this.context);return n.id=t,n.bound=e,n.default=r,this.typeParameters.push(n),n}},{key:"apply",value:function(){var t=new Ot(this.context);t.parent=this;for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.typeInstances=r,t}},{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s,u,c,l,f,h;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.constraints,a=this.type,o=!1,s=!0,u=!1,c=void 0,t.prev=5,l=a.errors(e,r,n)[Symbol.iterator]();case 7:if(s=(f=l.next()).done){t.next=15;break}return h=f.value,o=!0,t.next=12,h;case 12:s=!0,t.next=7;break;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(5),u=!0,c=t.t0;case 21:t.prev=21,t.prev=22,!s&&l.return&&l.return();case 24:if(t.prev=24,!u){t.next=27;break}throw c;case 27:return t.finish(24);case 28:return t.finish(21);case 29:if(o||!i){t.next=31;break}return t.delegateYield(b(this,e,r,n),"t1",31);case 31:case"end":return t.stop()}},t,this,[[5,17,21,29],[22,,24,28]])})},{key:"accepts",value:function(t){var e=this.constraints;return!(!this.type.accepts(t)||e&&!k(this,t))}},{key:"compareWith",value:function(t){return t===this?0:g(this.type,t)}},{key:"toString",value:function(t){return this.type.toString(t)}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toJSON",value:function(){return{typeName:this.typeName,typeParameters:this.typeParameters,type:this.type}}}]),e}(xt),fe=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="ParameterizedClassDeclaration",n.shapeID=Symbol(),i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){for(var i=arguments.length,a=Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(E.apply(void 0,[this].concat(pt(a))).errors(e,r,n),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return E.apply(void 0,[this].concat(pt(r))).accepts(t)}},{key:"compareWith",value:function(t){return E(this).compareWith(t)}},{key:"unwrap",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return E.apply(void 0,[this].concat(pt(e))).type}},{key:"isSuperClassOf",value:function(t){return E(this).type.isSuperClassOf(t)}},{key:"apply",value:function(){var t=new Ot(this.context);t.parent=this;for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.typeInstances=r,t}},{key:"toString",value:function(t){if(!t)return this.name;var e=E(this),r=e.type,n=e.typeParameters;if(0===n.length)return e.toString(!0);for(var i=[],a=0;a<n.length;a++){var o=n[a];i.push(o.toString(!0))}var s=r.superClass,u=r.body,c=s&&("string"==typeof s.name&&s.name||s.toString());return"declare class "+this.name+"<"+i.join(", ")+">"+(c?" extends "+c:"")+" "+u.toString()}},{key:"toJSON",value:function(){return E(this).toJSON()}},{key:"superClass",get:function(){return E(this).type.superClass}},{key:"body",get:function(){return E(this).type.body}},{key:"properties",get:function(){return E(this).type.properties}},{key:"typeParameters",get:function(){return E(this).typeParameters}}]),e}(ie),he=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="ExtendsDeclaration",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.type.errors(e,r,n),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toString",value:function(t){var e=this.type;return t?"extends "+e.toString():e.toString()}}]),e}(ie),pe=it.mark(M),ye=it.mark(I),ve=it.mark(N),de=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="ObjectType",n.properties=[],n.indexers=[],n.callProperties=[],n.exact=!1,i=r,ft(n,i)}return ct(e,t),st(e,[{key:"getProperty",value:function(t){for(var e=this.properties,r=e.length,n=0;n<r;n++){var i=e[n];if(i.key===t)return i}return this.getIndexer(t)}},{key:"setProperty",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.context,i=this.properties,a=i.length,o=new ee(n);o.key=t,o.value=e,o.optional=r;for(var s=0;s<a;s++){if(i[s].key===t)return void(i[s]=o)}i.push(o)}},{key:"hasProperty",value:function(t){for(var e=this.properties,r=e.length,n=0;n<r;n++){if(e[n].key===t)return!0}return this.hasIndexer(t)}},{key:"getIndexer",value:function(t){for(var e=this.indexers,r=e.length,n=0;n<r;n++){var i=e[n];if(i.acceptsKey(t))return i}}},{key:"hasIndexer",value:function(t){for(var e=this.indexers,r=e.length,n=0;n<r;n++){if(e[n].acceptsKey(t))return!0}return!1}},{key:"errors",value:it.mark(function t(e,r,n){var i;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==n){t.next=4;break}return t.next=3,[r,_("ERR_EXPECT_OBJECT"),this];case 3:return t.abrupt("return");case 4:if(!(i=this.callProperties.length>0)){t.next=11;break}if(P(this,n)){t.next=9;break}return t.next=9,[r,_("ERR_EXPECT_CALLABLE"),this];case 9:t.next=15;break;case 11:if("object"===(void 0===n?"undefined":at(n))){t.next=15;break}return t.next=14,[r,_("ERR_EXPECT_OBJECT"),this];case 14:return t.abrupt("return");case 15:if(!e.inCycle(this,n)){t.next=17;break}return t.abrupt("return");case 17:if(e.startCycle(this,n),!(this.indexers.length>0)){t.next=22;break}return t.delegateYield(M(this,e,r,n),"t0",20);case 20:t.next=23;break;case 22:return t.delegateYield(I(this,e,r,n),"t1",23);case 23:if(!this.exact){t.next=25;break}return t.delegateYield(N(this,e,r,n),"t2",25);case 25:e.endCycle(this,n);case 26:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){if(null===t)return!1;if(this.callProperties.length>0){if(!P(this,t))return!1}else if("object"!==(void 0===t?"undefined":at(t)))return!1;if(n(this,t))return!0;i(this,t);var e=void 0;return e=this.indexers.length>0?O(this,t):R(this,t),e&&this.exact&&(e=j(this,t)),a(this,t),e}},{key:"compareWith",value:function(t){if(!(t instanceof e||t instanceof ce||t instanceof fe))return-1;var r=this.callProperties.length>0,n=!1;if(r){var i=A(this,t);if(-1===i)return-1;1===i&&(n=!0)}var a=void 0;return a=this.indexers.length>0?C(this,t):D(this,t),-1===a?-1:n?1:a}},{key:"toString",value:function(){var t=this.callProperties,e=this.properties,r=this.indexers;if(o(this))return"$Cycle<Object>";s(this);for(var n=[],i=0;i<t.length;i++)n.push(t[i].toString());for(var a=0;a<e.length;a++)n.push(e[a].toString());for(var c=0;c<r.length;c++)n.push(r[c].toString());return u(this),this.exact?"{|\n"+L(n.join("\n"))+"\n|}":"{\n"+L(n.join("\n"))+"\n}"}},{key:"toJSON",value:function(){return{typeName:this.typeName,callProperties:this.callProperties,properties:this.properties,indexers:this.indexers,exact:this.exact}}}]),e}(xt),me=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="IntersectionType",n.types=[],i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a,o;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.types,a=i.length,o=0;case 3:if(!(o<a)){t.next=8;break}return t.delegateYield(i[o].errors(e,r,n),"t0",5);case 5:o++,t.next=3;break;case 8:case"end":return t.stop()}},t,this)})},{key:"getProperty",value:function(t){for(var e=this.types,r=e.length,n=r-1;n>=0;n--){var i=e[n];if("function"==typeof i.getProperty){var a=i.getProperty(t);if(a)return a}}}},{key:"hasProperty",value:function(t){for(var e=this.types,r=e.length,n=0;n<r;n++){var i=e[n];if("function"==typeof i.hasProperty&&i.hasProperty(t))return!0}return!1}},{key:"accepts",value:function(t){for(var e=this.types,r=e.length,n=0;n<r;n++){if(!e[n].accepts(t))return!1}return!0}},{key:"compareWith",value:function(t){var r=this.types,n=0;if(t instanceof e){var i=t.types;t:for(var a=0;a<r.length;a++){for(var o=r[a],s=0;s<i.length;s++){var u=g(o,i[a]);if(0===u){n++;continue t}if(1===u)continue t}return-1}return n===r.length?0:1}for(var c=0;c<r.length;c++){var l=r[c],f=g(l,t);if(-1===f)return-1;0===f&&n++}return n===r.length?0:1}},{key:"unwrap",value:function(){for(var t,e=[],r=[],n=[],i=this.types,a=this.context,o=0;o<i.length;o++){var s=i[o].unwrap();S(s instanceof de,"Can only intersect object types"),e.push.apply(e,pt(s.callProperties)),n.push.apply(n,pt(s.indexers)),F(r,s.properties)}return(t=a).object.apply(t,e.concat(r,n))}},{key:"toString",value:function(){return this.types.join(" & ")}},{key:"toJSON",value:function(){return{typeName:this.typeName,types:this.types}}}]),e}(xt),ge=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="MixedType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return!0}},{key:"toString",value:function(){return"mixed"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),e}(xt),_e=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="NumericLiteralType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.value,n===i){t.next=4;break}return t.next=4,[r,_("ERR_EXPECT_EXACT_VALUE",i),this];case 4:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return t===this.value}},{key:"compareWith",value:function(t){return t instanceof e&&t.value===this.value?0:-1}},{key:"toString",value:function(){return""+this.value}},{key:"toJSON",value:function(){return{typeName:this.typeName,value:this.value}}}]),e}(xt),xe=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="NumberType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("number"==typeof n){t.next=3;break}return t.next=3,[r,_("ERR_EXPECT_NUMBER"),this];case 3:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return"number"==typeof t}},{key:"compareWith",value:function(t){return t instanceof e?0:t instanceof _e?1:-1}},{key:"toString",value:function(){return"number"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),e}(xt),be=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="ParameterizedTypeAlias",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){for(var i=arguments.length,a=Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(W.apply(void 0,[this].concat(pt(a))).errors(e,r,n),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return!!W.apply(void 0,[this].concat(pt(r))).accepts(t)&&!!k(this,t)}},{key:"compareWith",value:function(t){return t===this?0:this.hasConstraints?-1:g(W(this),t)}},{key:"hasProperty",value:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=this.unwrap.apply(this,pt(r));return!(!i||"function"!=typeof i.hasProperty)&&i.hasProperty.apply(i,[t].concat(pt(r)))}},{key:"getProperty",value:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=this.unwrap.apply(this,pt(r));if(i&&"function"==typeof i.getProperty)return i.getProperty.apply(i,[t].concat(pt(r)))}},{key:"unwrap",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return W.apply(void 0,[this].concat(pt(e))).unwrap()}},{key:"toString",value:function(t){for(var e=W(this),r=e.typeParameters,n=[],i=0;i<r.length;i++){var a=r[i];n.push(a.toString(!0))}var o=this.name,s=r.length>0?o+"<"+n.join(", ")+">":o;return t?"type "+s+" = "+e.toString()+";":s}},{key:"toJSON",value:function(){return W(this).toJSON()}},{key:"properties",get:function(){return W(this).type.properties}}]),e}(Rt),ke=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="ParameterizedFunctionType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){for(var i=arguments.length,a=Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(G.apply(void 0,[this].concat(pt(a))).errors(e,r,n),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return G.apply(void 0,[this].concat(pt(r))).accepts(t)}},{key:"compareWith",value:function(t){return g(G(this),t)}},{key:"acceptsParams",value:function(){var t;return(t=G(this).type).acceptsParams.apply(t,arguments)}},{key:"acceptsReturn",value:function(t){return G(this).type.acceptsReturn(t)}},{key:"assertParams",value:function(){var t;return(t=G(this).type).assertParams.apply(t,arguments)}},{key:"assertReturn",value:function(t){return G(this).type.assertReturn(t)}},{key:"unwrap",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return G.apply(void 0,[this].concat(pt(e))).unwrap()}},{key:"toString",value:function(){var t=G(this),e=t.type,r=t.typeParameters;if(0===r.length)return e.toString();for(var n=[],i=0;i<r.length;i++){var a=r[i];n.push(a.toString(!0))}return"<"+n.join(", ")+"> "+e.toString()}},{key:"toJSON",value:function(){return G(this).toJSON()}},{key:"typeParameters",get:function(){return G(this).typeParameters}},{key:"params",get:function(){return G(this).type.params}},{key:"rest",get:function(){return G(this).type.rest}},{key:"returnType",get:function(){return G(this).type.returnType}}]),e}(xt),we=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="RefinementType",n.constraints=[],i=r,ft(n,i)}return ct(e,t),st(e,[{key:"addConstraint",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return x.apply(void 0,[this].concat(pt(e))),this}},{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s,u,c,l,f;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.type,a=!1,o=!0,s=!1,u=void 0,t.prev=5,c=i.errors(e,r,n)[Symbol.iterator]();case 7:if(o=(l=c.next()).done){t.next=15;break}return f=l.value,a=!0,t.next=12,f;case 12:o=!0,t.next=7;break;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(5),s=!0,u=t.t0;case 21:t.prev=21,t.prev=22,!o&&c.return&&c.return();case 24:if(t.prev=24,!s){t.next=27;break}throw u;case 27:return t.finish(24);case 28:return t.finish(21);case 29:if(a){t.next=31;break}return t.delegateYield(b(this,e,r,n),"t1",31);case 31:case"end":return t.stop()}},t,this,[[5,17,21,29],[22,,24,28]])})},{key:"accepts",value:function(t){return!!this.type.accepts(t)&&!!k(this,t)}},{key:"compareWith",value:function(t){return t===this?0:-1}},{key:"apply",value:function(){var t=new Ot(this.context);t.parent=this;for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.typeInstances=r,t}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"hasProperty",value:function(t){var e=this.unwrap();return!(!e||"function"!=typeof e.hasProperty)&&e.hasProperty(t)}},{key:"getProperty",value:function(t){var e=this.unwrap();if(e&&"function"==typeof e.getProperty)return e.getProperty(t)}},{key:"toString",value:function(){return"$Refinment<"+this.type.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),e}(xt),Se=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="StringLiteralType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.value,n===i){t.next=4;break}return t.next=4,[r,_("ERR_EXPECT_EXACT_VALUE",this.toString()),this];case 4:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return t===this.value}},{key:"compareWith",value:function(t){return t instanceof e&&t.value===this.value?0:-1}},{key:"toString",value:function(){return JSON.stringify(this.value)}},{key:"toJSON",value:function(){return{typeName:this.typeName,value:this.value}}}]),e}(xt),Te=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="StringType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("string"==typeof n){t.next=3;break}return t.next=3,[r,_("ERR_EXPECT_STRING"),this];case 3:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return"string"==typeof t}},{key:"compareWith",value:function(t){return t instanceof Se?1:t instanceof e?0:-1}},{key:"toString",value:function(){return"string"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),e}(xt),Ee=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="SymbolLiteralType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.value,n===i){t.next=4;break}return t.next=4,[r,_("ERR_EXPECT_EXACT_VALUE",this.toString()),this];case 4:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return t===this.value}},{key:"compareWith",value:function(t){return t instanceof e&&t.value===this.value?0:-1}},{key:"toString",value:function(){return"typeof "+String(this.value)}},{key:"toJSON",value:function(){return{typeName:this.typeName,value:this.value}}}]),e}(xt),Pe=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="SymbolType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("symbol"===(void 0===n?"undefined":at(n))){t.next=3;break}return t.next=3,[r,_("ERR_EXPECT_SYMBOL"),this];case 3:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return"symbol"===(void 0===t?"undefined":at(t))}},{key:"compareWith",value:function(t){return t instanceof Ee?1:t instanceof e?0:-1}},{key:"toString",value:function(){return"Symbol"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),e}(xt),Ae=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="ThisType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.recorded,n!==i){t.next=5;break}return t.abrupt("return");case 5:if(!("function"==typeof i&&n instanceof i)){t.next=9;break}return t.abrupt("return");case 9:if(null==i){t.next=12;break}return t.next=12,[r,_("ERR_EXPECT_THIS"),this];case 12:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){var e=this.recorded;return t===e||("function"==typeof e&&t instanceof e||null==e)}},{key:"compareWith",value:function(t){return t instanceof e?t.recorded&&this.recorded?t.recorded===this.recorded?0:-1:this.recorded?0:1:-1}},{key:"unwrap",value:function(){return this}},{key:"toString",value:function(t){return"this"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),e}(xt),Oe=new WeakSet,Ce=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="TypeBox",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.type.errors(e,r,n),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return this.type.accepts(t)}},{key:"compareWith",value:function(t){return g(this.type,t)}},{key:"apply",value:function(){var t=new Ot(this.context);t.parent=this.type;for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.typeInstances=r,t}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toString",value:function(){return this.type.toString()}},{key:"toJSON",value:function(){return this.type.toJSON()}},{key:"name",get:function(){return this.type.name}},{key:"type",get:function(){var t=this.reveal,e=t();return e?e instanceof xt?e:this.context.ref(e):(Oe.has(this)||(this.context.emitWarningMessage("Failed to reveal boxed type."),Oe.add(this)),this.context.mixed())}}]),e}(xt),Re={},je=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="TypeReference",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.type.errors(e,r,n),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return this.type.accepts(t)}},{key:"compareWith",value:function(t){return g(this.type,t)}},{key:"apply",value:function(){var t=new Ot(this.context);t.parent=this;for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.typeInstances=r,t}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toString",value:function(){return this.name}},{key:"toJSON",value:function(){return{typeName:this.typeName,name:this.name}}},{key:"type",get:function(){var t=this.context,e=this.name,r=t.get(e);return r||(Re[e]||(t.emitWarningMessage("Cannot resolve type: "+e),Re[e]=!0),t.any())}}]),e}(xt),De=new WeakSet,Me=Symbol("RevealedName"),Ie=Symbol("RevealedValue"),Ne=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="TypeTDZ",n[Me]=void 0,n[Ie]=void 0,i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(U(this).errors(e,r,n),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return U(this).accepts(t)}},{key:"compareWith",value:function(t){return g(U(this),t)}},{key:"apply",value:function(){var t=new Ot(this.context);t.parent=U(this);for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.typeInstances=r,t}},{key:"unwrap",value:function(){return U(this).unwrap()}},{key:"hasProperty",value:function(t){var e=this.unwrap();return!(!e||"function"!=typeof e.hasProperty)&&e.hasProperty(t)}},{key:"getProperty",value:function(t){var e=this.unwrap();if(e&&"function"==typeof e.getProperty)return e.getProperty(t)}},{key:"toString",value:function(){return U(this).toString()}},{key:"toJSON",value:function(){return U(this).toJSON()}},{key:"name",get:function(){var t=this[Me];return t||(t=U(this).name),t},set:function(t){this[Me]=t}}]),e}(xt),Le=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="UnionType",n.types=[],i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.types,a=i.length,o=0;case 3:if(!(o<a)){t.next=10;break}if(s=i[o],!s.accepts(n)){t.next=7;break}return t.abrupt("return");case 7:o++,t.next=3;break;case 10:return t.next=12,[r,_("ERR_NO_UNION",this.toString()),this];case 12:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){for(var e=this.types,r=e.length,n=0;n<r;n++){if(e[n].accepts(t))return!0}return!1}},{key:"compareWith",value:function(t){var r=this.types;if(t instanceof e){var n=t.types,i=0;t:for(var a=0;a<r.length;a++){for(var o=r[a],s=0;s<n.length;s++){var u=g(o,n[a]);if(0===u){i++;continue t}if(1===u)continue t}return-1}return i===r.length?0:1}for(var c=0;c<r.length;c++){if(g(r[c],t)>=0)return 1}return-1}},{key:"toString",value:function(){for(var t=this.types,e=new Array(t.length),r=0;r<t.length;r++){var n=t[r];"FunctionType"===n.typeName||"ParameterizedFunctionType"===n.typeName?e[r]="("+n.toString()+")":e[r]=n.toString()}return e.join(" | ")}},{key:"toJSON",value:function(){return{typeName:this.typeName,types:this.types}}}]),e}(xt),Be=function(){function t(e){ot(this,t),this.context=e}return st(t,[{key:"infer",value:function(t){var e=this.inferPrimitive(t);if(e)return e;var r=new Map;return this.inferComplex(t,r)}},{key:"inferInternal",value:function(t,e){var r=this.inferPrimitive(t);return r||this.inferComplex(t,e)}},{key:"inferPrimitive",value:function(t){var e=this.context;return null===t?e.null():void 0===t?e.void():"number"==typeof t?e.number():"boolean"==typeof t?e.boolean():"string"==typeof t?e.string():"symbol"===(void 0===t?"undefined":at(t))?e.symbol(t):void 0}},{key:"inferComplex",value:function(t,e){var r=this.context;return"function"==typeof t?this.inferFunction(t,e):null!==t&&"object"===(void 0===t?"undefined":at(t))?this.inferObject(t,e):r.any()}},{key:"inferFunction",value:function(t,e){for(var r=this.context,n=t.length,i=new Array(n+1),a=0;a<n;a++)i[a]=r.param(String.fromCharCode(97+a),r.existential());return i[n]=r.return(r.existential()),r.fn.apply(r,i)}},{key:"inferObject",value:function(t,e){var r=e.get(t);if(r)return r;var n=this.context,i=void 0,a=n.box(function(){return i});if(e.set(t,a),n.checkPredicate("Array",t))i=this.inferArray(t,e);else if(t instanceof Object)if(t.constructor!==Object){var o=n.getTypeConstructor(t.constructor);if(o){var s=o.inferTypeParameters(t);i=o.apply.apply(o,pt(s))}else i=n.ref(t.constructor)}else{var u=[];for(var c in t){var l=t[c];u.push(n.property(c,this.inferInternal(l,e)))}i=n.object.apply(n,u)}else i=this.inferDict(t,e);return e.set(t,i),i}},{key:"inferDict",value:function(t,e){var r=[],n=[];t:for(var i in t){for(var a=t[i],o=isNaN(+i)?n:r,s=0;s<o.length;s++){var u=o[s];if(u.accepts(a))continue t}o.push(this.inferInternal(a,e))}var c=this.context,l=[];return 1===r.length?l.push(c.indexer("index",c.number(),r[0])):r.length>1&&l.push(c.indexer("index",c.number(),c.union.apply(c,r))),1===n.length?l.push(c.indexer("key",c.string(),n[0])):n.length>1&&l.push(c.indexer("key",c.string(),c.union.apply(c,n))),c.object.apply(c,l)}},{key:"inferArray",value:function(t,e){var r=this.context,n=[],i=[],a=t.length;t:for(var o=0;o<a;o++){for(var s=t[o],u=this.inferInternal(s,e),c=0;c<n.length;c++){var l=n[c];if(l.accepts(s)&&u.accepts(i[c]))continue t}n.push(u),i.push(s)}return 0===n.length?r.array(r.any()):1===n.length?r.array(n[0]):r.array(r.union.apply(r,n))}}]),t}(),Fe="\n-------------------------------------------------\n\n",We=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="$DiffType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s,u;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.aType,a=this.bType,null!==n&&("object"===(void 0===n?"undefined":at(n))||"function"==typeof n)){t.next=5;break}return t.next=4,[r,_("ERR_EXPECT_OBJECT"),this];case 4:return t.abrupt("return");case 5:i=i.unwrap(),a=a.unwrap(),S(i instanceof de&&a instanceof de,"Can only $Diff object types."),o=i.properties,s=0;case 10:if(!(s<o.length)){t.next=18;break}if(u=o[s],!a.hasProperty(u.key)){t.next=14;break}return t.abrupt("continue",15);case 14:return t.delegateYield(u.errors(e,r.concat(u.key),n),"t0",15);case 15:s++,t.next=10;break;case 18:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){var e=this.aType,r=this.bType;if(null===t||"object"!==(void 0===t?"undefined":at(t))&&"function"!=typeof t)return!1;e=e.unwrap(),r=r.unwrap(),S(e instanceof de&&r instanceof de,"Can only $Diff object types.");for(var n=e.properties,i=0;i<n.length;i++){var a=n[i];if(!r.hasProperty(a.key)&&!a.accepts(t))return!1}return!0}},{key:"compareWith",value:function(t){return g(this.unwrap(),t)}},{key:"unwrap",value:function(){var t,e=this.aType,r=this.bType;e=e.unwrap(),r=r.unwrap(),S(e instanceof de&&r instanceof de,"Can only $Diff object types.");for(var n=e.properties,i=[],a=0;a<n.length;a++){var o=n[a];r.hasProperty(o.key)||i.push(o)}return(t=this.context).object.apply(t,i)}},{key:"toString",value:function(){return"$Diff<"+this.aType.toString()+", "+this.bType.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,aType:this.aType,bType:this.bType}}}]),e}(xt),Ge=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="$FlowFixMeType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return!0}},{key:"compareWith",value:function(t){return 1}},{key:"unwrap",value:function(){return this}},{key:"toString",value:function(){return"$FlowFixMe"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),e}(xt),Ue=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="$KeysType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s,u,c,l;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.type.unwrap(),S(i instanceof de,"Can only $Keys<T> object types."),a=i.properties,o=a.length,s=0;case 5:if(!(s<o)){t.next=12;break}if(u=a[s],n!==u.key){t.next=9;break}return t.abrupt("return");case 9:s++,t.next=5;break;case 12:for(c=new Array(o),l=0;l<o;l++)c[l]=a[l].key;return t.next=16,[r,_("ERR_NO_UNION",c.join(" | ")),this];case 16:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){var e=this.type.unwrap();S(e instanceof de,"Can only $Keys<T> object types.");for(var r=e.properties,n=r.length,i=0;i<n;i++){if(t===r[i].key)return!0}return!1}},{key:"compareWith",value:function(t){return g(this.unwrap(),t)}},{key:"unwrap",value:function(){var t,e=this.context,r=this.type.unwrap();S(r instanceof de,"Can only $Keys<T> object types.");for(var n=r.properties,i=n.length,a=new Array(i),o=0;o<i;o++){var s=n[o];a[o]=e.literal(s.key)}return(t=this.context).union.apply(t,a)}},{key:"toString",value:function(){return"$Keys<"+this.type.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),e}(xt),ze=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="$ObjMapiType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s,u,c,l,f,h,p,y,v,d;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.object,a=this.mapper,o=this.context,s=i.unwrap(),S(s instanceof de,"Target must be an object type."),null!==n&&("object"===(void 0===n?"undefined":at(n))||"function"==typeof n)){t.next=7;break}return t.next=6,[r,_("ERR_EXPECT_OBJECT"),this];case 6:return t.abrupt("return");case 7:u=!0,c=!1,l=void 0,t.prev=10,f=s.properties[Symbol.iterator]();case 12:if(u=(h=f.next()).done){t.next=22;break}return p=h.value,y=a.unwrap(),S(y instanceof Ht,"Mapper must be a function type."),v=y.invoke(o.literal(p.key),p.value),d=n[p.key],t.delegateYield(v.errors(e,r.concat(p.key),d),"t0",19);case 19:u=!0,t.next=12;break;case 22:t.next=28;break;case 24:t.prev=24,t.t1=t.catch(10),c=!0,l=t.t1;case 28:t.prev=28,t.prev=29,!u&&f.return&&f.return();case 31:if(t.prev=31,!c){t.next=34;break}throw l;case 34:return t.finish(31);case 35:return t.finish(28);case 36:case"end":return t.stop()}},t,this,[[10,24,28,36],[29,,31,35]])})},{key:"accepts",value:function(t){var e=this.object,r=this.mapper,n=this.context,i=e.unwrap();if(S(i instanceof de,"Target must be an object type."),null===t||"object"!==(void 0===t?"undefined":at(t))&&"function"!=typeof t)return!1;var a=!0,o=!1,s=void 0;try{for(var u,c=i.properties[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value,f=r.unwrap();S(f instanceof Ht,"Mapper must be a function type.");var h=f.invoke(n.literal(l.key),l.value),p=t[l.key];if(!h.accepts(p))return!1}}catch(t){o=!0,s=t}finally{try{!a&&c.return&&c.return()}finally{if(o)throw s}}return!0}},{key:"compareWith",value:function(t){return g(this.unwrap(),t)}},{key:"unwrap",value:function(){var t=this.object,e=this.mapper,r=this.context,n=t.unwrap();S(n instanceof de,"Target must be an object type.");var i=[],a=!0,o=!1,s=void 0;try{for(var u,c=n.properties[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value,f=e.unwrap();S(f instanceof Ht,"Mapper must be a function type."),i.push(r.property(l.key,f.invoke(r.literal(l.key),l.value)))}}catch(t){o=!0,s=t}finally{try{!a&&c.return&&c.return()}finally{if(o)throw s}}return r.object.apply(r,i)}},{key:"toString",value:function(){return"$ObjMapi<"+this.object.toString()+", "+this.mapper.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,object:this.object,mapper:this.mapper}}}]),e}(xt),Ve=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="$ObjMapType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s,u,c,l,f,h,p,y,v,d;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.object,a=this.mapper,o=this.context,s=i.unwrap(),S(s instanceof de,"Target must be an object type."),null!==n&&("object"===(void 0===n?"undefined":at(n))||"function"==typeof n)){t.next=7;break}return t.next=6,[r,_("ERR_EXPECT_OBJECT"),this];case 6:return t.abrupt("return");case 7:u=!0,c=!1,l=void 0,t.prev=10,f=s.properties[Symbol.iterator]();case 12:if(u=(h=f.next()).done){t.next=22;break}return p=h.value,y=a.unwrap(),S(y instanceof Ht,"Mapper must be a function type."),v=y.invoke(o.literal(p.key)),d=n[p.key],t.delegateYield(v.errors(e,r.concat(p.key),d),"t0",19);case 19:u=!0,t.next=12;break;case 22:t.next=28;break;case 24:t.prev=24,t.t1=t.catch(10),c=!0,l=t.t1;case 28:t.prev=28,t.prev=29,!u&&f.return&&f.return();case 31:if(t.prev=31,!c){t.next=34;break}throw l;case 34:return t.finish(31);case 35:return t.finish(28);case 36:case"end":return t.stop()}},t,this,[[10,24,28,36],[29,,31,35]])})},{key:"accepts",value:function(t){var e=this.object,r=this.mapper,n=this.context,i=e.unwrap();if(S(i instanceof de,"Target must be an object type."),null===t||"object"!==(void 0===t?"undefined":at(t))&&"function"!=typeof t)return!1;var a=!0,o=!1,s=void 0;try{for(var u,c=i.properties[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value,f=r.unwrap();S(f instanceof Ht,"Mapper must be a function type.");var h=f.invoke(n.literal(l.key)),p=t[l.key];if(!h.accepts(p))return!1}}catch(t){o=!0,s=t}finally{try{!a&&c.return&&c.return()}finally{if(o)throw s}}return!0}},{key:"compareWith",value:function(t){return g(this.unwrap(),t)}},{key:"unwrap",value:function(){var t=this.object,e=this.mapper,r=this.context,n=t.unwrap();S(n instanceof de,"Target must be an object type.");var i=[],a=!0,o=!1,s=void 0;try{for(var u,c=n.properties[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value,f=e.unwrap();S(f instanceof Ht,"Mapper must be a function type."),i.push(r.property(l.key,f.invoke(r.literal(l.key))))}}catch(t){o=!0,s=t}finally{try{!a&&c.return&&c.return()}finally{if(o)throw s}}return r.object.apply(r,i)}},{key:"toString",value:function(){return"$ObjMap<"+this.object.toString()+", "+this.mapper.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,object:this.object,mapper:this.mapper}}}]),e}(xt),Xe=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="$PropertyType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.unwrap().errors(e,r,n),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return this.unwrap().accepts(t)}},{key:"compareWith",value:function(t){return g(this.unwrap(),t)}},{key:"unwrap",value:function(){var t=this.object,e=this.property,r=t.unwrap();return S("function"==typeof r.getProperty,"Can only use $PropertyType on Objects."),r.getProperty(e).unwrap()}},{key:"toString",value:function(){return"$PropertyType<"+this.object.toString()+", "+String(this.property)+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,object:this.object,property:this.property}}}]),e}(xt),qe=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="$ShapeType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a,o;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.type,null!==n&&("object"===(void 0===n?"undefined":at(n))||"function"==typeof n)){t.next=5;break}return t.next=4,[r,_("ERR_EXPECT_OBJECT"),this];case 4:return t.abrupt("return");case 5:i=i.unwrap(),S("function"==typeof i.getProperty,"Can only $Shape<T> object types."),t.t0=it.keys(n);case 8:if((t.t1=t.t0()).done){t.next=16;break}if(a=t.t1.value,o=i.getProperty(a)){t.next=13;break}return t.abrupt("continue",8);case 13:return t.delegateYield(o.errors(e,r,n),"t2",14);case 14:t.next=8;break;case 16:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){var e=this.type;if(null===t||"object"!==(void 0===t?"undefined":at(t))&&"function"!=typeof t)return!1;e=e.unwrap(),S("function"==typeof e.getProperty,"Can only $Shape<T> object types.");for(var r in t){var n=e.getProperty(r);if(!n||!n.accepts(t))return!1}return!0}},{key:"compareWith",value:function(t){return g(this.unwrap(),t)}},{key:"unwrap",value:function(){var t,e=this.type;e=e.unwrap();var r=this.context;S(e instanceof de,"Can only $Shape<T> object types.");for(var n=e.properties,i=new Array(n.length),a=0;a<n.length;a++){var o=n[a];i[a]=r.property(o.key,o.value,!0)}return(t=this.context).object.apply(t,i)}},{key:"toString",value:function(){return"$Shape<"+this.type.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),e}(xt),He=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="$SubType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.type.errors(n,r),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return this.type.accepts(t)}},{key:"compareWith",value:function(t){return g(this.unwrap(),t)}},{key:"unwrap",value:function(){return this.type}},{key:"toString",value:function(){return"$Subtype<"+this.type.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),e}(xt),Ke=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="$SuperType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.type.errors(e,r,n),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){return this.type.accepts(t)}},{key:"compareWith",value:function(t){return g(this.unwrap(),t)}},{key:"unwrap",value:function(){return this.type}},{key:"toString",value:function(){return"$Supertype<"+this.type.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),e}(xt),Ye=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="$TupleMapType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s,u,c,l,f,h;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.tuple,a=this.mapper,o=this.context,s=i.unwrap(),S(s instanceof wt,"Target must be a tuple type."),o.checkPredicate("Array",n)){t.next=7;break}return t.next=6,[r,_("ERR_EXPECT_ARRAY"),this];case 6:return t.abrupt("return");case 7:u=0;case 8:if(!(u<s.types.length)){t.next=18;break}return c=s.types[u],l=a.unwrap(),S(l instanceof Ht,"Mapper must be a function type."),f=l.invoke(c),h=n[u],t.delegateYield(f.errors(e,r.concat(u),h),"t0",15);case 15:u++,t.next=8;break;case 18:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){var e=this.tuple,r=this.mapper,n=this.context,i=e.unwrap();if(S(i instanceof wt,"Target must be a tuple type."),!n.checkPredicate("Array",t))return!1;for(var a=0;a<i.types.length;a++){var o=i.types[a],s=r.unwrap();if(S(s instanceof Ht,"Mapper must be a function type."),!s.invoke(o).accepts(t[a]))return!1}return!0}},{key:"compareWith",value:function(t){return g(this.unwrap(),t)}},{key:"unwrap",value:function(){var t=this.tuple,e=this.mapper,r=this.context,n=t.unwrap();S(n instanceof wt,"Target must be an tuple type.");for(var i=[],a=0;a<n.types.length;a++){var o=n.types[a],s=e.unwrap();S(s instanceof Ht,"Mapper must be a function type."),i.push(s.invoke(o).unwrap().unwrap())}return r.tuple.apply(r,i)}},{key:"toString",value:function(){return"$TupleMap<"+this.tuple.toString()+", "+this.mapper.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,tuple:this.tuple,mapper:this.mapper}}}]),e}(xt),Je=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="$ValuesType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s,u,c,l;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.type.unwrap(),S(i instanceof de,"Can only $Values<T> object types."),a=i.properties,o=a.length,s=0;case 5:if(!(s<o)){t.next=12;break}if(u=a[s],!u.value.accepts(n)){t.next=9;break}return t.abrupt("return");case 9:s++,t.next=5;break;case 12:for(c=new Array(o),l=0;l<o;l++)c[l]=a[l].value.toString();return t.next=16,[r,_("ERR_NO_UNION",c.join(" | ")),this];case 16:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){var e=this.type.unwrap();S(e instanceof de,"Can only $Values<T> object types.");for(var r=e.properties,n=r.length,i=0;i<n;i++){if(r[i].value.accepts(t))return!0}return!1}},{key:"compareWith",value:function(t){return g(this.unwrap(),t)}},{key:"unwrap",value:function(){var t=this.context,e=this.type.unwrap();S(e instanceof de,"Can only $Values<T> object types.");for(var r=e.properties,n=r.length,i=new Array(n),a=0;a<n;a++){var o=r[a];i[a]=o.value}return t.union.apply(t,i)}},{key:"toString",value:function(){return"$Values<"+this.type.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),e}(xt),$e=function(t){function e(){var t,r,n,i;ot(this,e);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=ft(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.typeName="ClassType",i=r,ft(n,i)}return ct(e,t),st(e,[{key:"errors",value:it.mark(function t(e,r,n){var i,a,o,s;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.instanceType,a=this.context,"function"==typeof n){t.next=5;break}return t.next=4,[r,_("ERR_EXPECT_CLASS",i.toString()),this];case 4:return t.abrupt("return");case 5:if(o="ClassDeclaration"===i.typeName?i:i.unwrap(),s=o instanceof $t?tt(a,o,n):et(a,o,n)){t.next=10;break}return t.next=10,[r,_("ERR_EXPECT_CLASS",i.toString()),this];case 10:case"end":return t.stop()}},t,this)})},{key:"accepts",value:function(t){var e=this.instanceType,r=this.context;if("function"!=typeof t)return!1;var n="ClassDeclaration"===e.typeName?e:e.unwrap();return n instanceof $t?tt(r,n,t):et(r,n,t)}},{key:"compareWith",value:function(t){var r=this.instanceType;return t instanceof e?g(r,t.instanceType):-1}},{key:"toString",value:function(){return"Class<"+this.instanceType.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,instanceType:this.instanceType}}}]),e}(xt),Ze=new WeakSet,Qe=function(){function r(){ot(this,r),this.mode="assert",this[Ft]={},this[qt]={},this[Ut]=new Map,this[zt]=new Be(this),this[Wt]={}}return st(r,[{key:"makeJSONError",value:function(e){return t(e)}},{key:"makeTypeError",value:function(t){return v(t)}},{key:"createContext",value:function(){var t=new r;return t[Bt]=this,t}},{key:"typeOf",value:function(t){var e=this.getAnnotation(t);if(e)return"function"==typeof t&&(e instanceof ce||e instanceof fe)?this.Class(e):e;var r=this[zt];return r.infer(t)}},{key:"compareTypes",value:function(t,e){return g(t,e)}},{key:"get",value:function(t){for(var r=this[Ft][t],n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(null!=r){for(var o="function"==typeof r?new r(this):r,s=0;s<i.length;s++){var u=i[s];if("function"!=typeof o.getProperty)return;if(!(o=o.getProperty(u)))return;o=o.unwrap()}return o}var c=this[Bt];if(c){var l=c.get.apply(c,[t].concat(pt(i)));if(l)return l}if("function"==typeof e[t]){var f=new $t(this);return f.name=t,f.impl=e[t],this[Ft][t]=f,f}}},{key:"getPredicate",value:function(t){var e=this[qt][t];if(e)return e;var r=this[Bt];return r?r.getPredicate(t):void 0}},{key:"setPredicate",value:function(t,e){this[qt][t]=e}},{key:"checkPredicate",value:function(t,e){var r=this.getPredicate(t);return!!r&&r(e)}},{key:"decorate",value:function(t,e){var r=this;return null==e&&(e="assert"===this.mode),function(n,i,a){return a&&"string"==typeof i?H(t,n,i,a,Boolean(e)):(S("function"!=typeof t,"Cannot decorate an object or function as a method."),r.annotate(n,t))}}},{key:"annotate",value:function(t,e){return void 0===e?Q(t):Q(t,e)}},{key:"getAnnotation",value:function(t){if(null!==t&&"object"===(void 0===t?"undefined":at(t))||"function"==typeof t)return t[Vt]}},{key:"hasAnnotation",value:function(t){return null!=t&&!!t[Vt]}},{key:"setAnnotation",value:function(t,e){return t[Vt]=e,t}},{key:"type",value:function(t,e){if("function"==typeof e){var r=new be(this);return r.name=t,r.typeCreator=e,r}var n=new Rt(this);return n.name=t,n.type=e,n}},{key:"declare",value:function(t,e){if(t instanceof ie?(e=t,t=e.name):t instanceof Rt&&(e=t,t=e.name),"function"==typeof e&&(e=this.type(t,e)),e instanceof se){return this[Wt][t]=e,e}S("string"==typeof t,"Name must be a string"),S(e instanceof xt,"Type must be supplied to declaration");var r=this[Ft];if(e instanceof ie)return r[t]=e,e;if(e instanceof Rt||e instanceof be){var n=new oe(this);return n.name=t,n.typeAlias=e,r[t]=n,n}var i=this.var(t,e);return r[t]=i,i}},{key:"declarations",value:it.mark(function t(){var e,r;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this[Ft],t.t0=it.keys(e);case 2:if((t.t1=t.t0()).done){t.next=8;break}return r=t.t1.value,t.next=6,[r,e[r]];case 6:t.next=2;break;case 8:case"end":return t.stop()}},t,this)})},{key:"modules",value:it.mark(function t(){var e,r;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this[Wt],t.t0=it.keys(e);case 2:if((t.t1=t.t0()).done){t.next=8;break}return r=t.t1.value,t.next=6,e[r];case 6:t.next=2;break;case 8:case"end":return t.stop()}},t,this)})},{key:"import",value:function(t){var e=this[Wt];if(e[t])return e[t];var r=t.split("/"),n=ht(r,1),i=n[0],a=e[i];if(a)return a.import(t);var o=this[Bt];return o?o.import(t):void 0}},{key:"declareTypeConstructor",value:function(t){var e=t.name,r=t.impl,n=t.typeName,i=t.errors,a=t.accepts,o=t.inferTypeParameters,s=t.compareWith,u=this[Ft];u[e]&&this.emitWarningMessage("Redeclaring type: "+e+", this may be unintended.");var c=new Jt(this);if(c.name=e,c.typeName=n,c.impl=r,c.errors=i,c.accepts=a,c.inferTypeParameters=o,"function"==typeof s&&(c.compareWith=s),u[e]=c,"function"==typeof r){var l=this[Ut];l.has(r)&&this.emitWarningMessage("A type handler already exists for the given implementation of "+e+"."),l.set(r,c)}return c}},{key:"getTypeConstructor",value:function(t){var e=this[Ut];return e.get(t)}},{key:"literal",value:function(t){return void 0===t?this.void():null===t?this.null():"boolean"==typeof t?this.boolean(t):"number"==typeof t?this.number(t):"string"==typeof t?this.string(t):"symbol"===(void 0===t?"undefined":at(t))?this.symbol(t):this.typeOf(t)}},{key:"null",value:function(){return nt.null}},{key:"nullable",value:function(t){var e=new te(this);return e.type=t,e}},{key:"existential",value:function(){return nt.existential}},{key:"empty",value:function(){return nt.empty}},{key:"any",value:function(){return nt.any}},{key:"mixed",value:function(){return nt.mixed}},{key:"void",value:function(){return nt.void}},{key:"this",value:function(t){var e=new Ae(this);return void 0!==t&&(e.recorded=t),e}},{key:"number",value:function(t){if(void 0!==t){var e=new _e(this);return e.value=t,e}return nt.number}},{key:"boolean",value:function(t){if(void 0!==t){var e=new Tt(this);return e.value=t,e}return nt.boolean}},{key:"string",value:function(t){if(void 0!==t){var e=new Se(this);return e.value=t,e}return nt.string}},{key:"symbol",value:function(t){if(void 0!==t){var e=new Ee(this);return e.value=t,e}return nt.symbol}},{key:"typeParameter",value:function(t,e,r){var n=new Dt(this);return n.id=t,n.bound=e,n.default=r,n}},{key:"flowInto",value:function(t){return w(t)}},{key:"bindTypeParameters",value:function(t){var e=Object.getPrototypeOf(t),r=e&&Object.getPrototypeOf(e),n=r&&r.constructor;if(!n)return this.emitWarningMessage("Could not bind type parameters for non-existent parent class."),t;var i=n[Xt];if(i){for(var a=t[i],o=Object.keys(a),s=arguments.length,u=Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=arguments[c];for(var l=Math.min(o.length,u.length),f=0;f<l;f++){a[o[f]].bound=u[f]}}return t}},{key:"module",value:function(t,e){var r=new se(this);r.name=t;var n=this.createContext();return n[Bt]=this,n[Gt]=r,r.innerContext=n,e(n),r}},{key:"moduleExports",value:function(t){var e=this[Gt];if(!e)throw new Error("Cannot declare module.exports outside of a module.");var r=new ue(this);return r.type=t,e.moduleExports=r,r}},{key:"var",value:function(t,e){var r=new ae(this);return r.name=t,r.type=e,r}},{key:"class",value:function(t,e){if("function"==typeof e){var r=new fe(this);return r.name=t,r.bodyCreator=e,r}var n=new ce(this);n.name=t;for(var i=arguments.length,a=Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];null!=e&&a.unshift(e);for(var s=a.length,u=[],c=void 0,l=0;l<s;l++){var f=a[l];if(f instanceof ee||f instanceof re)u.push(f);else if(f instanceof de)S(!c,"Class body must only be declared once."),c=f;else if(f instanceof he)S(!n.superClass,"Classes can only have one super class."),n.superClass=f;else{if(null==f||"object"!==(void 0===f?"undefined":at(f))||f instanceof xt)throw new Error("ClassDeclaration cannot contain the given type directly.");for(var h in f)u.push(this.property(h,f[h]))}}if(c||(c=new de(this)),u.length){var p;(p=c.properties).push.apply(p,u)}return n.body=c,n}},{key:"extends",value:function(t){for(var e=new he(this),r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.type=this.ref.apply(this,[t].concat(pt(n))),e}},{key:"fn",value:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return this.function.apply(this,[t].concat(r))}},{key:"function",value:function(t){if("function"==typeof t){var e=new ke(this);return e.bodyCreator=t,e}var r=new Ht(this);if(null!=t){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];i.unshift(t);for(var o=i.length,s=0;s<o;s++){var u=i[s];if(u instanceof Nt)r.params.push(u);else if(u instanceof It)r.rest=u;else{if(!(u instanceof Lt))throw new Error("FunctionType cannot contain the given type directly.");r.returnType=u}}}return r.returnType||(r.returnType=this.any()),r}},{key:"param",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new Nt(this);return n.name=t,n.type=e,n.optional=r,n}},{key:"rest",value:function(t,e){var r=new It(this);return r.name=t,r.type=e,r}},{key:"return",value:function(t){var e=new Lt(this);return e.type=t,e}},{key:"generator",value:function(t,e,r){var n=new Kt(this);return n.yieldType=t,n.returnType=e||this.any(),n.nextType=r||this.any(),n}},{key:"object",value:function(t){var e=new de(this);if(null==t||"object"!==(void 0===t?"undefined":at(t))||t instanceof xt){for(var r=void 0,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];r=t?[t].concat(pt(i)):i;for(var o=r,s=o.length,u=0;u<s;u++){var c=r[u];if(c instanceof ee)e.properties.push(c);else if(c instanceof re)e.indexers.push(c);else{if(!(c instanceof ne))throw new Error("ObjectType cannot contain the given type directly.");e.callProperties.push(c)}}}else for(var l in t)e.properties.push(this.property(l,t[l]));return e}},{key:"exactObject",value:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=this.object.apply(this,[t].concat(pt(r)));return i.exact=!0,i}},{key:"callProperty",value:function(t){var e=new ne(this);return e.value=t,e}},{key:"property",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new ee(this);return n.key=t,n.value=e instanceof xt?e:this.object(e),n.optional=r,n}},{key:"indexer",value:function(t,e,r){var n=new re(this);return n.id=t,n.key=e,n.value=r,n}},{key:"method",value:function(t,e){var r=new ee(this);r.key=t;for(var n=arguments.length,i=Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return r.value=this.function.apply(this,[e].concat(i)),r}},{key:"staticCallProperty",value:function(t){var e=this.callProperty(t);return e.static=!0,e}},{key:"staticProperty",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.property(t,e,r);return n.static=!0,n}},{key:"staticMethod",value:function(t,e){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var a=this.method.apply(this,[t,e].concat(n));return a.static=!0,a}},{key:"spread",value:function(){for(var t=new de(this),e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];for(var i=0;i<r.length;i++){var a=r[i].unwrap();if(Array.isArray(a.callProperties)){var o;(o=t.callProperties).push.apply(o,pt(a.callProperties))}if(Array.isArray(a.indexers)){var s;(s=t.indexers).push.apply(s,pt(a.indexers))}if(Array.isArray(a.properties))for(var u=0;u<a.properties.length;u++){var c=a.properties[u];S(c instanceof ee),t.setProperty(c.key,c.value,c.optional)}}return t}},{key:"tuple",value:function(){for(var t=new wt(this),e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.types=r,t}},{key:"array",value:function(t){var e=new St(this);return e.elementType=t||this.any(),e}},{key:"union",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return X(this,e)}},{key:"intersect",value:function(){for(var t=new me(this),e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.types=r,t}},{key:"intersection",value:function(){return this.intersect.apply(this,arguments)}},{key:"box",value:function(t){var e=new Ce(this);return e.reveal=t,e}},{key:"tdz",value:function(t,e){var r=new Ne(this);return r.reveal=t,r.name=e,r}},{key:"ref",value:function(t){var e=void 0;if("string"==typeof t)(e=this.get(t))||(e=new je(this),e.name=t);else if("function"==typeof t){var r=this[Ut];e=r.get(t),e||(e=new $t(this),e.impl=t,e.name=t.name)}else{if(!(t instanceof xt))return null==t||"object"!==(void 0===t?"undefined":at(t))?this.emitWarningMessage("Could not reference the given type, try t.typeOf(value) instead. (got "+String(t)+")"):Ze.has(t)||(this.emitWarningMessage("Could not reference the given type, try t.typeOf(value) instead."),Ze.add(t)),this.any();e=t}for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(i.length){var o;return S("function"==typeof e.apply,"Cannot apply non-applicable type: "+e.typeName+"."),(o=e).apply.apply(o,pt(i))}return e}},{key:"validate",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments[3],i=new mt(this,e);if(n){var a;(a=i.path).push.apply(a,pt(n))}else"string"==typeof t.name&&i.path.push(t.name);return i.prefix=r,i.errors=Array.from(t.errors(i,[],e)),i}},{key:"check",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments[3];return"assert"===this.mode?this.assert(t,e,r,n):this.warn(t,e,r,n)}},{key:"assert",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments[3],i=this.validate(t,e,r,n),a=this.makeTypeError(i);if(a)throw a;return e}},{key:"warn",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments[3],i=this.validate(t,e,r,n),a=V(i);return"string"==typeof a&&this.emitWarningMessage(a),e}},{key:"emitWarningMessage",value:function(t){console.warn("flow-runtime:",t)}},{key:"propTypes",value:function(t){return z(t.unwrap())}},{key:"match",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e.pop();if(!Array.isArray(n))throw new Error("Invalid pattern, last argument must be an array.");return this.pattern.apply(this,pt(n)).apply(void 0,e)}},{key:"pattern",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.length,i=new Array(n),a=0;a<n;a++){var o=e[a],s=this.getAnnotation(o);if(s)S(s instanceof Ht||s instanceof ke,"Pattern clauses must be annotated functions."),i[a]=s;else{if(a!==n-1)throw new Error("Invalid Pattern - found unannotated function in position "+a+", default clauses must be last.");i[a]=!0}}return function(){for(var t=0;t<i.length;t++){var r=i[t],n=e[t];if(!0===r)return n.apply(void 0,arguments);if(r.acceptsParams.apply(r,arguments))return n.apply(void 0,arguments)}var a=new TypeError("Value did not match any of the candidates.");throw a.name="RuntimeTypeError",a}}},{key:"wrapIterator",value:function(t){var e=this;return it.mark(function r(n){var i,a,o,s,u,c;return it.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:i=!0,a=!1,o=void 0,r.prev=3,s=n[Symbol.iterator]();case 5:if(i=(u=s.next()).done){r.next=12;break}return c=u.value,r.next=9,e.check(t,c);case 9:i=!0,r.next=5;break;case 12:r.next=18;break;case 14:r.prev=14,r.t0=r.catch(3),a=!0,o=r.t0;case 18:r.prev=18,r.prev=19,!i&&s.return&&s.return();case 21:if(r.prev=21,!a){r.next=24;break}throw o;case 24:return r.finish(21);case 25:return r.finish(18);case 26:case"end":return r.stop()}},r,this,[[3,14,18,26],[19,,21,25]])})}},{key:"refinement",value:function(t){var e=new we(this);e.type=t;for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.addConstraint.apply(e,pt(n)),e}},{key:"$exact",value:function(t){var e=new de(this);if(t=t.unwrap(),Array.isArray(t.callProperties)){var r;(r=e.callProperties).push.apply(r,pt(t.callProperties))}if(Array.isArray(t.indexers)){var n;(n=e.indexers).push.apply(n,pt(t.indexers))}if(Array.isArray(t.properties)){var i;(i=e.properties).push.apply(i,pt(t.properties))}return e.exact=!0,e}},{key:"$diff",value:function(t,e){var r=new We(this);return r.aType=t,r.bType=e,r}},{key:"$flowFixMe",value:function(){return new Ge(this)}},{key:"$keys",value:function(t){var e=new Ue(this);return e.type=t,e}},{key:"$objMap",value:function(t,e){var r=new Ve(this);return r.object=t,r.mapper=e,r}},{key:"$objMapi",value:function(t,e){var r=new ze(this);return r.object=t,r.mapper=e,r}},{key:"$propertyType",value:function(t,e){var r=new Xe(this);if(r.object=t,e instanceof xt){var n=e.unwrap();r.property=n.value}else r.property=e;return r}},{key:"$shape",value:function(t){var e=new qe(this);return e.type=t,e}},{key:"$subtype",value:function(t){var e=new He(this);return e.type=t,e}},{key:"$supertype",value:function(t){var e=new Ke(this);return e.type=t,e}},{key:"$tupleMap",value:function(t,e){var r=new Ye(this);return r.tuple=t,r.mapper=e,r}},{key:"$values",value:function(t){var e=new Je(this);return e.type=t,e}},{key:"Class",value:function(t){var e=new $e(this);return e.instanceType=t,e}},{key:"TypeParametersSymbol",get:function(){return Xt}}]),r}(),tr=void 0;void 0!==e&&void 0!==e.__FLOW_RUNTIME_GLOBAL_CONTEXT_DO_NOT_USE_THIS_VARIABLE__?tr=e.__FLOW_RUNTIME_GLOBAL_CONTEXT_DO_NOT_USE_THIS_VARIABLE__:(tr=new Qe,function(t){nt.null=Object.freeze(new Zt(t)),nt.empty=Object.freeze(new Pt(t)),nt.number=Object.freeze(new xe(t)),nt.boolean=Object.freeze(new Et(t)),nt.string=Object.freeze(new Te(t)),nt.symbol=Object.freeze(new Pe(t)),nt.any=Object.freeze(new bt(t)),nt.mixed=Object.freeze(new ge(t)),nt.void=Object.freeze(new Qt(t)),nt.existential=Object.freeze(new At(t))}(tr),function(t){t.declareTypeConstructor({name:"Date",impl:Date,typeName:"DateType",errors:it.mark(function t(e,r,n){return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n instanceof Date){t.next=5;break}return t.next=3,[r,_("ERR_EXPECT_INSTANCEOF","Date"),this];case 3:t.next=8;break;case 5:if(!isNaN(n.getTime())){t.next=8;break}return t.next=8,[r,_("ERR_INVALID_DATE"),this];case 8:case"end":return t.stop()}},t,this)}),accepts:function(t){return t instanceof Date&&!isNaN(t.getTime())},compareWith:function(t){return"DateType"===t.typeName?0:-1},inferTypeParameters:function(t){return[]}}),t.declareTypeConstructor({name:"Promise",impl:Promise,typeName:"PromiseType",errors:it.mark(function t(e,r,n,i){var a;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(S(i,"Must specify type parameter for Promise."),a=this.context,a.checkPredicate("Promise",n)){t.next=5;break}return t.next=5,[r,_("ERR_EXPECT_PROMISE",i),this];case 5:case"end":return t.stop()}},t,this)}),accepts:function(t){return this.context.checkPredicate("Promise",t)},compareWith:function(t){return"PromiseType"===t.typeName?0:-1},inferTypeParameters:function(t){return[]}}),t.declareTypeConstructor({name:"Map",impl:Map,typeName:"MapType",errors:it.mark(function t(e,r,n,i,a){var o,s,u,c,l,f,h,p,y,v;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(S(i,"Must specify two type parameters for Map."),S(a,"Must specify two type parameters for Map."),o=this.context,o.checkPredicate("Map",n)){t.next=7;break}return t.next=6,[r,_("ERR_EXPECT_INSTANCEOF","Map"),this];case 6:return t.abrupt("return");case 7:s=!0,u=!1,c=void 0,t.prev=10,l=n[Symbol.iterator]();case 12:if(s=(f=l.next()).done){t.next=24;break}if(h=f.value,p=ht(h,2),y=p[0],v=p[1],i.accepts(y)){t.next=20;break}return t.next=20,[r,_("ERR_EXPECT_KEY_TYPE",i),this];case 20:return t.delegateYield(a.errors(e,r.concat(y),v),"t0",21);case 21:s=!0,t.next=12;break;case 24:t.next=30;break;case 26:t.prev=26,t.t1=t.catch(10),u=!0,c=t.t1;case 30:t.prev=30,t.prev=31,!s&&l.return&&l.return();case 33:if(t.prev=33,!u){t.next=36;break}throw c;case 36:return t.finish(33);case 37:return t.finish(30);case 38:case"end":return t.stop()}},t,this,[[10,26,30,38],[31,,33,37]])}),accepts:function(t,e,r){if(!this.context.checkPredicate("Map",t))return!1;var n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value,c=ht(u,2),l=c[0],f=c[1];if(!e.accepts(l)||!r.accepts(f))return!1}}catch(t){i=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return!0},compareWith:function(t){return"MapType"===t.typeName?0:-1},inferTypeParameters:function(e){var r=[],n=[],i=!0,a=!1,o=void 0;try{t:for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=ht(c,2),f=l[0],h=l[1];e:{for(var p=0;p<r.length;p++){var y=r[p];if(y.accepts(f))break e}r.push(t.typeOf(f))}for(var v=0;v<n.length;v++){var d=n[v];if(d.accepts(h))continue t}n.push(t.typeOf(h))}}catch(t){a=!0,o=t}finally{try{!i&&u.return&&u.return()}finally{if(a)throw o}}var m=[];return 0===r.length?m.push(t.existential()):1===r.length?m.push(r[0]):m.push(t.union.apply(t,r)),0===n.length?m.push(t.existential()):1===n.length?m.push(n[0]):m.push(t.union.apply(t,n)),m}}),t.declareTypeConstructor({name:"Set",impl:Set,typeName:"SetType",errors:it.mark(function t(e,r,n,i){var a,o,s,u,c,l,f;return it.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(S(i,"Must specify type parameter for Set."),a=this.context,a.checkPredicate("Set",n)){t.next=6;break}return t.next=5,[r,_("ERR_EXPECT_INSTANCEOF","Set"),this];case 5:return t.abrupt("return");case 6:o=!0,s=!1,u=void 0,t.prev=9,c=n[Symbol.iterator]();case 11:if(o=(l=c.next()).done){t.next=17;break}return f=l.value,t.delegateYield(i.errors(e,r,f),"t0",14);case 14:o=!0,t.next=11;break;case 17:t.next=23;break;case 19:t.prev=19,t.t1=t.catch(9),s=!0,u=t.t1;case 23:t.prev=23,t.prev=24,!o&&c.return&&c.return();case 26:if(t.prev=26,!s){t.next=29;break}throw u;case 29:return t.finish(26);case 30:return t.finish(23);case 31:case"end":return t.stop()}},t,this,[[9,19,23,31],[24,,26,30]])}),accepts:function(t,e){if(!this.context.checkPredicate("Set",t))return!1;var r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(!e.accepts(s))return!1}}catch(t){n=!0,i=t}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}return!0},compareWith:function(t){return"SetType"===t.typeName?0:-1},inferTypeParameters:function(e){var r=[],n=!0,i=!1,a=void 0;try{t:for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){for(var u=o.value,c=0;c<r.length;c++){var l=r[c];if(l.accepts(u))continue t}r.push(t.typeOf(u))}}catch(t){i=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return 0===r.length?[t.existential()]:1===r.length?[r[0]]:[t.union.apply(t,r)]}})}(tr),function(t){t.setPredicate("Array",function(t){return Array.isArray(t)}),t.setPredicate("Map",function(t){return t instanceof Map}),t.setPredicate("Set",function(t){return t instanceof Set}),t.setPredicate("Promise",function(t){return t instanceof Promise||null!==t&&("object"===(void 0===t?"undefined":at(t))||"function"==typeof t)&&"function"==typeof t.then})}(tr),void 0!==e&&(e.__FLOW_RUNTIME_GLOBAL_CONTEXT_DO_NOT_USE_THIS_VARIABLE__=tr));var er=tr;return void 0!==e&&e.__FLOW_RUNTIME_GLOBAL_CONTEXT_DO_NOT_USE_THIS_VARIABLE__!==er&&Object.defineProperties(er,{TypeContext:rt(Qe),Type:rt(xt),TypeBox:rt(Ce),TypeParameter:rt(Dt),TypeReference:rt(je),TypeTDZ:rt(Ne),ParameterizedTypeAlias:rt(be),TypeAlias:rt(Rt),TypeConstructor:rt(Jt),GenericType:rt($t),NullLiteralType:rt(Zt),NumberType:rt(xe),NumericLiteralType:rt(_e),BooleanType:rt(Et),BooleanLiteralType:rt(Tt),SymbolType:rt(Pe),SymbolLiteralType:rt(Ee),StringType:rt(Te),StringLiteralType:rt(Se),ArrayType:rt(St),ObjectType:rt(de),ObjectTypeCallProperty:rt(ne),ObjectTypeIndexer:rt(re),ObjectTypeProperty:rt(ee),FunctionType:rt(Ht),FunctionTypeParam:rt(Nt),FunctionTypeRestParam:rt(It),FunctionTypeReturn:rt(Lt),ParameterizedFunctionType:rt(ke),PartialType:rt(le),RefinementType:rt(we),TypeParameterApplication:rt(Ot),GeneratorType:rt(Kt),ExistentialType:rt(At),FlowIntoType:rt(Mt),AnyType:rt(bt),MixedType:rt(ge),EmptyType:rt(Pt),NullableType:rt(te),ThisType:rt(Ae),TupleType:rt(wt),UnionType:rt(Le),IntersectionType:rt(me),VoidType:rt(Qt),Declaration:rt(ie),VarDeclaration:rt(ae),TypeDeclaration:rt(oe),ModuleDeclaration:rt(se),ModuleExportsDeclaration:rt(ue),ClassDeclaration:rt(ce),ParameterizedClassDeclaration:rt(fe),ExtendsDeclaration:rt(he)}),er})}).call(e,r(265))},function(t,e,r){"use strict";r.d(e,"a",function(){return h});var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(19),u=r.n(s),c=r(2),l=u()("setterDictionarySingleton"),f=function(){function t(e){if(i()(this,t),l!==e)throw new Error("Cannot instantiate directly.");this._rules={}}return o()(t,[{key:"addRule",value:function(t,e){return!!Object(c.i)(t)&&(t=t.toLowerCase(),this._rules[t]=e,!0)}},{key:"getRule",value:function(t){if(t=t.toLowerCase(),this._rules[t])return this._rules[t]}}],[{key:"instance",get:function(){return this[l]||(this[l]=new t(l)),this[l]}}]),t}(),h=f.instance},function(t,e,r){"use strict";e.__esModule=!0;var n=r(93),i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(276),a=n(i),o=r(116),s=n(o),u=r(93),c=n(u);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,c.default)(e)));t.prototype=(0,s.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(a.default?(0,a.default)(t,e):t.__proto__=e)}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,r){"use strict";r.d(e,"a",function(){return P});var n=r(211),i=r.n(n),a=r(84),o=r.n(a),s=r(9),u=r.n(s),c=r(10),l=r.n(c),f=r(231),h=r.n(f),p=r(0),y=r.n(p),v=r(1),d=r.n(v),m=r(19),g=r.n(m),_=r(17),x=r(60),b=r(246),k=r.n(b),w=r(32),S=r.n(w),T=g()("contentLoaderSingleton"),E=function(){function t(e){if(y()(this,t),T!==e)throw new Error("Cannot instantiate directly.");this._fileLoaded={},this._fileAlias={},this._imgLoaded={},this._imgAlias={},this._audioLoaded={},this._audioAlias={},this._loadingPaths=new h.a,this._loadingAliases=new h.a}return d()(t,[{key:"clear",value:function(){this._imgLoaded={},this._imgAlias={},this._audioLoaded={},this._audioAlias={},this._fileLoaded={},this._fileAlias={}}},{key:"fileExistsAsync",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e){var r,n,i,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=S.a.string(),n=S.a.return(S.a.union(S.a.boolean(),S.a.ref("Promise",S.a.boolean()))),S.a.param("path",r).assert(e),i=this._enrichRelativePath(e),t.prev=4,t.next=7,k.a.head(i);case 7:if(a=t.sent,200==a.status){t.next=10;break}throw new Error("Something didn't work as expected with "+a.request.responseURL+" file request.\n"+a.statusText+". Status code: "+a.status);case 10:return t.abrupt("return",n.assert(!0));case 13:return t.prev=13,t.t0=t.catch(4),console.warn(t.t0),t.abrupt("return",n.assert(!1));case 17:case"end":return t.stop()}},t,this,[[4,13]])}));return t}()},{key:"isImageAliasCached",value:function(t){return this._imgAlias.hasOwnProperty(t)}},{key:"isFileAliasCached",value:function(t){return this._fileAlias.hasOwnProperty(t)}},{key:"isAudioAliasCached",value:function(t){return this._audioAlias.hasOwnProperty(t)}},{key:"isImageCached",value:function(t){return this._imgLoaded.hasOwnProperty(t)}},{key:"isFileCached",value:function(t){return this._fileLoaded.hasOwnProperty(t)}},{key:"isAudioCached",value:function(t){return this._audioLoaded.hasOwnProperty(t)}},{key:"getImage",value:function(t){if(this.isImageAliasCached(t))return this._imgLoaded[this._imgAlias[t]]}},{key:"getSourcePath",value:function(t){if(this.isImageAliasCached(t))return this._imgAlias[t]}},{key:"getFile",value:function(t){if(this.isFileAliasCached(t))return this._fileLoaded[this._fileAlias[t]]}},{key:"getAudio",value:function(t){if(this.isAudioAliasCached(t))return this._audioLoaded[this._audioAlias[t]]}},{key:"_filterByPathAndAlias",value:function(t){var e=new h.a,r=t.filter(function(t){return"string"==typeof t.path&&"string"==typeof t.alias&&!e.has(t.path)&&!e.has(t.alias)&&(e.add(t.path),e.add(t.alias),!0)});return e.clear(),r}},{key:"_isLoading",value:function(t,e){return this._loadingPaths.has(t)?(console.warn("Already loading "+t+"... Discarding."),!0):!!this._loadingAliases.has(e)&&(console.warn("Alias "+e+" is already in use. Discarding "+t+"."),!0)}},{key:"_setupLoadingQueue",value:function(t){if(!Array.isArray(t))return[];var e=this._filterByPathAndAlias(t);return t.length!=e.length&&console.warn("Some files have been filtered out from loading due to invalid/duplicate paths or aliases."),e}},{key:"loadAll",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e){var r,n,i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=e||{},e.images=e.images||[],e.files=e.files||[],e.audios=e.audios||[],r=this.loadAllImages(e.images),n=this.loadAllFiles(e.files),i=this.loadAllAudios(e.audios),t.next=9,o.a.all([r,n,i]);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return t}()},{key:"loadAllImages",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e){var r=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._setupLoadingQueue(e),t.next=3,o.a.all(e.map(function(){var t=l()(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.loadImage(e.path,e.alias);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,r)}));return function(e){return t.apply(this,arguments)}}()));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"loadAllFiles",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e){var r=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._setupLoadingQueue(e),t.next=3,o.a.all(e.map(function(){var t=l()(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.loadFile(e.path,e.alias);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,r)}));return function(e){return t.apply(this,arguments)}}()));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"loadAllAudios",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e){var r=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._setupLoadingQueue(e),t.next=3,o.a.all(e.map(function(){var t=l()(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.loadAudio(e.path,e.alias);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,r)}));return function(e){return t.apply(this,arguments)}}()));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"loadImage",value:function(){function t(t,r){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e,r){var n,a,o,s;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._assertPathAliasValidity(e,r),a=i()(n,2),e=a[0],r=a[1],o=this._enrichRelativePath(e),!this.isImageCached(o)){t.next=8;break}return console.warn("Image "+o+" is already in cache. Reusing."),t.abrupt("return",this._imgLoaded[o]);case 8:return t.next=10,this._tryToLoadImage(o,r);case 10:if(null!=(s=t.sent)){t.next=13;break}return t.abrupt("return",!1);case 13:return this._cacheImage(o,r,s),t.abrupt("return",s);case 15:case"end":return t.stop()}},t,this)}));return t}()},{key:"loadAudio",value:function(){function t(t,r){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e,r){var n,a,o,s;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._assertPathAliasValidity(e,r),a=i()(n,2),e=a[0],r=a[1],o=this._enrichRelativePath(e),!this.isAudioCached(o)){t.next=8;break}return console.warn("Audio "+o+" is already in cache. Reusing."),t.abrupt("return",this._audioLoaded[o]);case 8:return t.next=10,this._tryToLoadAudio(o,r);case 10:if(null!=(s=t.sent)){t.next=13;break}return t.abrupt("return",!1);case 13:return this._cacheAudio(o,r,s),t.abrupt("return",s);case 15:case"end":return t.stop()}},t,this)}));return t}()},{key:"loadFile",value:function(){function t(t,r){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e,r){var n,a,o,s;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._assertPathAliasValidity(e,r),a=i()(n,2),e=a[0],r=a[1],o=this._enrichRelativePath(e),!this.isFileCached(o)){t.next=8;break}return console.warn("File "+o+" is already in cache. Reusing."),t.abrupt("return",this._fileLoaded[o]);case 8:return t.next=10,this._tryToLoadFile(o,r);case 10:if(null!=(s=t.sent)){t.next=13;break}return t.abrupt("return",!1);case 13:return this._cacheFile(o,r,s),t.abrupt("return",s);case 15:case"end":return t.stop()}},t,this)}));return t}()},{key:"_enrichRelativePath",value:function(t){return _.a.activeProjectPath&&t.indexOf(_.a.activeProjectPath)<0&&(t=_.a.activeProjectPath+t),t}},{key:"_assertPathAliasValidity",value:function(t,e){var r="string"!=typeof t?"":t;return[r,"string"!=typeof e?r:e]}},{key:"_cacheImage",value:function(t,e,r){this._imgLoaded[t]=r,this._imgAlias[e]=t}},{key:"_cacheAudio",value:function(t,e,r){this._audioLoaded[t]=r,this._audioAlias[e]=t}},{key:"_cacheFile",value:function(t,e,r){this._fileLoaded[t]=r,this._fileAlias[e]=t}},{key:"_tryToLoadImage",value:function(){function t(t,r){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e,r){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._isLoading(e,r)||this.isImageAliasCached(r)||this.isImageCached(e))){t.next=2;break}return t.abrupt("return",null);case 2:return this._loadingPaths.add(e),this._loadingAliases.add(r),t.prev=4,t.next=7,this._loadImage(e);case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(4),console.error(t.t0.name,t.t0.message),t.abrupt("return",null);case 14:return t.prev=14,this._loadingPaths.delete(e),this._loadingAliases.delete(r),t.finish(14);case 18:case"end":return t.stop()}},t,this,[[4,10,14,18]])}));return t}()},{key:"_tryToLoadAudio",value:function(){function t(t,r){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e,r){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._isLoading(e,r)||this.isAudioAliasCached(r)||this.isAudioCached(e))){t.next=2;break}return t.abrupt("return",null);case 2:return this._loadingPaths.add(e),this._loadingAliases.add(r),t.prev=4,t.next=7,this._loadAudio(e);case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(4),console.error(t.t0),t.abrupt("return",null);case 14:return t.prev=14,this._loadingPaths.delete(e),this._loadingAliases.delete(r),t.finish(14);case 18:case"end":return t.stop()}},t,this,[[4,10,14,18]])}));return t}()},{key:"_tryToLoadFile",value:function(){function t(t,r){return e.apply(this,arguments)}var e=l()(u.a.mark(function t(e,r){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._isLoading(e,r)||this.isFileAliasCached(r)||this.isFileCached(e))){t.next=2;break}return t.abrupt("return",null);case 2:return this._loadingPaths.add(e),this._loadingAliases.add(r),t.prev=4,t.next=7,this._loadFile(e);case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(4),console.error(t.t0),t.abrupt("return",null);case 14:return t.prev=14,this._loadingPaths.delete(e),this._loadingAliases.delete(r),t.finish(14);case 18:case"end":return t.stop()}},t,this,[[4,10,14,18]])}));return t}()},{key:"_loadImage",value:function(t){return new o.a(function(e,r){var n=new Image;n.src=t,n.onload=function(){return e(n)},n.onerror=function(){return r(new Error("Image is not defined. Unable to load it."))}})}},{key:"_loadFile",value:function(t){return new o.a(function(e,r){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var i=x.a.fromXHR(n,t);e(i)}else 4===n.readyState&&200!=n.status&&r(new Error("Could not load file."))},n.send(null)})}},{key:"_loadAudio",value:function(t){return new o.a(function(e,r){var n=new Audio;n.src=t,n.oncanplaythrough=function(){return e(n)},n.onerror=function(){return r(new Error("Audio is not defined. Unable to load it."))}})}}],[{key:"instance",get:function(){return this[T]||(this[T]=new t(T)),this[T]}}]),t}(),P=E.instance},function(t,e){t.exports={}},function(t,e,r){"use strict";var n=r(93),i=r.n(n),a=r(90),o=r.n(a),s=r(0),u=r.n(s),c=r(1),l=r.n(c),f=r(17),h=r(20),p=r(149),y=r(2),v=r(25),d=function(){function t(e,r,n,i){if(u()(this,t),!Object(y.i)(e)||!Object(y.i)(r))throw new Error("Vertex and Fragment scripts are required to create a shader, discarding..");if(!Object(y.i)(f.a.renderContext))throw new Error("The WebGL render context is not yet set, can't create shader.");this.uniforms=n||{},this.attributes=i||{},this._gl=f.a.renderContext.getContext(),this._program=null,this._vertexScript=e,this._fragmentScript=r,this._textureCount=1,this._uid=Object(y.b)(),this._logger=new h.b("Shader"),this.setup()}return l()(t,[{key:"setup",value:function(){if(this.compile()){var t=f.a.activeGame.getShaderManager();t?t.useShader(this):this._gl.useProgram(this._program),this.cacheUniformLocations(o()(this.uniforms)),this.cacheAttributeLocations(o()(this.attributes))}else this._logger.error("Shader setup failed")}},{key:"compile",value:function(){var t=p.a.createProgramFromScripts(this._gl,this._vertexScript,this._fragmentScript);return Object(y.i)(t)?(this._program=t,!0):(t=null,!1)}},{key:"getUID",value:function(){return this._uid}},{key:"cacheUniformLocations",value:function(t){for(var e=0;e<t.length;++e){"object"===i()(this.uniforms[t[e]])?this.uniforms[t[e]]._location=this._gl.getUniformLocation(this._program,t[e]):this._logger.warn("Shader's uniform "+t[e]+" is not an object.")}}},{key:"cacheAttributeLocations",value:function(t){for(var e=0;e<t.length;++e)this.attributes[t[e]]=this._gl.getAttribLocation(this._program,t[e])}},{key:"syncUniforms",value:function(){this._textureCount=1;for(var t in this.uniforms)this.syncUniform(this.uniforms[t])}},{key:"syncUniform",value:function(t){var e=t._location,r=t.value,n=this._gl;switch(t.type){case"b":case"bool":n.uniform1i(e,r?1:0);break;case"i":case"1i":n.uniform1i(e,r);break;case"2i":n.uniform2i(e,r[0],r[1]);break;case"3i":n.uniform3i(e,r[0],r[1],r[2]);break;case"4i":n.uniform4i(e,r[0],r[1],r[2],r[3]);break;case"f":case"1f":n.uniform1f(e,r);break;case"2f":n.uniform2f(e,r[0],r[1]);break;case"3f":n.uniform3f(e,r[0],r[1],r[2]);break;case"4f":n.uniform4f(e,r[0],r[1],r[2],r[3]);break;case"m2":case"mat2":n.uniformMatrix2fv(e,t.transpose,r);break;case"m3":case"mat3":n.uniformMatrix3fv(e,t.transpose,r);break;case"m4":case"mat4":n.uniformMatrix4fv(e,t.transpose,r);break;case"tex":if(!v.a.isTexture2D(t.value)||!t.value.isReady()){this._logger.warn("Could not assign texture uniform because the texture isn't ready.");break}n.activeTexture(n["TEXTURE"+this._textureCount]);var i=t.value.getImageData()._glTextures[n.id];Object(y.i)(i);break;default:this._logger.warn("Unknown uniform type: "+t.type)}}},{key:"getProgram",value:function(){return this._program}},{key:"initSampler2D",value:function(t){if(!v.a.isTexture2D(t.value)||!t.value.isReady())return void this._logger.warn("Could not initialize sampler2D because the texture isn't ready.")}},{key:"unload",value:function(){this._gl.deleteProgram(this._program)}}]),t}();e.a=d},function(t,e,r){var n={};t.exports=n;var i=r(21),a=r(11),o=r(41),s=(r(63),r(3)),u=r(12),c=r(67);!function(){n._inertiaScale=4,n._nextCollidingGroupId=1,n._nextNonCollidingGroupId=-1,n._nextCategory=1,n.create=function(e){var r={id:s.nextId(),type:"body",label:"Body",parts:[],angle:0,vertices:i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:1.5}},n=s.extend(r,e);return t(n,e),n},n.nextGroup=function(t){return t?n._nextNonCollidingGroupId--:n._nextCollidingGroupId++},n.nextCategory=function(){return n._nextCategory=n._nextCategory<<1,n._nextCategory};var t=function(t,e){n.set(t,{bounds:t.bounds||u.create(t.vertices),positionPrev:t.positionPrev||a.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),i.rotate(t.vertices,t.angle,t.position),c.rotate(t.axes,t.angle),u.update(t.bounds,t.vertices,t.velocity),n.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia});var r=t.isStatic?"#eeeeee":s.choose(["#556270","#4ECDC4","#C7F464","#FF6B6B","#C44D58"]),o=s.shadeColor(r,-20);t.render.fillStyle=t.render.fillStyle||r,t.render.strokeStyle=t.render.strokeStyle||o,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};n.set=function(t,e,r){var i;"string"==typeof e&&(i=e,e={},e[i]=r);for(i in e)if(r=e[i],e.hasOwnProperty(i))switch(i){case"isStatic":n.setStatic(t,r);break;case"isSleeping":o.set(t,r);break;case"mass":n.setMass(t,r);break;case"density":n.setDensity(t,r);break;case"inertia":n.setInertia(t,r);break;case"vertices":n.setVertices(t,r);break;case"position":n.setPosition(t,r);break;case"angle":n.setAngle(t,r);break;case"velocity":n.setVelocity(t,r);break;case"angularVelocity":n.setAngularVelocity(t,r);break;case"parts":n.setParts(t,r);break;default:t[i]=r}},n.setStatic=function(t,e){for(var r=0;r<t.parts.length;r++){var n=t.parts[r];n.isStatic=e,e&&(n.restitution=0,n.friction=1,n.mass=n.inertia=n.density=1/0,n.inverseMass=n.inverseInertia=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.angularVelocity=0,n.speed=0,n.angularSpeed=0,n.motion=0)}},n.setMass=function(t,e){t.mass=e,t.inverseMass=1/t.mass,t.density=t.mass/t.area},n.setDensity=function(t,e){n.setMass(t,e*t.area),t.density=e},n.setInertia=function(t,e){t.inertia=e,t.inverseInertia=1/t.inertia},n.setVertices=function(t,e){e[0].body===t?t.vertices=e:t.vertices=i.create(e,t),t.axes=c.fromVertices(t.vertices),t.area=i.area(t.vertices),n.setMass(t,t.density*t.area);var r=i.centre(t.vertices);i.translate(t.vertices,r,-1),n.setInertia(t,n._inertiaScale*i.inertia(t.vertices,t.mass)),i.translate(t.vertices,t.position),u.update(t.bounds,t.vertices,t.velocity)},n.setParts=function(t,r,a){var o;for(r=r.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,o=0;o<r.length;o++){var s=r[o];s!==t&&(s.parent=t,t.parts.push(s))}if(1!==t.parts.length){if(a=void 0===a||a){var u=[];for(o=0;o<r.length;o++)u=u.concat(r[o].vertices);i.clockwiseSort(u);var c=i.hull(u),l=i.centre(c);n.setVertices(t,c),i.translate(t.vertices,l)}var f=e(t);t.area=f.area,t.parent=t,t.position.x=f.centre.x,t.position.y=f.centre.y,t.positionPrev.x=f.centre.x,t.positionPrev.y=f.centre.y,n.setMass(t,f.mass),n.setInertia(t,f.inertia),n.setPosition(t,f.centre)}},n.setPosition=function(t,e){var r=a.sub(e,t.position);t.positionPrev.x+=r.x,t.positionPrev.y+=r.y;for(var n=0;n<t.parts.length;n++){var o=t.parts[n];o.position.x+=r.x,o.position.y+=r.y,i.translate(o.vertices,r),u.update(o.bounds,o.vertices,t.velocity)}},n.setAngle=function(t,e){var r=e-t.angle;t.anglePrev+=r;for(var n=0;n<t.parts.length;n++){var o=t.parts[n];o.angle+=r,i.rotate(o.vertices,r,t.position),c.rotate(o.axes,r),u.update(o.bounds,o.vertices,t.velocity),n>0&&a.rotateAbout(o.position,r,t.position,o.position)}},n.setVelocity=function(t,e){t.positionPrev.x=t.position.x-e.x,t.positionPrev.y=t.position.y-e.y,t.velocity.x=e.x,t.velocity.y=e.y,t.speed=a.magnitude(t.velocity)},n.setAngularVelocity=function(t,e){t.anglePrev=t.angle-e,t.angularVelocity=e,t.angularSpeed=Math.abs(t.angularVelocity)},n.translate=function(t,e){n.setPosition(t,a.add(t.position,e))},n.rotate=function(t,e){n.setAngle(t,t.angle+e)},n.scale=function(t,r,a,o){for(var s=0;s<t.parts.length;s++){var l=t.parts[s];i.scale(l.vertices,r,a,t.position),l.axes=c.fromVertices(l.vertices),t.isStatic||(l.area=i.area(l.vertices),n.setMass(l,t.density*l.area),i.translate(l.vertices,{x:-l.position.x,y:-l.position.y}),n.setInertia(l,i.inertia(l.vertices,l.mass)),i.translate(l.vertices,{x:l.position.x,y:l.position.y})),u.update(l.bounds,l.vertices,t.velocity)}if(t.circleRadius&&(r===a?t.circleRadius*=r:t.circleRadius=null),!t.isStatic){var f=e(t);t.area=f.area,n.setMass(t,f.mass),n.setInertia(t,f.inertia)}},n.update=function(t,e,r,n){var o=Math.pow(e*r*t.timeScale,2),s=1-t.frictionAir*r*t.timeScale,l=t.position.x-t.positionPrev.x,f=t.position.y-t.positionPrev.y;t.velocity.x=l*s*n+t.force.x/t.mass*o,t.velocity.y=f*s*n+t.force.y/t.mass*o,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.angularVelocity=(t.angle-t.anglePrev)*s*n+t.torque/t.inertia*o,t.anglePrev=t.angle,t.angle+=t.angularVelocity,t.speed=a.magnitude(t.velocity),t.angularSpeed=Math.abs(t.angularVelocity);for(var h=0;h<t.parts.length;h++){var p=t.parts[h];i.translate(p.vertices,t.velocity),h>0&&(p.position.x+=t.velocity.x,p.position.y+=t.velocity.y),0!==t.angularVelocity&&(i.rotate(p.vertices,t.angularVelocity,t.position),c.rotate(p.axes,t.angularVelocity),h>0&&a.rotateAbout(p.position,t.angularVelocity,t.position,p.position)),u.update(p.bounds,p.vertices,t.velocity)}},n.applyForce=function(t,e,r){t.force.x+=r.x,t.force.y+=r.y;var n={x:e.x-t.position.x,y:e.y-t.position.y};t.torque+=n.x*r.y-n.y*r.x};var e=function(t){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},r=1===t.parts.length?0:1;r<t.parts.length;r++){var n=t.parts[r];e.mass+=n.mass,e.area+=n.area,e.inertia+=n.inertia,e.centre=a.add(e.centre,a.mult(n.position,n.mass!==1/0?n.mass:1))}return e.centre=a.div(e.centre,e.mass!==1/0?e.mass:t.parts.length),e}}()},function(t,e,r){var n={};t.exports=n;var i=r(28);!function(){n._motionWakeThreshold=.18,n._motionSleepThreshold=.08,n._minBias=.9,n.update=function(t,e){for(var r=e*e*e,i=0;i<t.length;i++){var a=t[i],o=a.speed*a.speed+a.angularSpeed*a.angularSpeed;if(0===a.force.x&&0===a.force.y){var s=Math.min(a.motion,o),u=Math.max(a.motion,o);a.motion=n._minBias*s+(1-n._minBias)*u,a.sleepThreshold>0&&a.motion<n._motionSleepThreshold*r?(a.sleepCounter+=1,a.sleepCounter>=a.sleepThreshold&&n.set(a,!0)):a.sleepCounter>0&&(a.sleepCounter-=1)}else n.set(a,!1)}},n.afterCollisions=function(t,e){for(var r=e*e*e,i=0;i<t.length;i++){var a=t[i];if(a.isActive){var o=a.collision,s=o.bodyA.parent,u=o.bodyB.parent;if(!(s.isSleeping&&u.isSleeping||s.isStatic||u.isStatic)&&(s.isSleeping||u.isSleeping)){var c=s.isSleeping&&!s.isStatic?s:u,l=c===s?u:s;!c.isStatic&&l.motion>n._motionWakeThreshold*r&&n.set(c,!1)}}}},n.set=function(t,e){var r=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,r||i.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,r&&i.trigger(t,"sleepEnd"))}}()},function(t,e,r){var n={};t.exports=n;var i=r(21),a=r(11),o=r(41),s=r(12),u=r(67),c=r(3);!function(){n.create=function(t){var e=t;e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var r=e.bodyA?a.add(e.bodyA.position,e.pointA):e.pointA,n=e.bodyB?a.add(e.bodyB.position,e.pointB):e.pointB,i=a.magnitude(a.sub(r,n));e.length=e.length||i||1e-6;var o={visible:!0,lineWidth:2,strokeStyle:"#666"};return e.render=c.extend(o,e.render),e.id=e.id||c.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||1,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e},n.solveAll=function(t,e){for(var r=0;r<t.length;r++)n.solve(t[r],e)},n.solve=function(t,e){var r=t.bodyA,n=t.bodyB,i=t.pointA,o=t.pointB;r&&!r.isStatic&&(t.pointA=a.rotate(i,r.angle-t.angleA),t.angleA=r.angle),n&&!n.isStatic&&(t.pointB=a.rotate(o,n.angle-t.angleB),t.angleB=n.angle);var s=i,u=o;if(r&&(s=a.add(r.position,i)),n&&(u=a.add(n.position,o)),s&&u){var c=a.sub(s,u),l=a.magnitude(c);0===l&&(l=1e-6);var f=(l-t.length)/l,h=a.div(c,l),p=a.mult(c,.5*f*t.stiffness*e*e);if(!(Math.abs(1-l/t.length)<.001*e)){var y,v,d,m,g,_,x,b;r&&!r.isStatic?(d={x:s.x-r.position.x+p.x,y:s.y-r.position.y+p.y},r.velocity.x=r.position.x-r.positionPrev.x,r.velocity.y=r.position.y-r.positionPrev.y,r.angularVelocity=r.angle-r.anglePrev,y=a.add(r.velocity,a.mult(a.perp(d),r.angularVelocity)),g=a.dot(d,h),x=r.inverseMass+r.inverseInertia*g*g):(y={x:0,y:0},x=r?r.inverseMass:0),n&&!n.isStatic?(m={x:u.x-n.position.x-p.x,y:u.y-n.position.y-p.y},n.velocity.x=n.position.x-n.positionPrev.x,n.velocity.y=n.position.y-n.positionPrev.y,n.angularVelocity=n.angle-n.anglePrev,v=a.add(n.velocity,a.mult(a.perp(m),n.angularVelocity)),_=a.dot(m,h),b=n.inverseMass+n.inverseInertia*_*_):(v={x:0,y:0},b=n?n.inverseMass:0);var k=a.sub(v,y),w=a.dot(h,k)/(x+b);w>0&&(w=0);var S,T={x:h.x*w,y:h.y*w};r&&!r.isStatic&&(S=a.cross(d,T)*r.inverseInertia*(1-t.angularStiffness),r.constraintImpulse.x-=p.x,r.constraintImpulse.y-=p.y,r.constraintImpulse.angle+=S,r.position.x-=p.x,r.position.y-=p.y,r.angle+=S),n&&!n.isStatic&&(S=a.cross(m,T)*n.inverseInertia*(1-t.angularStiffness),n.constraintImpulse.x+=p.x,n.constraintImpulse.y+=p.y,n.constraintImpulse.angle-=S,n.position.x+=p.x,n.position.y+=p.y,n.angle-=S)}}},n.postSolveAll=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r.constraintImpulse;if(0!==n.x||0!==n.y||0!==n.angle){o.set(r,!1);for(var c=0;c<r.parts.length;c++){var l=r.parts[c];i.translate(l.vertices,n),c>0&&(l.position.x+=n.x,l.position.y+=n.y),0!==n.angle&&(i.rotate(l.vertices,n.angle,r.position),u.rotate(l.axes,n.angle),c>0&&a.rotateAbout(l.position,n.angle,r.position,l.position)),s.update(l.bounds,l.vertices,r.velocity)}n.angle=0,n.x=0,n.y=0}}}}()},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,r){var n=r(14).f,i=r(29),a=r(5)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,a)&&n(t,a,{configurable:!0,value:e})}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n={WEBGL:"webgl",EXECUTION_PHASES:{WAITING:0,UPDATE:10,SCENE_UPDATE:11,LATE_UPDATE:12,RENDER:13,SCENE_RENDER:14,LATE_RENDER:15},CONTENT_EXTENSIONS:{ATLAS:".atl"},EVENTS:{CONTENT_ASSET_LOADED:"editor_updatePropertyEditorView",INPUT:{GAMEPAD_CONNECTED:"input_gamepadConnected",GAMEPAD_DISCONNECTED:"input_gamepadDisconnected"}}}},function(t,e,r){r(214);for(var n=r(6),i=r(24),a=r(38),o=r(5)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=n[c],f=l&&l.prototype;f&&!f[o]&&i(f,o,c),a[c]=a.Array}},function(t,e,r){"use strict";var n=r(217)(!0);r(83)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},function(t,e,r){var n=r(23),i=r(223),a=r(224),o=r(15),s=r(76),u=r(125),c={},l={},e=t.exports=function(t,e,r,f,h){var p,y,v,d,m=h?function(){return t}:u(t),g=n(r,f,e?2:1),_=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(a(m)){for(p=s(t.length);p>_;_++)if((d=e?g(o(y=t[_])[0],y[1]):g(t[_]))===c||d===l)return d}else for(v=m.call(t);!(y=v.next()).done;)if((d=i(v,g,y.value,e))===c||d===l)return d};e.BREAK=c,e.RETURN=l},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__=__webpack_require__(90),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__=__webpack_require__(270),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_regenerator__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_get_iterator__=__webpack_require__(124),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_get_iterator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_get_iterator__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator__),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_classCallCheck__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_classCallCheck___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_classCallCheck__),__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_createClass__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_createClass___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_createClass__),__WEBPACK_IMPORTED_MODULE_7_common_logger__=__webpack_require__(20),__WEBPACK_IMPORTED_MODULE_8_common_utils__=__webpack_require__(2),Objectify=function(){function Objectify(){__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_classCallCheck___default()(this,Objectify)}return __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_createClass___default()(Objectify,null,[{key:"array",value:function(t){var e=[];return t.forEach(function(t){if(Object(__WEBPACK_IMPORTED_MODULE_8_common_utils__.g)(t.objectify))try{var r=Objectify.create(t);r&&e.push(r)}catch(t){Objectify._logger.error("Failed to objectify element: "+t)}}),e}},{key:"restoreArray",value:function(){function t(t){return e.apply(this,arguments)}var e=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_regenerator___default.a.mark(function t(e){var r,n,i,a,o,s,u,c;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],n=!0,i=!1,a=void 0,t.prev=4,o=__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_get_iterator___default()(e);case 6:if(n=(s=o.next()).done){t.next=16;break}if(u=s.value,!u._otype){t.next=13;break}return t.next=11,Objectify.restore(u,u._otype);case 11:c=t.sent,r.push(c);case 13:n=!0,t.next=6;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(4),i=!0,a=t.t0;case 22:t.prev=22,t.prev=23,!n&&o.return&&o.return();case 25:if(t.prev=25,!i){t.next=28;break}throw a;case 28:return t.finish(25);case 29:return t.finish(22);case 30:return t.abrupt("return",r);case 31:case"end":return t.stop()}},t,this,[[4,18,22,30],[23,,25,29]])}));return t}()},{key:"createDataString",value:function(t,e){return e?__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(Objectify.create(t),null,4):__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(Objectify.create(t))}},{key:"hasObjectify",value:function(t){return Object(__WEBPACK_IMPORTED_MODULE_8_common_utils__.i)(t)&&Object(__WEBPACK_IMPORTED_MODULE_8_common_utils__.g)(t.objectify)}},{key:"create",value:function(t){var e=Object(__WEBPACK_IMPORTED_MODULE_8_common_utils__.c)(t),r=void 0;return r=Objectify.hasObjectify(t)?t.objectify():JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(t)),r._otype=e,r}},{key:"restore",value:function(){function restore(t,e){return _ref2.apply(this,arguments)}var _ref2=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_regenerator___default.a.mark(function _callee2(data,typeName){var type;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(_context2.prev=0,type=Object(__WEBPACK_IMPORTED_MODULE_8_common_utils__.i)(typeName)?typeName:data._otype,!(type=eval(type))||!type.restore){_context2.next=7;break}return _context2.next=6,type.restore(data);case 6:return _context2.abrupt("return",_context2.sent);case 7:_context2.next=12;break;case 9:_context2.prev=9,_context2.t0=_context2.catch(0),Objectify._logger.error("Failed to restore element: "+_context2.t0);case 12:case"end":return _context2.stop()}},_callee2,this,[[0,9]])}));return restore}()},{key:"restoreFromString",value:function(t,e){return Objectify.restore(JSON.parse(t),e)}},{key:"extend",value:function(t,e){return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(e).forEach(function(r){t[r]=e[r]}),t}}]),Objectify}();__webpack_exports__.a=Objectify,Objectify._logger=new __WEBPACK_IMPORTED_MODULE_7_common_logger__.b("Objectify")},function(t,e,r){var n=t.exports={};n.version="master",n.Body=r(40),n.Composite=r(22),n.World=r(102),n.Contact=r(101),n.Detector=r(65),n.Grid=r(64),n.Pairs=r(103),n.Pair=r(52),n.Query=r(168),n.Resolver=r(104),n.SAT=r(66),n.Constraint=r(42),n.MouseConstraint=r(169),n.Common=r(3),n.Engine=r(106),n.Events=r(28),n.Mouse=r(105),n.Runner=r(170),n.Sleeping=r(41),n.Metrics=r(107),n.Bodies=r(68),n.Composites=r(171),n.Axes=r(67),n.Bounds=r(12),n.Svg=r(172),n.Vector=r(11),n.Vertices=r(21),n.Render=r(63),n.RenderPixi=r(173),n.World.add=n.Composite.add,n.World.remove=n.Composite.remove,n.World.addComposite=n.Composite.addComposite,n.World.addBody=n.Composite.addBody,n.World.addConstraint=n.Composite.addConstraint,n.World.clear=n.Composite.clear,n.Engine.run=n.Runner.run},function(t,e,r){var n={};t.exports=n;var i=r(101);!function(){n.create=function(t,e){var r=t.bodyA,i=t.bodyB,a=t.parentA,o=t.parentB,s={id:n.id(r,i),bodyA:r,bodyB:i,contacts:{},activeContacts:[],separation:0,isActive:!0,isSensor:r.isSensor||i.isSensor,timeCreated:e,timeUpdated:e,inverseMass:a.inverseMass+o.inverseMass,friction:Math.min(a.friction,o.friction),frictionStatic:Math.max(a.frictionStatic,o.frictionStatic),restitution:Math.max(a.restitution,o.restitution),slop:Math.max(a.slop,o.slop)};return n.update(s,t,e),s},n.update=function(t,e,r){var a=t.contacts,o=e.supports,s=t.activeContacts,u=e.parentA,c=e.parentB;if(t.collision=e,t.inverseMass=u.inverseMass+c.inverseMass,t.friction=Math.min(u.friction,c.friction),t.frictionStatic=Math.max(u.frictionStatic,c.frictionStatic),t.restitution=Math.max(u.restitution,c.restitution),t.slop=Math.max(u.slop,c.slop),s.length=0,e.collided){for(var l=0;l<o.length;l++){var f=o[l],h=i.id(f),p=a[h];p?s.push(p):s.push(a[h]=i.create(f))}t.separation=e.depth,n.setActive(t,!0,r)}else!0===t.isActive&&n.setActive(t,!1,r)},n.setActive=function(t,e,r){e?(t.isActive=!0,t.timeUpdated=r):(t.isActive=!1,t.activeContacts.length=0)},n.id=function(t,e){return t.id<e.id?t.id+"_"+e.id:e.id+"_"+t.id}}()},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},function(t,e){t.exports=!0},function(t,e,r){var n=r(110),i=r(79);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e,r){var n=r(15),i=r(180),a=r(79),o=r(78)("IE_PROTO"),s=function(){},u=function(){var t,e=r(69)("iframe"),n=a.length;for(e.style.display="none",r(114).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;n--;)delete u.prototype[a[n]];return u()};t.exports=Object.create||function(t,e){var r;return null!==t?(s.prototype=n(t),r=new s,s.prototype=null,r[o]=t):r=u(),void 0===e?r:i(r,e)}},function(t,e,r){var n=r(75);t.exports=function(t){return Object(n(t))}},function(t,e,r){var n=r(45),i=r(5)("toStringTag"),a="Arguments"==n(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=o(e=Object(t),i))?r:a?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=function(){function t(e,r,n){i()(this,t),this.headers=e,this.content=r,this.filepath=n}return o()(t,null,[{key:"fromXHR",value:function(e,r){var n={};return e.getAllResponseHeaders().split("\r\n").forEach(function(t){var e=t.indexOf(":");if(-1!==e){var r=t.slice(0,e).toLowerCase().trim(),i=t.slice(e+1).trim();n[r]=i}}),new t(n,e.responseText,r)}}]),t}();e.a=s},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=function(){function t(){i()(this,t)}return o()(t,null,[{key:"PI",get:function(){return Math.PI}},{key:"PI2",get:function(){return 2*t.PI}},{key:"PI4",get:function(){return 4*t.PI}},{key:"PIo2",get:function(){return t.PI/2}},{key:"PIo4",get:function(){return t.PI/4}}]),o()(t,null,[{key:"clamp",value:function(t,e,r){return t<e?e:t>r?r:t}},{key:"degToRad",value:function(t){return.0174532925*t}},{key:"radToDeg",value:function(t){return 57.295779513*t}},{key:"normalize",value:function(t,e,r,n,i){var a=t,o=e,s=r,u=n,c=i,l=s-o;return 0===l?(console.error("Division by 0 not allowed. Returning 0."),0):(a-o)/l*(c-u)+u}}]),t}();e.a=s},function(t,e,r){"use strict";var n=r(9),i=r.n(n),a=r(10),o=r.n(a),s=r(0),u=r.n(s),c=r(1),l=r.n(c),f=r(37),h=r(17),p=r(2),y=function(){function t(e){if(u()(this,t),!Object(p.i)(e))throw new Error("Cannot create Texture2D without an image source");this._uid=Object(p.b)(),this._source=e,this._texture=null,this._textureSrc=e.src,this._gl=h.a.renderContext.getContext(),this._texture=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this._texture),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,this._gl.RGBA,this._gl.UNSIGNED_BYTE,this._source),this._hasLoaded=!0}return l()(t,[{key:"getUID",value:function(){return this._uid}},{key:"bind",value:function(){this._gl.bindTexture(this._gl.TEXTURE_2D,this._texture)}},{key:"setImageData",value:function(t){this._source=t,this._textureSrc=t.src}},{key:"getImageData",value:function(){return this._source}},{key:"getTextureSrc",value:function(){return this._textureSrc}},{key:"getWidth",value:function(){return this._source.width}},{key:"getHeight",value:function(){return this._source.height}},{key:"getTexture",value:function(){return this._texture}},{key:"isReady",value:function(){return this._hasLoaded}},{key:"unload",value:function(){}}],[{key:"fromPath",value:function(){function e(t){return r.apply(this,arguments)}var r=o()(i.a.mark(function e(r){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.loadImage(r);case 2:if(!1!==(n=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",new t(n));case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}();e.a=y},function(t,e,r){var n={};t.exports=n;var i=r(3),a=r(22),o=r(12),s=r(28),u=r(64),c=r(11);!function(){var t,e;"undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(function(){t(i.now())},1e3/60)},e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),n.create=function(t){var e={controller:n,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,options:{width:800,height:600,pixelRatio:1,background:"#fafafa",wireframeBackground:"#222",hasBounds:!!t.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},a=i.extend(e,t);return a.canvas&&(a.canvas.width=a.options.width||a.canvas.width,a.canvas.height=a.options.height||a.canvas.height),a.mouse=t.mouse,a.engine=t.engine,a.canvas=a.canvas||r(a.options.width,a.options.height),a.context=a.canvas.getContext("2d"),a.textures={},a.bounds=a.bounds||{min:{x:0,y:0},max:{x:a.canvas.width,y:a.canvas.height}},1!==a.options.pixelRatio&&n.setPixelRatio(a,a.options.pixelRatio),i.isElement(a.element)?a.element.appendChild(a.canvas):i.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),a},n.run=function(e){!function r(i){e.frameRequestId=t(r),n.world(e)}()},n.stop=function(t){e(t.frameRequestId)},n.setPixelRatio=function(t,e){var r=t.options,n=t.canvas;"auto"===e&&(e=l(n)),r.pixelRatio=e,n.setAttribute("data-pixel-ratio",e),n.width=r.width*e,n.height=r.height*e,n.style.width=r.width+"px",n.style.height=r.height+"px",t.context.scale(e,e)},n.world=function(t){var e,r=t.engine,i=r.world,l=t.canvas,f=t.context,p=t.options,y=a.allBodies(i),v=a.allConstraints(i),d=p.wireframes?p.wireframeBackground:p.background,m=[],g=[],_={timestamp:r.timing.timestamp};if(s.trigger(t,"beforeRender",_),t.currentBackground!==d&&h(t,d),f.globalCompositeOperation="source-in",f.fillStyle="transparent",f.fillRect(0,0,l.width,l.height),f.globalCompositeOperation="source-over",p.hasBounds){var x=t.bounds.max.x-t.bounds.min.x,b=t.bounds.max.y-t.bounds.min.y,k=x/p.width,w=b/p.height;for(e=0;e<y.length;e++){var S=y[e];o.overlaps(S.bounds,t.bounds)&&m.push(S)}for(e=0;e<v.length;e++){var T=v[e],E=T.bodyA,P=T.bodyB,A=T.pointA,O=T.pointB;E&&(A=c.add(E.position,T.pointA)),P&&(O=c.add(P.position,T.pointB)),A&&O&&((o.contains(t.bounds,A)||o.contains(t.bounds,O))&&g.push(T))}f.scale(1/k,1/w),f.translate(-t.bounds.min.x,-t.bounds.min.y)}else g=v,m=y;!p.wireframes||r.enableSleeping&&p.showSleeping?n.bodies(t,m,f):(p.showConvexHulls&&n.bodyConvexHulls(t,m,f),n.bodyWireframes(t,m,f)),p.showBounds&&n.bodyBounds(t,m,f),(p.showAxes||p.showAngleIndicator)&&n.bodyAxes(t,m,f),p.showPositions&&n.bodyPositions(t,m,f),p.showVelocity&&n.bodyVelocity(t,m,f),p.showIds&&n.bodyIds(t,m,f),p.showSeparations&&n.separations(t,r.pairs.list,f),p.showCollisions&&n.collisions(t,r.pairs.list,f),p.showVertexNumbers&&n.vertexNumbers(t,m,f),p.showMousePosition&&n.mousePosition(t,t.mouse,f),n.constraints(g,f),p.showBroadphase&&r.broadphase.controller===u&&n.grid(t,r.broadphase,f),p.showDebug&&n.debug(t,f),p.hasBounds&&f.setTransform(p.pixelRatio,0,0,p.pixelRatio,0,0),s.trigger(t,"afterRender",_)},n.debug=function(t,e){var r=e,n=t.engine,i=n.world,o=n.metrics,s=t.options,c=a.allBodies(i);if(n.timing.timestamp-(t.debugTimestamp||0)>=500){var l="";o.timing&&(l+="fps: "+Math.round(o.timing.fps)+"    "),o.extended&&(o.timing&&(l+="delta: "+o.timing.delta.toFixed(3)+"    ",l+="correction: "+o.timing.correction.toFixed(3)+"    "),l+="bodies: "+c.length+"    ",n.broadphase.controller===u&&(l+="buckets: "+o.buckets+"    "),l+="\n",l+="collisions: "+o.collisions+"    ",l+="pairs: "+n.pairs.list.length+"    ",l+="broad: "+o.broadEff+"    ",l+="mid: "+o.midEff+"    ",l+="narrow: "+o.narrowEff+"    "),t.debugString=l,t.debugTimestamp=n.timing.timestamp}if(t.debugString){r.font="12px Arial",s.wireframes?r.fillStyle="rgba(255,255,255,0.5)":r.fillStyle="rgba(0,0,0,0.5)";for(var f=t.debugString.split("\n"),h=0;h<f.length;h++)r.fillText(f[h],50,50+18*h)}},n.constraints=function(t,e){for(var r=e,n=0;n<t.length;n++){var i=t[n];if(i.render.visible&&i.pointA&&i.pointB){var a=i.bodyA,o=i.bodyB;a?(r.beginPath(),r.moveTo(a.position.x+i.pointA.x,a.position.y+i.pointA.y)):(r.beginPath(),r.moveTo(i.pointA.x,i.pointA.y)),o?r.lineTo(o.position.x+i.pointB.x,o.position.y+i.pointB.y):r.lineTo(i.pointB.x,i.pointB.y),r.lineWidth=i.render.lineWidth,r.strokeStyle=i.render.strokeStyle,r.stroke()}}},n.bodyShadows=function(t,e,r){for(var n=r,i=(t.engine,0);i<e.length;i++){var a=e[i];if(a.render.visible){if(a.circleRadius)n.beginPath(),n.arc(a.position.x,a.position.y,a.circleRadius,0,2*Math.PI),n.closePath();else{n.beginPath(),n.moveTo(a.vertices[0].x,a.vertices[0].y);for(var o=1;o<a.vertices.length;o++)n.lineTo(a.vertices[o].x,a.vertices[o].y);n.closePath()}var s=a.position.x-.5*t.options.width,u=a.position.y-.2*t.options.height,c=Math.abs(s)+Math.abs(u);n.shadowColor="rgba(0,0,0,0.15)",n.shadowOffsetX=.05*s,n.shadowOffsetY=.05*u,n.shadowBlur=1+12*Math.min(1,c/1e3),n.fill(),n.shadowColor=null,n.shadowOffsetX=null,n.shadowOffsetY=null,n.shadowBlur=null}}},n.bodies=function(t,e,r){var n,i,a,o,s=r,u=(t.engine,t.options),c=u.showInternalEdges||!u.wireframes;for(a=0;a<e.length;a++)if(n=e[a],n.render.visible)for(o=n.parts.length>1?1:0;o<n.parts.length;o++)if(i=n.parts[o],i.render.visible){if(u.showSleeping&&n.isSleeping?s.globalAlpha=.5*i.render.opacity:1!==i.render.opacity&&(s.globalAlpha=i.render.opacity),i.render.sprite&&i.render.sprite.texture&&!u.wireframes){var l=i.render.sprite,h=f(t,l.texture);s.translate(i.position.x,i.position.y),s.rotate(i.angle),s.drawImage(h,h.width*-l.xOffset*l.xScale,h.height*-l.yOffset*l.yScale,h.width*l.xScale,h.height*l.yScale),s.rotate(-i.angle),s.translate(-i.position.x,-i.position.y)}else{if(i.circleRadius)s.beginPath(),s.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI);else{s.beginPath(),s.moveTo(i.vertices[0].x,i.vertices[0].y);for(var p=1;p<i.vertices.length;p++)!i.vertices[p-1].isInternal||c?s.lineTo(i.vertices[p].x,i.vertices[p].y):s.moveTo(i.vertices[p].x,i.vertices[p].y),i.vertices[p].isInternal&&!c&&s.moveTo(i.vertices[(p+1)%i.vertices.length].x,i.vertices[(p+1)%i.vertices.length].y);s.lineTo(i.vertices[0].x,i.vertices[0].y),s.closePath()}u.wireframes?(s.lineWidth=1,s.strokeStyle="#bbb"):(s.fillStyle=i.render.fillStyle,s.lineWidth=i.render.lineWidth,s.strokeStyle=i.render.strokeStyle,s.fill()),s.stroke()}s.globalAlpha=1}},n.bodyWireframes=function(t,e,r){var n,i,a,o,s,u=r,c=t.options.showInternalEdges;for(u.beginPath(),a=0;a<e.length;a++)if(n=e[a],n.render.visible)for(s=n.parts.length>1?1:0;s<n.parts.length;s++){for(i=n.parts[s],u.moveTo(i.vertices[0].x,i.vertices[0].y),o=1;o<i.vertices.length;o++)!i.vertices[o-1].isInternal||c?u.lineTo(i.vertices[o].x,i.vertices[o].y):u.moveTo(i.vertices[o].x,i.vertices[o].y),i.vertices[o].isInternal&&!c&&u.moveTo(i.vertices[(o+1)%i.vertices.length].x,i.vertices[(o+1)%i.vertices.length].y);u.lineTo(i.vertices[0].x,i.vertices[0].y)}u.lineWidth=1,u.strokeStyle="#bbb",u.stroke()},n.bodyConvexHulls=function(t,e,r){var n,i,a,o=r;for(o.beginPath(),i=0;i<e.length;i++)if(n=e[i],n.render.visible&&1!==n.parts.length){for(o.moveTo(n.vertices[0].x,n.vertices[0].y),a=1;a<n.vertices.length;a++)o.lineTo(n.vertices[a].x,n.vertices[a].y);o.lineTo(n.vertices[0].x,n.vertices[0].y)}o.lineWidth=1,o.strokeStyle="rgba(255,255,255,0.2)",o.stroke()},n.vertexNumbers=function(t,e,r){var n,i,a,o=r;for(n=0;n<e.length;n++){var s=e[n].parts;for(a=s.length>1?1:0;a<s.length;a++){var u=s[a];for(i=0;i<u.vertices.length;i++)o.fillStyle="rgba(255,255,255,0.2)",o.fillText(n+"_"+i,u.position.x+.8*(u.vertices[i].x-u.position.x),u.position.y+.8*(u.vertices[i].y-u.position.y))}}},n.mousePosition=function(t,e,r){var n=r;n.fillStyle="rgba(255,255,255,0.8)",n.fillText(e.position.x+"  "+e.position.y,e.position.x+5,e.position.y-5)},n.bodyBounds=function(t,e,r){var n=r,i=(t.engine,t.options);n.beginPath();for(var a=0;a<e.length;a++){if(e[a].render.visible)for(var o=e[a].parts,s=o.length>1?1:0;s<o.length;s++){var u=o[s];n.rect(u.bounds.min.x,u.bounds.min.y,u.bounds.max.x-u.bounds.min.x,u.bounds.max.y-u.bounds.min.y)}}i.wireframes?n.strokeStyle="rgba(255,255,255,0.08)":n.strokeStyle="rgba(0,0,0,0.1)",n.lineWidth=1,n.stroke()},n.bodyAxes=function(t,e,r){var n,i,a,o,s=r,u=(t.engine,t.options);for(s.beginPath(),i=0;i<e.length;i++){var c=e[i],l=c.parts;if(c.render.visible)if(u.showAxes)for(a=l.length>1?1:0;a<l.length;a++)for(n=l[a],o=0;o<n.axes.length;o++){var f=n.axes[o];s.moveTo(n.position.x,n.position.y),s.lineTo(n.position.x+20*f.x,n.position.y+20*f.y)}else for(a=l.length>1?1:0;a<l.length;a++)for(n=l[a],o=0;o<n.axes.length;o++)s.moveTo(n.position.x,n.position.y),s.lineTo((n.vertices[0].x+n.vertices[n.vertices.length-1].x)/2,(n.vertices[0].y+n.vertices[n.vertices.length-1].y)/2)}u.wireframes?s.strokeStyle="indianred":(s.strokeStyle="rgba(0,0,0,0.8)",s.globalCompositeOperation="overlay"),s.lineWidth=1,s.stroke(),s.globalCompositeOperation="source-over"},n.bodyPositions=function(t,e,r){var n,i,a,o,s=r,u=(t.engine,t.options);for(s.beginPath(),a=0;a<e.length;a++)if(n=e[a],n.render.visible)for(o=0;o<n.parts.length;o++)i=n.parts[o],s.arc(i.position.x,i.position.y,3,0,2*Math.PI,!1),s.closePath();for(u.wireframes?s.fillStyle="indianred":s.fillStyle="rgba(0,0,0,0.5)",s.fill(),s.beginPath(),a=0;a<e.length;a++)n=e[a],n.render.visible&&(s.arc(n.positionPrev.x,n.positionPrev.y,2,0,2*Math.PI,!1),s.closePath());s.fillStyle="rgba(255,165,0,0.8)",s.fill()},n.bodyVelocity=function(t,e,r){var n=r;n.beginPath();for(var i=0;i<e.length;i++){var a=e[i];a.render.visible&&(n.moveTo(a.position.x,a.position.y),n.lineTo(a.position.x+2*(a.position.x-a.positionPrev.x),a.position.y+2*(a.position.y-a.positionPrev.y)))}n.lineWidth=3,n.strokeStyle="cornflowerblue",n.stroke()},n.bodyIds=function(t,e,r){var n,i,a=r;for(n=0;n<e.length;n++)if(e[n].render.visible){var o=e[n].parts;for(i=o.length>1?1:0;i<o.length;i++){var s=o[i];a.font="12px Arial",a.fillStyle="rgba(255,255,255,0.5)",a.fillText(s.id,s.position.x+10,s.position.y-10)}}},n.collisions=function(t,e,r){var n,i,a,o,s=r,u=t.options;for(s.beginPath(),a=0;a<e.length;a++)if(n=e[a],n.isActive)for(i=n.collision,o=0;o<n.activeContacts.length;o++){var c=n.activeContacts[o],l=c.vertex;s.rect(l.x-1.5,l.y-1.5,3.5,3.5)}for(u.wireframes?s.fillStyle="rgba(255,255,255,0.7)":s.fillStyle="orange",s.fill(),s.beginPath(),a=0;a<e.length;a++)if(n=e[a],n.isActive&&(i=n.collision,n.activeContacts.length>0)){var f=n.activeContacts[0].vertex.x,h=n.activeContacts[0].vertex.y;2===n.activeContacts.length&&(f=(n.activeContacts[0].vertex.x+n.activeContacts[1].vertex.x)/2,h=(n.activeContacts[0].vertex.y+n.activeContacts[1].vertex.y)/2),i.bodyB===i.supports[0].body||!0===i.bodyA.isStatic?s.moveTo(f-8*i.normal.x,h-8*i.normal.y):s.moveTo(f+8*i.normal.x,h+8*i.normal.y),s.lineTo(f,h)}u.wireframes?s.strokeStyle="rgba(255,165,0,0.7)":s.strokeStyle="orange",s.lineWidth=1,s.stroke()},n.separations=function(t,e,r){var n,i,a,o,s,u=r,c=t.options;for(u.beginPath(),s=0;s<e.length;s++)if(n=e[s],n.isActive){i=n.collision,a=i.bodyA,o=i.bodyB;var l=1;o.isStatic||a.isStatic||(l=.5),o.isStatic&&(l=0),u.moveTo(o.position.x,o.position.y),u.lineTo(o.position.x-i.penetration.x*l,o.position.y-i.penetration.y*l),l=1,o.isStatic||a.isStatic||(l=.5),a.isStatic&&(l=0),u.moveTo(a.position.x,a.position.y),u.lineTo(a.position.x+i.penetration.x*l,a.position.y+i.penetration.y*l)}c.wireframes?u.strokeStyle="rgba(255,165,0,0.5)":u.strokeStyle="orange",u.stroke()},n.grid=function(t,e,r){var n=r;t.options.wireframes?n.strokeStyle="rgba(255,180,0,0.1)":n.strokeStyle="rgba(255,180,0,0.5)",n.beginPath();for(var a=i.keys(e.buckets),o=0;o<a.length;o++){var s=a[o];if(!(e.buckets[s].length<2)){var u=s.split(",");n.rect(.5+parseInt(u[0],10)*e.bucketWidth,.5+parseInt(u[1],10)*e.bucketHeight,e.bucketWidth,e.bucketHeight)}}n.lineWidth=1,n.stroke()},n.inspector=function(t,e){var r,n=(t.engine,t.selected),i=t.render,a=i.options;if(a.hasBounds){var o=i.bounds.max.x-i.bounds.min.x,s=i.bounds.max.y-i.bounds.min.y,u=o/i.options.width,c=s/i.options.height;e.scale(1/u,1/c),e.translate(-i.bounds.min.x,-i.bounds.min.y)}for(var l=0;l<n.length;l++){var f=n[l].data;switch(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.9)",e.setLineDash([1,2]),f.type){case"body":r=f.bounds,e.beginPath(),e.rect(Math.floor(r.min.x-3),Math.floor(r.min.y-3),Math.floor(r.max.x-r.min.x+6),Math.floor(r.max.y-r.min.y+6)),e.closePath(),e.stroke();break;case"constraint":var h=f.pointA;f.bodyA&&(h=f.pointB),e.beginPath(),e.arc(h.x,h.y,10,0,2*Math.PI),e.closePath(),e.stroke()}e.setLineDash([]),e.translate(-.5,-.5)}null!==t.selectStart&&(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.6)",e.fillStyle="rgba(255,165,0,0.1)",r=t.selectBounds,e.beginPath(),e.rect(Math.floor(r.min.x),Math.floor(r.min.y),Math.floor(r.max.x-r.min.x),Math.floor(r.max.y-r.min.y)),e.closePath(),e.stroke(),e.fill(),e.translate(-.5,-.5)),a.hasBounds&&e.setTransform(1,0,0,1,0,0)};var r=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r.oncontextmenu=function(){return!1},r.onselectstart=function(){return!1},r},l=function(t){var e=t.getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},f=function(t,e){var r=t.textures[e];return r||(r=t.textures[e]=new Image,r.src=e,r)},h=function(t,e){var r=e;/(jpg|gif|png)$/.test(e)&&(r="url("+e+")"),t.canvas.style.background=r,t.canvas.style.backgroundSize="contain",t.currentBackground=e}}()},function(t,e,r){var n={};t.exports=n;var i=r(52),a=r(65),o=r(3);!function(){n.create=function(t){var e={controller:n,detector:a.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return o.extend(e,t)},n.update=function(r,n,i,a){var o,h,p,y,v,d=i.world,m=r.buckets,g=!1,_=i.metrics;for(_.broadphaseTests=0,o=0;o<n.length;o++){var x=n[o];if((!x.isSleeping||a)&&!(x.bounds.max.x<d.bounds.min.x||x.bounds.min.x>d.bounds.max.x||x.bounds.max.y<d.bounds.min.y||x.bounds.min.y>d.bounds.max.y)){var b=e(r,x);if(!x.region||b.id!==x.region.id||a){_.broadphaseTests+=1,x.region&&!a||(x.region=b);var k=t(b,x.region);for(h=k.startCol;h<=k.endCol;h++)for(p=k.startRow;p<=k.endRow;p++){v=s(h,p),y=m[v];var w=h>=b.startCol&&h<=b.endCol&&p>=b.startRow&&p<=b.endRow,S=h>=x.region.startCol&&h<=x.region.endCol&&p>=x.region.startRow&&p<=x.region.endRow;!w&&S&&S&&y&&l(r,y,x),(x.region===b||w&&!S||a)&&(y||(y=u(m,v)),c(r,y,x))}x.region=b,g=!0}}}g&&(r.pairsList=f(r))},n.clear=function(t){t.buckets={},t.pairs={},t.pairsList=[]};var t=function(t,e){var n=Math.min(t.startCol,e.startCol),i=Math.max(t.endCol,e.endCol),a=Math.min(t.startRow,e.startRow),o=Math.max(t.endRow,e.endRow);return r(n,i,a,o)},e=function(t,e){var n=e.bounds,i=Math.floor(n.min.x/t.bucketWidth),a=Math.floor(n.max.x/t.bucketWidth),o=Math.floor(n.min.y/t.bucketHeight),s=Math.floor(n.max.y/t.bucketHeight);return r(i,a,o,s)},r=function(t,e,r,n){return{id:t+","+e+","+r+","+n,startCol:t,endCol:e,startRow:r,endRow:n}},s=function(t,e){return t+","+e},u=function(t,e){return t[e]=[]},c=function(t,e,r){for(var n=0;n<e.length;n++){var a=e[n];if(!(r.id===a.id||r.isStatic&&a.isStatic)){var o=i.id(r,a),s=t.pairs[o];s?s[2]+=1:t.pairs[o]=[r,a,1]}}e.push(r)},l=function(t,e,r){e.splice(o.indexOf(e,r),1);for(var n=0;n<e.length;n++){var a=e[n],s=i.id(r,a),u=t.pairs[s];u&&(u[2]-=1)}},f=function(t){var e,r,n=[];e=o.keys(t.pairs);for(var i=0;i<e.length;i++)r=t.pairs[e[i]],r[2]>0?n.push(r):delete t.pairs[e[i]];return n}}()},function(t,e,r){var n={};t.exports=n;var i=r(66),a=r(52),o=r(12);!function(){n.collisions=function(t,e){for(var r=[],s=e.pairs.table,u=e.metrics,c=0;c<t.length;c++){var l=t[c][0],f=t[c][1];if((!l.isStatic&&!l.isSleeping||!f.isStatic&&!f.isSleeping)&&(n.canCollide(l.collisionFilter,f.collisionFilter)&&(u.midphaseTests+=1,o.overlaps(l.bounds,f.bounds))))for(var h=l.parts.length>1?1:0;h<l.parts.length;h++)for(var p=l.parts[h],y=f.parts.length>1?1:0;y<f.parts.length;y++){var v=f.parts[y];if(p===l&&v===f||o.overlaps(p.bounds,v.bounds)){var d,m=a.id(p,v),g=s[m];d=g&&g.isActive?g.collision:null;var _=i.collides(p,v,d);u.narrowphaseTests+=1,_.reused&&(u.narrowReuseCount+=1),_.collided&&(r.push(_),u.narrowDetections+=1)}}}return r},n.canCollide=function(t,e){return t.group===e.group&&0!==t.group?t.group>0:0!=(t.mask&e.category)&&0!=(e.mask&t.category)}}()},function(t,e,r){var n={};t.exports=n;var i=r(21),a=r(11);!function(){n.collides=function(e,n,o){var s,u,c,l,f=o,h=!1;if(f){var p=e.parent,y=n.parent,v=p.speed*p.speed+p.angularSpeed*p.angularSpeed+y.speed*y.speed+y.angularSpeed*y.angularSpeed;h=f&&f.collided&&v<.2,l=f}else l={collided:!1,bodyA:e,bodyB:n};if(f&&h){var d=l.axisBody,m=d===e?n:e,g=[d.axes[f.axisNumber]];if(c=t(d.vertices,m.vertices,g),l.reused=!0,c.overlap<=0)return l.collided=!1,l}else{if(s=t(e.vertices,n.vertices,e.axes),s.overlap<=0)return l.collided=!1,l;if(u=t(n.vertices,e.vertices,n.axes),u.overlap<=0)return l.collided=!1,l;s.overlap<u.overlap?(c=s,l.axisBody=e):(c=u,l.axisBody=n),l.axisNumber=c.axisNumber}l.bodyA=e.id<n.id?e:n,l.bodyB=e.id<n.id?n:e,l.collided=!0,l.normal=c.axis,l.depth=c.overlap,l.parentA=l.bodyA.parent,l.parentB=l.bodyB.parent,e=l.bodyA,n=l.bodyB,a.dot(l.normal,a.sub(n.position,e.position))>0&&(l.normal=a.neg(l.normal)),l.tangent=a.perp(l.normal),l.penetration={x:l.normal.x*l.depth,y:l.normal.y*l.depth};var _=r(e,n,l.normal),x=l.supports||[];if(x.length=0,i.contains(e.vertices,_[0])&&x.push(_[0]),i.contains(e.vertices,_[1])&&x.push(_[1]),x.length<2){var b=r(n,e,a.neg(l.normal));i.contains(n.vertices,b[0])&&x.push(b[0]),x.length<2&&i.contains(n.vertices,b[1])&&x.push(b[1])}return x.length<1&&(x=[_[0]]),l.supports=x,l};var t=function(t,r,n){for(var i,o,s=a._temp[0],u=a._temp[1],c={overlap:Number.MAX_VALUE},l=0;l<n.length;l++){if(o=n[l],e(s,t,o),e(u,r,o),(i=Math.min(s.max-u.min,u.max-s.min))<=0)return c.overlap=i,c;i<c.overlap&&(c.overlap=i,c.axis=o,c.axisNumber=l)}return c},e=function(t,e,r){for(var n=a.dot(e[0],r),i=n,o=1;o<e.length;o+=1){var s=a.dot(e[o],r);s>i?i=s:s<n&&(n=s)}t.min=n,t.max=i},r=function(t,e,r){for(var n,i,o,s,u=Number.MAX_VALUE,c=a._temp[0],l=e.vertices,f=t.position,h=0;h<l.length;h++)i=l[h],c.x=i.x-f.x,c.y=i.y-f.y,(n=-a.dot(r,c))<u&&(u=n,o=i);return i=l[o.index-1>=0?o.index-1:l.length-1],c.x=i.x-f.x,c.y=i.y-f.y,u=-a.dot(r,c),s=i,i=l[(o.index+1)%l.length],c.x=i.x-f.x,c.y=i.y-f.y,n=-a.dot(r,c),n<u&&(s=i),[o,s]}}()},function(t,e,r){var n={};t.exports=n;var i=r(11),a=r(3);!function(){n.fromVertices=function(t){for(var e={},r=0;r<t.length;r++){var n=(r+1)%t.length,o=i.normalise({x:t[n].y-t[r].y,y:t[r].x-t[n].x}),s=0===o.y?1/0:o.x/o.y;s=s.toFixed(3).toString(),e[s]=o}return a.values(e)},n.rotate=function(t,e){if(0!==e)for(var r=Math.cos(e),n=Math.sin(e),i=0;i<t.length;i++){var a,o=t[i];a=o.x*r-o.y*n,o.y=o.x*n+o.y*r,o.x=a}}}()},function(t,e,r){var n={};t.exports=n;var i=r(21),a=r(3),o=r(40),s=r(12),u=r(11);!function(){n.rectangle=function(t,e,r,n,s){s=s||{};var u={label:"Rectangle Body",position:{x:t,y:e},vertices:i.fromPath("L 0 0 L "+r+" 0 L "+r+" "+n+" L 0 "+n)};if(s.chamfer){var c=s.chamfer;u.vertices=i.chamfer(u.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete s.chamfer}return o.create(a.extend({},u,s))},n.trapezoid=function(t,e,r,n,s,u){u=u||{},s*=.5;var c,l=(1-2*s)*r,f=r*s,h=f+l,p=h+f;c=s<.5?"L 0 0 L "+f+" "+-n+" L "+h+" "+-n+" L "+p+" 0":"L 0 0 L "+h+" "+-n+" L "+p+" 0";var y={label:"Trapezoid Body",position:{x:t,y:e},vertices:i.fromPath(c)};if(u.chamfer){var v=u.chamfer;y.vertices=i.chamfer(y.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete u.chamfer}return o.create(a.extend({},y,u))},n.circle=function(t,e,r,i,o){i=i||{};var s={label:"Circle Body",circleRadius:r};o=o||25;var u=Math.ceil(Math.max(10,Math.min(o,r)));return u%2==1&&(u+=1),n.polygon(t,e,u,r,a.extend({},s,i))},n.polygon=function(t,e,r,s,u){if(u=u||{},r<3)return n.circle(t,e,s,u);for(var c=2*Math.PI/r,l="",f=.5*c,h=0;h<r;h+=1){var p=f+h*c,y=Math.cos(p)*s,v=Math.sin(p)*s;l+="L "+y.toFixed(3)+" "+v.toFixed(3)+" "}var d={label:"Polygon Body",position:{x:t,y:e},vertices:i.fromPath(l)};if(u.chamfer){var m=u.chamfer;d.vertices=i.chamfer(d.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete u.chamfer}return o.create(a.extend({},d,u))},n.fromVertices=function(t,e,r,n,c,l,f){var h,p,y,v,d,m,g,_,x;for(n=n||{},p=[],c=void 0!==c&&c,l=void 0!==l?l:.01,f=void 0!==f?f:10,window.decomp||a.log("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull.","warn"),a.isArray(r[0])||(r=[r]),_=0;_<r.length;_+=1)if(v=r[_],(y=i.isConvex(v))||!window.decomp)v=y?i.clockwiseSort(v):i.hull(v),p.push({position:{x:t,y:e},vertices:v});else{var b=new decomp.Polygon;for(d=0;d<v.length;d++)b.vertices.push([v[d].x,v[d].y]);b.makeCCW(),!1!==l&&b.removeCollinearPoints(l);var k=b.quickDecomp();for(d=0;d<k.length;d++){var w=k[d],S=[];for(m=0;m<w.vertices.length;m++)S.push({x:w.vertices[m][0],y:w.vertices[m][1]});f>0&&i.area(S)<f||p.push({position:i.centre(S),vertices:S})}}for(d=0;d<p.length;d++)p[d]=o.create(a.extend(p[d],n));if(c){for(d=0;d<p.length;d++){var T=p[d];for(m=d+1;m<p.length;m++){var E=p[m];if(s.overlaps(T.bounds,E.bounds)){var P=T.vertices,A=E.vertices;for(g=0;g<T.vertices.length;g++)for(x=0;x<E.vertices.length;x++){var O=u.magnitudeSquared(u.sub(P[(g+1)%P.length],A[x])),C=u.magnitudeSquared(u.sub(P[g],A[(x+1)%A.length]));O<5&&C<5&&(P[g].isInternal=!0,A[x].isInternal=!0)}}}}}return p.length>1?(h=o.create(a.extend({parts:p.slice(0)},n)),o.setPosition(h,{x:t,y:e}),h):p[0]}}()},function(t,e,r){var n=r(16),i=r(6).document,a=n(i)&&n(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,r){var n=r(16);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,r){var n=r(54)("meta"),i=r(16),a=r(29),o=r(14).f,s=0,u=Object.isExtensible||function(){return!0},c=!r(36)(function(){return u(Object.preventExtensions({}))}),l=function(t){o(t,n,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,n)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[n].i},h=function(t,e){if(!a(t,n)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[n].w},p=function(t){return c&&y.NEED&&u(t)&&!a(t,n)&&l(t),t},y=t.exports={KEY:n,NEED:!1,fastKey:f,getWeak:h,onFreeze:p}},function(t,e,r){var n=r(6),i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,r){e.f=r(5)},function(t,e,r){var n=r(6),i=r(4),a=r(55),o=r(73),s=r(14).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=a?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,r){var n=r(77),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e,r){var n=r(72)("keys"),i=r(54);t.exports=function(t){return n[t]||(n[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,r){var n=r(80),i=r(53),a=r(30),o=r(70),s=r(29),u=r(108),c=Object.getOwnPropertyDescriptor;e.f=r(13)?c:function(t,e){if(t=a(t),e=o(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!n.f.call(t,e),t[e])}},function(t,e){},function(t,e,r){"use strict";var n=r(55),i=r(7),a=r(109),o=r(24),s=r(29),u=r(38),c=r(216),l=r(44),f=r(123),h=r(5)("iterator"),p=!([].keys&&"next"in[].keys()),y=function(){return this};t.exports=function(t,e,r,v,d,m,g){c(r,e,v);var _,x,b,k=function(t){if(!p&&t in E)return E[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},w=e+" Iterator",S="values"==d,T=!1,E=t.prototype,P=E[h]||E["@@iterator"]||d&&E[d],A=P||k(d),O=d?S?k("entries"):A:void 0,C="Array"==e?E.entries||P:P;if(C&&(b=f(C.call(new t)))!==Object.prototype&&b.next&&(l(b,w,!0),n||s(b,h)||o(b,h,y)),S&&P&&"values"!==P.name&&(T=!0,A=function(){return P.call(this)}),n&&!g||!p&&!T&&E[h]||o(E,h,A),u[e]=A,u[w]=y,d)if(_={values:S?A:k("values"),keys:m?A:k("keys"),entries:O},g)for(x in _)x in E||a(E,x,_[x]);else i(i.P+i.F*(p||T),e,_);return _}},function(t,e,r){t.exports={default:r(221),__esModule:!0}},function(t,e){t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,e,r){"use strict";function n(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n}),this.resolve=i(e),this.reject=i(r)}var i=r(43);t.exports.f=function(t){return new n(t)}},function(t,e,r){var n=r(24);t.exports=function(t,e,r){for(var i in e)r&&t[i]?t[i]=e[i]:n(t,i,e[i]);return t}},function(t,e,r){"use strict";(function(e){function n(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var i=r(8),a=r(250),o={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=r(135):void 0!==e&&(t=r(135)),t}(),transformRequest:[function(t,e){return a(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(n(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(n(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(t){s.headers[t]={}}),i.forEach(["post","put","patch"],function(t){s.headers[t]=i.merge(o)}),t.exports=s}).call(e,r(134))},function(t,e,r){"use strict";r.d(e,"a",function(){return f});var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(19),u=r.n(s),c=u()("eventManagerSingleton"),l=function(){function t(e){if(i()(this,t),c!==e)throw new Error("Cannot instantiate directly.");this._handlers={}}return o()(t,[{key:"subscribe",value:function(t,e,r){this._handlers.hasOwnProperty(t)||(this._handlers[t]=[]),this._handlers[t].push({callback:e,context:r})}},{key:"removeSubscription",value:function(t,e){if(this._handlers[t]){for(var r=this._handlers[t].length-1;r>=0;r--)this._handlers[t][r].callback==e&&this._handlers[t].splice(r,1);0==this._handlers[t].length&&delete this._handlers[t]}}},{key:"emit",value:function(t){var e=[],r=void 0;if(arguments.length>1)for(r=1;r<arguments.length;r++)e.push(arguments[r]);if(this._handlers.hasOwnProperty(t))for(r=this._handlers[t].length-1;r>=0;r--)this._handlers[t][r].callback?this._handlers[t][r].callback.apply(this._handlers[t][r].context,e):this._handlers[t].splice(r,1)}},{key:"clear",value:function(){this._handlers={}}}],[{key:"instance",get:function(){return this[c]||(this[c]=new t(c)),this[c]}}]),t}(),f=l.instance},function(t,e,r){t.exports={default:r(268),__esModule:!0}},function(t,e,r){var n=r(7),i=r(4),a=r(36);t.exports=function(t,e){var r=(i.Object||{})[t]||Object[t],o={};o[t]=e(r),n(n.S+n.F*a(function(){r(1)}),"Object",o)}},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=function(){function t(e){i()(this,t),(e instanceof Array||e instanceof Float32Array)&&16===e.length?this._matrix=new Float32Array(e):this._matrix=new Float32Array(16)}return o()(t,[{key:"copy",value:function(e){e instanceof t&&e.setFromArray(this.asArray())}},{key:"setFromArray",value:function(t){(t instanceof Array||t instanceof Float32Array)&&16===t.length&&(this._matrix=new Float32Array(t))}},{key:"clone",value:function(){return new t(this._matrix.asArray())}},{key:"asArray",value:function(){return this._matrix}},{key:"invert",value:function(){var t=this._matrix[10]*this._matrix[15],e=this._matrix[14]*this._matrix[11],r=this._matrix[6]*this._matrix[15],n=this._matrix[14]*this._matrix[7],i=this._matrix[6]*this._matrix[11],a=this._matrix[10]*this._matrix[7],o=this._matrix[2]*this._matrix[15],s=this._matrix[14]*this._matrix[3],u=this._matrix[2]*this._matrix[11],c=this._matrix[10]*this._matrix[3],l=this._matrix[2]*this._matrix[7],f=this._matrix[6]*this._matrix[3],h=this._matrix[8]*this._matrix[13],p=this._matrix[12]*this._matrix[9],y=this._matrix[4]*this._matrix[13],v=this._matrix[12]*this._matrix[5],d=this._matrix[4]*this._matrix[9],m=this._matrix[8]*this._matrix[5],g=this._matrix[0]*this._matrix[13],_=this._matrix[12]*this._matrix[1],x=this._matrix[0]*this._matrix[9],b=this._matrix[8]*this._matrix[1],k=this._matrix[0]*this._matrix[5],w=this._matrix[4]*this._matrix[1],S=t*this._matrix[5]+n*this._matrix[9]+i*this._matrix[13]-(e*this._matrix[5]+r*this._matrix[9]+a*this._matrix[13]),T=e*this._matrix[1]+o*this._matrix[9]+c*this._matrix[13]-(t*this._matrix[1]+s*this._matrix[9]+u*this._matrix[13]),E=r*this._matrix[1]+s*this._matrix[5]+l*this._matrix[13]-(n*this._matrix[1]+o*this._matrix[5]+f*this._matrix[13]),P=a*this._matrix[1]+u*this._matrix[5]+f*this._matrix[9]-(i*this._matrix[1]+c*this._matrix[5]+l*this._matrix[9]),A=1/(this._matrix[0]*S+this._matrix[4]*T+this._matrix[8]*E+this._matrix[12]*P),O=new Float32Array(16);return O[0]=A*S,O[1]=A*T,O[2]=A*E,O[3]=A*P,O[4]=A*(e*this._matrix[4]+r*this._matrix[8]+a*this._matrix[12]-(t*this._matrix[4]+n*this._matrix[8]+i*this._matrix[12])),O[5]=A*(t*this._matrix[0]+s*this._matrix[8]+u*this._matrix[12]-(e*this._matrix[0]+o*this._matrix[8]+c*this._matrix[12])),O[6]=A*(n*this._matrix[0]+o*this._matrix[4]+f*this._matrix[12]-(r*this._matrix[0]+s*this._matrix[4]+l*this._matrix[12])),O[7]=A*(i*this._matrix[0]+c*this._matrix[4]+l*this._matrix[8]-(a*this._matrix[0]+u*this._matrix[4]+f*this._matrix[8])),O[8]=A*(h*this._matrix[7]+v*this._matrix[11]+d*this._matrix[15]-(p*this._matrix[7]+y*this._matrix[11]+m*this._matrix[15])),O[9]=A*(p*this._matrix[3]+g*this._matrix[11]+b*this._matrix[15]-(h*this._matrix[3]+_*this._matrix[11]+x*this._matrix[15])),O[10]=A*(y*this._matrix[3]+_*this._matrix[7]+k*this._matrix[15]-(v*this._matrix[3]+g*this._matrix[7]+w*this._matrix[15])),O[11]=A*(m*this._matrix[3]+x*this._matrix[7]+w*this._matrix[11]-(d*this._matrix[3]+b*this._matrix[7]+k*this._matrix[11])),O[12]=A*(y*this._matrix[10]+m*this._matrix[14]+p*this._matrix[6]-(d*this._matrix[14]+h*this._matrix[6]+v*this._matrix[10])),O[13]=A*(x*this._matrix[14]+h*this._matrix[2]+_*this._matrix[10]-(g*this._matrix[10]+b*this._matrix[14]+p*this._matrix[2])),O[14]=A*(g*this._matrix[6]+w*this._matrix[14]+v*this._matrix[2]-(k*this._matrix[14]+y*this._matrix[2]+_*this._matrix[6])),O[15]=A*(k*this._matrix[10]+d*this._matrix[2]+b*this._matrix[6]-(x*this._matrix[6]+w*this._matrix[10]+m*this._matrix[2])),this._matrix=O,this._matrix}},{key:"multiply",value:function(t){var e=this._matrix[0],r=this._matrix[1],n=this._matrix[2],i=this._matrix[3],a=this._matrix[4],o=this._matrix[5],s=this._matrix[6],u=this._matrix[7],c=this._matrix[8],l=this._matrix[9],f=this._matrix[10],h=this._matrix[11],p=this._matrix[12],y=this._matrix[13],v=this._matrix[14],d=this._matrix[15],m=t[0],g=t[1],_=t[2],x=t[3],b=t[4],k=t[5],w=t[6],S=t[7],T=t[8],E=t[9],P=t[10],A=t[11],O=t[12],C=t[13],R=t[14],j=t[15];return this._matrix[0]=e*m+a*g+c*_+p*x,this._matrix[1]=r*m+o*g+l*_+y*x,this._matrix[2]=n*m+s*g+f*_+v*x,this._matrix[3]=i*m+u*g+h*_+d*x,this._matrix[4]=e*b+a*k+c*w+p*S,this._matrix[5]=r*b+o*k+l*w+y*S,this._matrix[6]=n*b+s*k+f*w+v*S,this._matrix[7]=i*b+u*k+h*w+d*S,this._matrix[8]=e*T+a*E+c*P+p*A,this._matrix[9]=r*T+o*E+l*P+y*A,this._matrix[10]=n*T+s*E+f*P+v*A,this._matrix[11]=i*T+u*E+h*P+d*A,this._matrix[12]=e*O+a*C+c*R+p*j,this._matrix[13]=r*O+o*C+l*R+y*j,this._matrix[14]=n*O+s*C+f*R+v*j,this._matrix[15]=i*O+u*C+h*R+d*j,this._matrix}},{key:"identity",value:function(){return this._matrix[0]=1,this._matrix[1]=0,this._matrix[2]=0,this._matrix[3]=0,this._matrix[4]=0,this._matrix[5]=1,this._matrix[6]=0,this._matrix[7]=0,this._matrix[8]=0,this._matrix[9]=0,this._matrix[10]=1,this._matrix[11]=0,this._matrix[12]=0,this._matrix[13]=0,this._matrix[14]=0,this._matrix[15]=1,this._matrix}},{key:"orthographic",value:function(t,e,r,n,i,a){return this._matrix[0]=2/(e-t),this._matrix[1]=0,this._matrix[2]=0,this._matrix[3]=0,this._matrix[4]=0,this._matrix[5]=2/(n-r),this._matrix[6]=0,this._matrix[7]=0,this._matrix[8]=0,this._matrix[9]=0,this._matrix[10]=1/(i-a),this._matrix[11]=0,this._matrix[12]=(t+e)/(t-e),this._matrix[13]=(r+n)/(r-n),this._matrix[14]=i/(i-a),this._matrix[15]=1,this._matrix}},{key:"rotate",value:function(t,e){var r=t[0],n=t[1],i=t[2],a=Math.sqrt(r*r+n*n+i*i);r/=a,n/=a,i/=a;var o=r*r,s=n*n,u=i*i,c=Math.cos(e),l=Math.sin(e),f=1-c,h=o+(1-o)*c,p=r*n*f+i*l,y=r*i*f-n*l,v=r*n*f-i*l,d=s+(1-s)*c,m=n*i*f+r*l,g=r*i*f+n*l,_=n*i*f-r*l,x=u+(1-u)*c,b=this._matrix[0],k=this._matrix[1],w=this._matrix[2],S=this._matrix[3],T=this._matrix[4],E=this._matrix[5],P=this._matrix[6],A=this._matrix[7],O=this._matrix[8],C=this._matrix[9],R=this._matrix[10],j=this._matrix[11];return this._matrix[0]=h*b+p*T+y*O,this._matrix[1]=h*k+p*E+y*C,this._matrix[2]=h*w+p*P+y*R,this._matrix[3]=h*S+p*A+y*j,this._matrix[4]=v*b+d*T+m*O,this._matrix[5]=v*k+d*E+m*C,this._matrix[6]=v*w+d*P+m*R,this._matrix[7]=v*S+d*A+m*j,this._matrix[8]=g*b+_*T+x*O,this._matrix[9]=g*k+_*E+x*C,this._matrix[10]=g*w+_*P+x*R,this._matrix[11]=g*S+_*A+x*j,this._matrix}},{key:"scale",value:function(t){var e=t[0],r=t[1],n=t[2];return this._matrix[0]=e*this._matrix[0],this._matrix[1]=e*this._matrix[1],this._matrix[2]=e*this._matrix[2],this._matrix[3]=e*this._matrix[3],this._matrix[4]=r*this._matrix[4],this._matrix[5]=r*this._matrix[5],this._matrix[6]=r*this._matrix[6],this._matrix[7]=r*this._matrix[7],this._matrix[8]=n*this._matrix[8],this._matrix[9]=n*this._matrix[9],this._matrix[10]=n*this._matrix[10],this._matrix[11]=n*this._matrix[11],this._matrix}},{key:"translate",value:function(t){var e=this._matrix[0],r=this._matrix[1],n=this._matrix[2],i=this._matrix[3],a=this._matrix[4],o=this._matrix[5],s=this._matrix[6],u=this._matrix[7],c=this._matrix[8],l=this._matrix[9],f=this._matrix[10],h=this._matrix[11],p=this._matrix[12],y=this._matrix[13],v=this._matrix[14],d=this._matrix[15],m=t[0],g=t[1],_=t[2];return this._matrix[12]=e*m+a*g+c*_+p,this._matrix[13]=r*m+o*g+l*_+y,this._matrix[14]=n*m+s*g+f*_+v,this._matrix[15]=i*m+u*g+h*_+d,this._matrix}}]),t}();e.a=s},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(274),a=n(i),o=r(19),s=n(o),u="function"==typeof s.default&&"symbol"==typeof a.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===u(a.default)?function(t){return void 0===t?"undefined":u(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":u(t)}},function(t,e,r){"use strict";var n=r(9),i=r.n(n),a=r(10),o=r.n(a),s=r(0),u=r.n(s),c=r(1),l=r.n(c),f=r(17),h=r(95),p=r(92),y=r(18),v=r(152),d=r(96),m=r(50),g=r(31),_=r(2);g.a.addRule("gameobject","transform",{ownContainer:!0}),g.a.addRule("gameobject","_parent",{visible:!1});var x=function(){function t(e){u()(this,t),e=e||{},this.name=e.name||"GameObject",this.enabled=!0,e.transform&&(e.transform.gameObject=this),this.transform=e.transform||new h.a({gameObject:this}),this._uid=Object(_.b)(),this._parent=e.parent||null,this._children=e.children||[],this._components=e.components||[],this._transformMatrix=new p.a}return l()(t,[{key:"equals",value:function(t){return t.getUID?this._uid===t.getUID():this===t}},{key:"getBaseWidth",value:function(){return 1}},{key:"getBaseHeight",value:function(){return 1}},{key:"getIndex",value:function(){return Object(_.i)(this._parent)?Object(_.d)(this._parent.getChildren(),this):Object(_.d)(f.a.activeScene.getGameObjects(),this)}},{key:"getType",value:function(){return"GameObject"}},{key:"getUID",value:function(){return this._uid}},{key:"propagatePropertyUpdate",value:function(t,e){for(var r=0;r<this._components.length;++r)this._components[r]["onGameObject"+t+"Updated"]&&this._components[r]["onGameObject"+t+"Updated"](e)}},{key:"getMatrix",value:function(){return this._transformMatrix.identity(),this._transformMatrix.translate([this.transform.getPosition().x,this.transform.getPosition().y,0]),this._transformMatrix.asArray()}},{key:"getParent",value:function(){return this._parent}},{key:"removeParent",value:function(){this._parent?this._parent.removeChild(this):f.a.activeScene.removeGameObject(this),this._parent=null}},{key:"setParent",value:function(t){t?(null!==this.getParent()?this.getParent().removeChild(this):f.a.activeScene&&f.a.activeScene.removeGameObject(this),t.addChild(this)):f.a.activeScene&&f.a.activeScene.addGameObject(this)}},{key:"removeChild",value:function(t){for(var e=this._children.length-1;e>=0;e--)if(this._children[e].getUID()===t.getUID())return this._children.splice(e,1)}},{key:"getChildren",value:function(){return this._children}},{key:"addChild",value:function(t,e){t.removeParent(),t._parent=this,Object(_.i)(e)?this._children.splice(e,0,t):this._children.push(t)}},{key:"getHierarchyHash",value:function(){return this._parent?this._parent.getHierarchyHash()+"."+this._uid:this._uid+""}},{key:"isChild",value:function(t){var e=t.getHierarchyHash().split("."),r=e.indexOf(this._uid+"");return e.indexOf(t.getUID()+"")>r&&r>=0}},{key:"addComponent",value:function(t){Object(_.g)(t.setGameObject)&&t.setGameObject(this),t.gameObject=this,t.transform=this.transform,this._components.push(t)}},{key:"update",value:function(t){this.enabled&&(this._children.forEach(function(e){e.update&&e.update(t)}),this._components.forEach(function(e){e.update&&e.update(t)}))}},{key:"render",value:function(t,e){this.enabled&&(this._children.forEach(function(r){r.render&&r.render(t,e)}),this._components.forEach(function(r){r.render&&r.render(t,e)}))}},{key:"getComponents",value:function(){return this._components}},{key:"getBoundary",value:function(t){var e=this.getMatrix(),r=new v.a(y.a.transformMat4(new y.a(0,0),e),y.a.transformMat4(new y.a(1,0),e),y.a.transformMat4(new y.a(1,1),e),y.a.transformMat4(new y.a(0,1),e));return t&&(r.topLeft.x-=t,r.topLeft.y-=t,r.topRight.x+=t,r.topRight.y-=t,r.bottomRight.x+=t,r.bottomRight.y+=t,r.bottomLeft.x-=t,r.bottomLeft.y+=t),r}},{key:"getRectangleBoundary",value:function(t){var e=this.getBoundary(t),r=Math.min(e.topLeft.x,e.topRight.x,e.bottomLeft.x,e.bottomRight.x),n=Math.max(e.topLeft.x,e.topRight.x,e.bottomLeft.x,e.bottomRight.x),i=Math.min(e.topLeft.y,e.topRight.y,e.bottomLeft.y,e.bottomRight.y),a=Math.max(e.topLeft.y,e.topRight.y,e.bottomLeft.y,e.bottomRight.y);return new d.a(r,i,n-r,a-i)}},{key:"collidesWith",value:function(t,e,r){return this.getBoundary(e).overlapsWith(t.getBoundary(r))}},{key:"collidesWithPoint",value:function(t,e){var r=this.getBoundary(e),n=new v.a(new y.a(t.x,t.y),new y.a(t.x+1,t.y),new y.a(t.x+1,t.y+1),new y.a(t.x,t.y+1));return v.a.overlap(r,n)}},{key:"objectify",value:function(){return{name:this.name,transform:this.transform.objectify(),children:m.a.array(this._children),components:m.a.array(this._components)}}},{key:"unload",value:function(){for(var t=0;t<this._components.length;++t)Object(_.g)(this._components[t].unload)&&this._components[t].unload()}}],[{key:"restore",value:function(){function e(t){return r.apply(this,arguments)}var r=o()(i.a.mark(function e(r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=r.name,e.t2=h.a.restore(r.transform),e.next=5,m.a.restoreArray(r.children);case 5:return e.t3=e.sent,e.next=8,m.a.restoreArray(r.components);case 8:return e.t4=e.sent,e.t5={name:e.t1,transform:e.t2,children:e.t3,components:e.t4},e.abrupt("return",new e.t0(e.t5));case 11:case"end":return e.stop()}},e,this)}));return e}()}]),t}();e.a=x},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(31),u=r(2),c=r(18);s.a.addRule("transform","gameObject",{visible:!1});var l=function(){function t(e){i()(this,t),e=e||{},this.gameObject=e.gameObject||null,this._position=e.position||new c.a,this._rotation=e.rotation||0,this._scale=e.scale||new c.a(1,1),this._overridePositionFunction=null,this._overrideRotationFunction=null,this._overrideScaleFunction=null}return o()(t,[{key:"clearPositionGetter",value:function(){this._overridePositionFunction=null}},{key:"clearRotationGetter",value:function(){this._overrideRotationFunction=null}},{key:"clearScaleGetter",value:function(){this._overrideScaleFunction=null}},{key:"overridePositionGetter",value:function(t){this._overridePositionFunction=t}},{key:"overrideScaleGetter",value:function(t){this._overrideScaleFunction=t}},{key:"overrideRotationGetter",value:function(t){this._overrideRotationFunction=t}},{key:"lookAt",value:function(t){var e=this.getPosition().subtract(t).normalize();this.setRotation(Math.atan2(e.y,e.x))}},{key:"setPosition",value:function(t,e){this._position.set(t,e),this.gameObject.propagatePropertyUpdate("Position",this._position)}},{key:"getPosition",value:function(){return Object(u.g)(this._overridePositionFunction)?this._overridePositionFunction():this._position}},{key:"translate",value:function(t,e){var r=this.getPosition();this.setPosition(r.x+(t||0),r.y+(e||0))}},{key:"rotate",value:function(t){this.setRotation(this.getRotation()+(t||0))}},{key:"scale",value:function(t,e){var r=this.getScale();this.setPosition(r.x+(t||0),r.y+(e||0))}},{key:"setRotation",value:function(t){this._rotation=t,this.gameObject.propagatePropertyUpdate("Rotation",this._rotation)}},{key:"getRotation",value:function(){return Object(u.g)(this._overrideRotationFunction)?this._overrideRotationFunction():this._rotation}},{key:"setScale",value:function(t,e){this._scale.set(t,e||t),this.gameObject.propagatePropertyUpdate("Scale",this._scale)}},{key:"getScale",value:function(){return Object(u.g)(this._overrideScaleFunction)?this._overrideScaleFunction():this._scale}},{key:"clone",value:function(){return t.restore(this.objectify())}},{key:"objectify",value:function(){return{position:this._position.objectify(),rotation:this._rotation,scale:this._scale.objectify()}}},{key:"unload",value:function(){}}],[{key:"restore",value:function(e){return new t({position:c.a.restore(e.position),rotation:e.rotation,scale:c.a.restore(e.scale)})}}]),t}();e.a=l},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(33),u=r(18);s.a.addRule("rectangle",["x","y","width","height"]);var c=function(){function t(e,r,n,a){i()(this,t),this.x=0,this.y=0,this.width=0,this.height=0,this.set(e,r,n,a)}return o()(t,[{key:"set",value:function(t,e,r,n){this.x=t||0,this.y=e||0,this.width=r||10,this.height=n||10}},{key:"objectify",value:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.width===this.width&&t.height===this.height}},{key:"unload",value:function(){}},{key:"getVertices",value:function(){return{topLeft:new u.a(this.x,this.y),topRight:new u.a(this.x+this.width,this.y),bottomRight:new u.a(this.x+this.width,this.y+this.height),bottomLeft:new u.a(this.x,this.y+this.height)}}},{key:"intersects",value:function(t){return t.x<=this.x+this.width&&this.x<=t.x+t.width&&t.y<=this.y+this.height&&this.y<=t.y+t.height}},{key:"contains",value:function(t){return t.x>=this.x&&t.x+t.width<=this.x+this.width&&t.y>=this.y&&t.y+t.height<=this.y+this.height}}],[{key:"restore",value:function(e){return new t(e.x,e.y,e.width,e.height)}},{key:"fromBulk",value:function(e,r){return new t(e.x-r/2,e.y-r/2,r,r)}},{key:"fromVectors",value:function(e,r){var n=void 0,i=void 0,a=void 0,o=void 0;return e.x>r.x?(n=r.x,a=Math.abs(e.x-r.x)):(n=e.x,a=Math.abs(r.x-e.x)),e.y>r.y?(i=r.y,o=Math.abs(e.y-r.y)):(i=e.y,o=Math.abs(r.y-e.y)),new t(n,i,a,o)}}]),t}();e.a=c},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(154),u=(r.n(s),r(32)),c=r.n(u),l=function(){function t(){i()(this,t)}return o()(t,null,[{key:"_IS_WIN",get:function(){return c.a.return(c.a.boolean()).assert(navigator.platform.toLowerCase().indexOf("win")>-1)}},{key:"TRAILING_SLASH",get:function(){return c.a.return(c.a.string()).assert(t._IS_WIN?"\\":"/")}}]),o()(t,null,[{key:"wrapDirectoryPath",value:function(e){var r=c.a.string(),n=c.a.return(c.a.string());return c.a.param("path",r).assert(e),n.assert(e+(e.endsWith("/")||e.endsWith("\\")?"":t.TRAILING_SLASH))}},{key:"getDirectory",value:function(t){var e=c.a.string(),r=c.a.return(c.a.string());c.a.param("path",e).assert(t);var n=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return r.assert(t.substring(0,n>=0?n:t.length))}},{key:"getDirectoryName",value:function(t){var e=c.a.string(),r=c.a.return(c.a.string());c.a.param("path",e).assert(t),(t.endsWith("/")||t.endsWith("\\"))&&(t=e.assert(t.substring(0,t.length-1)));var n=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return r.assert(t.substring(n+1,t.length))}},{key:"getFilename",value:function(t){var e=c.a.string(),r=c.a.return(c.a.string());c.a.param("path",e).assert(t);var n=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return r.assert(t.substring(n>=0&&n<t.length-1?n+1:0,t.length))}},{key:"getBasename",value:function(t,e){var r=c.a.string(),n=c.a.string(),i=c.a.return(c.a.string());return c.a.param("path",r).assert(t),c.a.param("ext",n,!0).assert(e),i.assert(Object(s.basename)(t,e))}},{key:"getFileExtension",value:function(t){var e=c.a.string(),r=c.a.return(c.a.string());return c.a.param("path",e).assert(t),r.assert(Object(s.extname)(t))}},{key:"relativeTo",value:function(e,r){var n=c.a.string(),i=c.a.string(),a=c.a.return(c.a.boolean());return c.a.param("pathA",n).assert(e),c.a.param("pathB",i).assert(r),a.assert(0===t.wrapDirectoryPath(e).indexOf(t.wrapDirectoryPath(r)))}},{key:"makeRelative",value:function(e,r){var n=c.a.string(),i=c.a.string(),a=c.a.return(c.a.string());return c.a.param("basePath",n).assert(e),c.a.param("fullPath",i).assert(r),a.assert(r.replace(t.wrapDirectoryPath(e),""))}}]),t}();e.a=l},function(t,e,r){"use strict";var n=r(9),i=r.n(n),a=r(10),o=r.n(a),s=r(0),u=r.n(s),c=r(1),l=r.n(c),f=r(31),h=r(37),p=r(2),y=r(99);f.a.addRule("fontStyle","_fontDescriptionFilePath",{visible:!1}),f.a.addRule("fontStyle","_fontDescription",{visible:!1});var v=function(){function t(e,r,n){u()(this,t),this._fontDescriptionFilePath=r,this._fontDescription=e,this._fontImage=n,this._fontSize=70,this._letterSpacing=0,this._spread=4}return l()(t,[{key:"getFontImage",value:function(){return this._fontImage}},{key:"getFontDescription",value:function(){return this._fontDescription}},{key:"setFontImage",value:function(t){this._fontImage=t}},{key:"setFontDescription",value:function(t){if(!Object(p.i)(t))return void console.error("font description (fontInfo) argument needs to be valid");this._fontDescription=t}},{key:"getFontDescriptionFilePath",value:function(){return this._fontDescriptionFilePath}},{key:"setFontDescriptionFilePath",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(i.a.mark(function t(e){var r,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.loadFile(e);case 2:if(!1!==(r=t.sent)){t.next=6;break}return console.error("Unable to load the desired font file"),t.abrupt("return");case 6:if(null!=(n=y.a.parse(r))){t.next=9;break}return t.abrupt("return");case 9:this.setFontDescription(n),this._fontDescriptionFilePath=e;case 11:case"end":return t.stop()}},t,this)}));return t}()},{key:"getFontSize",value:function(){return this._fontSize}},{key:"setFontSize",value:function(t){this._fontSize=t}},{key:"getScale",value:function(){var t=this.getFontDescription().info.size;if(!t)return null;var e=this.getFontSize()/t;return!e||e<=0?null:e}},{key:"getLetterSpacing",value:function(){return this._letterSpacing}},{key:"setLetterSpacing",value:function(t){this._letterSpacing=t}},{key:"getSpread",value:function(){return this._spread}},{key:"setSpread",value:function(t){this._spread=t}},{key:"findCharID",value:function(t){var e=this.getFontDescription().chars;if(!t||!e||0==e.length)return null;var r=t.charCodeAt(0);if(!r)return null;for(var n=0;n<e.length;n++){var i=e[n].id;if(i&&i===r)return n}return null}},{key:"getKerning",value:function(t,e){var r=this.getFontDescription().kernings;if(!(t&&e&&r&&r.length&&0!==r.length))return 0;for(var n=0;n<r.length;n++){var i=r[n];if(i&&i.first&&i.second&&(i.first===t&&i.second===e))return i.amount}return 0}},{key:"objectify",value:function(){return{fontDescriptionFilePath:this.getFontDescriptionFilePath(),fontDescription:this.getFontDescription(),fontSize:this.getFontSize(),letterSpacing:this.getLetterSpacing(),spread:this.getSpread()}}}],[{key:"restore",value:function(e){var r=new t(e.fontDescription,e.fontDescriptionFilePath);return r.setSpread(e.spread),r.setFontSize(e.fontSize),r.setLetterSpacing(e.letterSpacing),r}}]),t}();e.a=v},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(2),u=r(289),c=r.n(u),l=r(290),f=r.n(l),h=r(25),p=r(60),y=r(32),v=r.n(y),d=function(){function t(){i()(this,t)}return o()(t,null,[{key:"parse",value:function(t){var e=v.a.ref(p.a),r=v.a.return(v.a.union(v.a.object(),v.a.null()));if(v.a.param("fileContext",e).assert(t),!h.a.isFileContext(t))return console.error("Expected FileContext argument"),r.assert(null);var n=void 0,i=t.headers["content-type"];Object(s.j)(i)||(i="");var a=t.content;if(!Object(s.j)(a)||0===a.trim().length)return console.error("Invalid file context content"),r.assert(null);try{n=/json/.test(i)||"{"===a.charAt(0)?JSON.parse(a):/xml/.test(i)||"<"===a.charAt(0)?f()(a):c()(a)}catch(t){console.error("Something went wrong while attempting to parse bmfont file.\n"+t),n=null}return r.assert(n)}}]),t}();e.a=d},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(2),u=r(26),c=r(61),l=function(){function t(e,r){i()(this,t),this._color=e||u.a.fromRGBA(0,0,0,1),this._size=r||0,this._maxSize=10}return o()(t,[{key:"getMaxSize",value:function(){return this._maxSize}},{key:"setMaxSize",value:function(t){if(!Object(s.h)(t))throw new Error("The given raw size is invalid");this._maxSize=t}}]),o()(t,[{key:"getColor",value:function(){return this._color}},{key:"setColor",value:function(t){if(t instanceof u.a)return void(this._color=t.clone());if(!(Object(s.h)(t.r)&&Object(s.h)(t.g)&&Object(s.h)(t.b)&&Object(s.h)(t.a)))throw new Error("The given stroke color is invalid");this._color.set(t.r,t.g,t.b,t.a)}},{key:"setOpacity",value:function(t){if(!Object(s.h)(t))throw new Error("The given alpha is invalid");var e=this.getColor();this._color.set(e.r,e.g,e.b,t)}},{key:"getOpacity",value:function(){return this.getColor().a}},{key:"getSize",value:function(){return this._size}},{key:"setSize",value:function(t){if(!Object(s.h)(t))throw new Error("The given size is invalid");t=c.a.clamp(t,0,this.getMaxSize()),this._size=t}},{key:"objectify",value:function(){return{color:this._color.objectify(),size:this.getSize()}}}],[{key:"restore",value:function(e){return new t(u.a.restore(e.color),e.size)}}]),t}();e.a=l},function(t,e){var r={};t.exports=r,function(){r.create=function(t){return{id:r.id(t),vertex:t,normalImpulse:0,tangentImpulse:0}},r.id=function(t){return t.body.id+"_"+t.index}}()},function(t,e,r){var n={};t.exports=n;var i=r(22),a=(r(42),r(3));!function(){n.create=function(t){var e=i.create(),r={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return a.extend(e,r,t)}}()},function(t,e,r){var n={};t.exports=n;var i=r(52),a=r(3);!function(){n.create=function(t){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},n.update=function(t,e,r){var n,o,s,u,c=t.list,l=t.table,f=t.collisionStart,h=t.collisionEnd,p=t.collisionActive,y=[];for(f.length=0,h.length=0,p.length=0,u=0;u<e.length;u++)n=e[u],n.collided&&(o=i.id(n.bodyA,n.bodyB),y.push(o),s=l[o],s?(s.isActive?p.push(s):f.push(s),i.update(s,n,r)):(s=i.create(n,r),l[o]=s,f.push(s),c.push(s)));for(u=0;u<c.length;u++)s=c[u],s.isActive&&-1===a.indexOf(y,s.id)&&(i.setActive(s,!1,r),h.push(s))},n.removeOld=function(t,e){var r,n,i,a,o=t.list,s=t.table,u=[];for(a=0;a<o.length;a++)r=o[a],n=r.collision,n.bodyA.isSleeping||n.bodyB.isSleeping?r.timeUpdated=e:e-r.timeUpdated>1e3&&u.push(a);for(a=0;a<u.length;a++)i=u[a]-a,r=o[i],delete s[r.id],o.splice(i,1)},n.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}}()},function(t,e,r){var n={};t.exports=n;var i=r(21),a=r(11),o=r(3),s=r(12);!function(){n._restingThresh=4,n._restingThreshTangent=6,n._positionDampen=.9,n._positionWarming=.8,n._frictionNormalMultiplier=5,n.preSolvePosition=function(t){var e,r,n;for(e=0;e<t.length;e++)r=t[e],r.isActive&&(n=r.activeContacts.length,r.collision.parentA.totalContacts+=n,r.collision.parentB.totalContacts+=n)},n.solvePosition=function(t,e){var r,i,o,s,u,c,l,f,h,p=a._temp[0],y=a._temp[1],v=a._temp[2],d=a._temp[3];for(r=0;r<t.length;r++)i=t[r],i.isActive&&!i.isSensor&&(o=i.collision,s=o.parentA,u=o.parentB,c=o.normal,l=a.sub(a.add(u.positionImpulse,u.position,p),a.add(s.positionImpulse,a.sub(u.position,o.penetration,y),v),d),i.separation=a.dot(c,l));for(r=0;r<t.length;r++)i=t[r],!i.isActive||i.isSensor||i.separation<0||(o=i.collision,s=o.parentA,u=o.parentB,c=o.normal,h=(i.separation-i.slop)*e,(s.isStatic||u.isStatic)&&(h*=2),s.isStatic||s.isSleeping||(f=n._positionDampen/s.totalContacts,s.positionImpulse.x+=c.x*h*f,s.positionImpulse.y+=c.y*h*f),u.isStatic||u.isSleeping||(f=n._positionDampen/u.totalContacts,u.positionImpulse.x-=c.x*h*f,u.positionImpulse.y-=c.y*h*f))},n.postSolvePosition=function(t){for(var e=0;e<t.length;e++){var r=t[e];if(r.totalContacts=0,0!==r.positionImpulse.x||0!==r.positionImpulse.y){for(var o=0;o<r.parts.length;o++){var u=r.parts[o];i.translate(u.vertices,r.positionImpulse),s.update(u.bounds,u.vertices,r.velocity),u.position.x+=r.positionImpulse.x,u.position.y+=r.positionImpulse.y}r.positionPrev.x+=r.positionImpulse.x,r.positionPrev.y+=r.positionImpulse.y,a.dot(r.positionImpulse,r.velocity)<0?(r.positionImpulse.x=0,r.positionImpulse.y=0):(r.positionImpulse.x*=n._positionWarming,r.positionImpulse.y*=n._positionWarming)}}},n.preSolveVelocity=function(t){var e,r,n,i,o,s,u,c,l,f,h,p,y,v,d=a._temp[0],m=a._temp[1];for(e=0;e<t.length;e++)if(n=t[e],n.isActive&&!n.isSensor)for(i=n.activeContacts,o=n.collision,s=o.parentA,u=o.parentB,c=o.normal,l=o.tangent,r=0;r<i.length;r++)f=i[r],h=f.vertex,p=f.normalImpulse,y=f.tangentImpulse,0===p&&0===y||(d.x=c.x*p+l.x*y,d.y=c.y*p+l.y*y,s.isStatic||s.isSleeping||(v=a.sub(h,s.position,m),s.positionPrev.x+=d.x*s.inverseMass,s.positionPrev.y+=d.y*s.inverseMass,s.anglePrev+=a.cross(v,d)*s.inverseInertia),u.isStatic||u.isSleeping||(v=a.sub(h,u.position,m),u.positionPrev.x-=d.x*u.inverseMass,u.positionPrev.y-=d.y*u.inverseMass,u.anglePrev-=a.cross(v,d)*u.inverseInertia))},n.solveVelocity=function(t,e){for(var r=e*e,i=a._temp[0],s=a._temp[1],u=a._temp[2],c=a._temp[3],l=a._temp[4],f=a._temp[5],h=0;h<t.length;h++){var p=t[h];if(p.isActive&&!p.isSensor){var y=p.collision,v=y.parentA,d=y.parentB,m=y.normal,g=y.tangent,_=p.activeContacts,x=1/_.length;v.velocity.x=v.position.x-v.positionPrev.x,v.velocity.y=v.position.y-v.positionPrev.y,d.velocity.x=d.position.x-d.positionPrev.x,d.velocity.y=d.position.y-d.positionPrev.y,v.angularVelocity=v.angle-v.anglePrev,d.angularVelocity=d.angle-d.anglePrev;for(var b=0;b<_.length;b++){var k=_[b],w=k.vertex,S=a.sub(w,v.position,s),T=a.sub(w,d.position,u),E=a.add(v.velocity,a.mult(a.perp(S),v.angularVelocity),c),P=a.add(d.velocity,a.mult(a.perp(T),d.angularVelocity),l),A=a.sub(E,P,f),O=a.dot(m,A),C=a.dot(g,A),R=Math.abs(C),j=o.sign(C),D=(1+p.restitution)*O,M=o.clamp(p.separation+O,0,1)*n._frictionNormalMultiplier,I=C,N=1/0;R>p.friction*p.frictionStatic*M*r&&(N=R,I=o.clamp(p.friction*j*r,-N,N));var L=a.cross(S,m),B=a.cross(T,m),F=x/(v.inverseMass+d.inverseMass+v.inverseInertia*L*L+d.inverseInertia*B*B);if(D*=F,I*=F,O<0&&O*O>n._restingThresh*r)k.normalImpulse=0;else{var W=k.normalImpulse;k.normalImpulse=Math.min(k.normalImpulse+D,0),D=k.normalImpulse-W}if(C*C>n._restingThreshTangent*r)k.tangentImpulse=0;else{var G=k.tangentImpulse;k.tangentImpulse=o.clamp(k.tangentImpulse+I,-N,N),I=k.tangentImpulse-G}i.x=m.x*D+g.x*I,i.y=m.y*D+g.y*I,v.isStatic||v.isSleeping||(v.positionPrev.x+=i.x*v.inverseMass,v.positionPrev.y+=i.y*v.inverseMass,v.anglePrev+=a.cross(S,i)*v.inverseInertia),d.isStatic||d.isSleeping||(d.positionPrev.x-=i.x*d.inverseMass,d.positionPrev.y-=i.y*d.inverseMass,d.anglePrev-=a.cross(T,i)*d.inverseInertia)}}}}}()},function(t,e,r){var n={};t.exports=n;var i=r(3);!function(){n.create=function(e){var r={};return e||i.log("Mouse.create: element was undefined, defaulting to document.body","warn"),r.element=e||document.body,r.absolute={x:0,y:0},r.position={x:0,y:0},r.mousedownPosition={x:0,y:0},r.mouseupPosition={x:0,y:0},r.offset={x:0,y:0},r.scale={x:1,y:1},r.wheelDelta=0,r.button=-1,r.pixelRatio=r.element.getAttribute("data-pixel-ratio")||1,r.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},r.mousemove=function(e){var n=t(e,r.element,r.pixelRatio);e.changedTouches&&(r.button=0,e.preventDefault()),r.absolute.x=n.x,r.absolute.y=n.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y,r.sourceEvents.mousemove=e},r.mousedown=function(e){var n=t(e,r.element,r.pixelRatio);e.changedTouches?(r.button=0,e.preventDefault()):r.button=e.button,r.absolute.x=n.x,r.absolute.y=n.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y,r.mousedownPosition.x=r.position.x,r.mousedownPosition.y=r.position.y,r.sourceEvents.mousedown=e},r.mouseup=function(e){var n=t(e,r.element,r.pixelRatio);e.changedTouches&&e.preventDefault(),r.button=-1,r.absolute.x=n.x,r.absolute.y=n.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y,r.mouseupPosition.x=r.position.x,r.mouseupPosition.y=r.position.y,r.sourceEvents.mouseup=e},r.mousewheel=function(t){r.wheelDelta=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)),t.preventDefault()},n.setElement(r,r.element),r},n.setElement=function(t,e){t.element=e,e.addEventListener("mousemove",t.mousemove),e.addEventListener("mousedown",t.mousedown),e.addEventListener("mouseup",t.mouseup),e.addEventListener("mousewheel",t.mousewheel),e.addEventListener("DOMMouseScroll",t.mousewheel),e.addEventListener("touchmove",t.mousemove),e.addEventListener("touchstart",t.mousedown),e.addEventListener("touchend",t.mouseup)},n.clearSourceEvents=function(t){t.sourceEvents.mousemove=null,t.sourceEvents.mousedown=null,t.sourceEvents.mouseup=null,t.sourceEvents.mousewheel=null,t.wheelDelta=0},n.setOffset=function(t,e){t.offset.x=e.x,t.offset.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},n.setScale=function(t,e){t.scale.x=e.x,t.scale.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y};var t=function(t,e,r){var n,i,a=e.getBoundingClientRect(),o=document.documentElement||document.body.parentNode||document.body,s=void 0!==window.pageXOffset?window.pageXOffset:o.scrollLeft,u=void 0!==window.pageYOffset?window.pageYOffset:o.scrollTop,c=t.changedTouches;return c?(n=c[0].pageX-a.left-s,i=c[0].pageY-a.top-u):(n=t.pageX-a.left-s,i=t.pageY-a.top-u),{x:n/(e.clientWidth/e.width*r),y:i/(e.clientHeight/e.height*r)}}}()},function(t,e,r){var n={};t.exports=n;var i=r(102),a=r(41),o=r(104),s=r(63),u=r(103),c=r(107),l=r(64),f=r(28),h=r(22),p=r(42),y=r(3),v=r(40);!function(){n.create=function(t,e){e=y.isElement(t)?e:t,t=y.isElement(t)?t:null,e=e||{},(t||e.render)&&y.log("Engine.create: engine.render is deprecated (see docs)","warn");var r={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],timing:{timestamp:0,timeScale:1},broadphase:{controller:l}},n=y.extend(r,e);if(t||n.render){var a={element:t,controller:s};n.render=y.extend(a,n.render)}return n.render&&n.render.controller&&(n.render=n.render.controller.create(n.render)),n.render&&(n.render.engine=n),n.world=e.world||i.create(n.world),n.pairs=u.create(),n.broadphase=n.broadphase.controller.create(n.broadphase),n.metrics=n.metrics||{extended:!1},n.metrics=c.create(n.metrics),n},n.update=function(n,i,s){i=i||1e3/60,s=s||1;var l,y=n.world,v=n.timing,d=n.broadphase,m=[];v.timestamp+=i*v.timeScale;var g={timestamp:v.timestamp};f.trigger(n,"beforeUpdate",g);var _=h.allBodies(y),x=h.allConstraints(y);for(c.reset(n.metrics),n.enableSleeping&&a.update(_,v.timeScale),e(_,y.gravity),r(_,i,v.timeScale,s,y.bounds),l=0;l<n.constraintIterations;l++)p.solveAll(x,v.timeScale);p.postSolveAll(_),d.controller?(y.isModified&&d.controller.clear(d),d.controller.update(d,_,n,y.isModified),m=d.pairsList):m=_,y.isModified&&h.setModified(y,!1,!1,!0);var b=d.detector(m,n),k=n.pairs,w=v.timestamp;for(u.update(k,b,w),u.removeOld(k,w),n.enableSleeping&&a.afterCollisions(k.list,v.timeScale),k.collisionStart.length>0&&f.trigger(n,"collisionStart",{pairs:k.collisionStart}),o.preSolvePosition(k.list),l=0;l<n.positionIterations;l++)o.solvePosition(k.list,v.timeScale);for(o.postSolvePosition(_),o.preSolveVelocity(k.list),l=0;l<n.velocityIterations;l++)o.solveVelocity(k.list,v.timeScale);return k.collisionActive.length>0&&f.trigger(n,"collisionActive",{pairs:k.collisionActive}),k.collisionEnd.length>0&&f.trigger(n,"collisionEnd",{pairs:k.collisionEnd}),c.update(n.metrics,n),t(_),f.trigger(n,"afterUpdate",g),n},n.merge=function(t,e){if(y.extend(t,e),e.world){t.world=e.world,n.clear(t);for(var r=h.allBodies(t.world),i=0;i<r.length;i++){var o=r[i];a.set(o,!1),o.id=y.nextId()}}},n.clear=function(t){var e=t.world;u.clear(t.pairs);var r=t.broadphase;if(r.controller){var n=h.allBodies(e);r.controller.clear(r),r.controller.update(r,n,t,!0)}};var t=function(t){for(var e=0;e<t.length;e++){var r=t[e];r.force.x=0,r.force.y=0,r.torque=0}},e=function(t,e){var r=void 0!==e.scale?e.scale:.001;if((0!==e.x||0!==e.y)&&0!==r)for(var n=0;n<t.length;n++){var i=t[n];i.isStatic||i.isSleeping||(i.force.y+=i.mass*e.y*r,i.force.x+=i.mass*e.x*r)}},r=function(t,e,r,n,i){for(var a=0;a<t.length;a++){var o=t[a];o.isStatic||o.isSleeping||v.update(o,e,r,n)}}}()},function(t,e,r){var n={};t.exports=n;var i=r(22),a=r(3);!function(){n.create=function(t){var e={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return a.extend(e,!1,t)},n.reset=function(t){t.extended&&(t.narrowDetections=0,t.narrowphaseTests=0,t.narrowReuse=0,t.narrowReuseCount=0,t.midphaseTests=0,t.broadphaseTests=0,t.narrowEff=0,t.midEff=0,t.broadEff=0,t.collisions=0,t.buckets=0,t.pairs=0,t.bodies=0)},n.update=function(t,e){if(t.extended){var r=e.world,n=i.allBodies(r);t.collisions=t.narrowDetections,t.pairs=e.pairs.list.length,t.bodies=n.length,t.midEff=(t.narrowDetections/(t.midphaseTests||1)).toFixed(2),t.narrowEff=(t.narrowDetections/(t.narrowphaseTests||1)).toFixed(2),t.broadEff=(1-t.broadphaseTests/(n.length||1)).toFixed(2),t.narrowReuse=(t.narrowReuseCount/(t.narrowphaseTests||1)).toFixed(2)}}}()},function(t,e,r){t.exports=!r(13)&&!r(36)(function(){return 7!=Object.defineProperty(r(69)("div"),"a",{get:function(){return 7}}).a})},function(t,e,r){t.exports=r(24)},function(t,e,r){var n=r(29),i=r(30),a=r(178)(!1),o=r(78)("IE_PROTO");t.exports=function(t,e){var r,s=i(t),u=0,c=[];for(r in s)r!=o&&n(s,r)&&c.push(r);for(;e.length>u;)n(s,r=e[u++])&&(~a(c,r)||c.push(r));return c}},function(t,e,r){var n=r(45);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){var n=r(45);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){var n=r(6).document;t.exports=n&&n.documentElement},function(t,e,r){var n=r(110),i=r(79).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},function(t,e,r){t.exports={default:r(188),__esModule:!0}},function(t,e){function r(t){return t}t.exports=r},function(t,e,r){var n=r(198),i=n("toUpperCase");t.exports=i},function(t,e){function r(t){return n.test(t)}var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=r},function(t,e){function r(t){return i.call(t)}var n=Object.prototype,i=n.toString;t.exports=r},function(t,e){function r(t){return null!=t&&"object"==typeof t}t.exports=r},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){var n=r(29),i=r(58),a=r(78)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,r){t.exports={default:r(219),__esModule:!0}},function(t,e,r){var n=r(59),i=r(5)("iterator"),a=r(38);t.exports=r(4).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||a[n(t)]}},function(t,e,r){var n=r(15),i=r(43),a=r(5)("species");t.exports=function(t,e){var r,o=n(t).constructor;return void 0===o||void 0==(r=n(o)[a])?e:i(r)}},function(t,e,r){var n,i,a,o=r(23),s=r(225),u=r(114),c=r(69),l=r(6),f=l.process,h=l.setImmediate,p=l.clearImmediate,y=l.MessageChannel,v=l.Dispatch,d=0,m={},g=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},_=function(t){g.call(t.data)};h&&p||(h=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return m[++d]=function(){s("function"==typeof t?t:Function(t),e)},n(d),d},p=function(t){delete m[t]},"process"==r(45)(f)?n=function(t){f.nextTick(o(g,t,1))}:v&&v.now?n=function(t){v.now(o(g,t,1))}:y?(i=new y,a=i.port2,i.port1.onmessage=_,n=o(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(t){l.postMessage(t+"","*")},l.addEventListener("message",_,!1)):n="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),g.call(t)}}:function(t){setTimeout(o(g,t,1),0)}),t.exports={set:h,clear:p}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,r){var n=r(15),i=r(16),a=r(86);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=a.f(t);return(0,r.resolve)(e),r.promise}},function(t,e,r){"use strict";var n=r(6),i=r(4),a=r(14),o=r(13),s=r(5)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:n[t];o&&e&&!e[s]&&a.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,r){var n=function(){return this}()||Function("return this")(),i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,a=i&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=r(230),i)n.regeneratorRuntime=a;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}},function(t,e,r){var n=r(16);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function a(t){if(f===clearTimeout)return clearTimeout(t);if((f===n||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function o(){v&&p&&(v=!1,p.length?y=p.concat(y):d=-1,y.length&&s())}function s(){if(!v){var t=i(o);v=!0;for(var e=y.length;e;){for(p=y,y=[];++d<e;)p&&p[d].run();d=-1,e=y.length}p=null,v=!1,a(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{f="function"==typeof clearTimeout?clearTimeout:n}catch(t){f=n}}();var p,y=[],v=!1,d=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];y.push(new u(t,e)),1!==y.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,r){"use strict";var n=r(8),i=r(251),a=r(253),o=r(254),s=r(255),u=r(136),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(256);t.exports=function(t){return new Promise(function(e,l){var f=t.data,h=t.headers;n.isFormData(f)&&delete h["Content-Type"];var p=new XMLHttpRequest,y="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(t.url)||(p=new window.XDomainRequest,y="onload",v=!0,p.onprogress=function(){},p.ontimeout=function(){}),t.auth){var d=t.auth.username||"",m=t.auth.password||"";h.Authorization="Basic "+c(d+":"+m)}if(p.open(t.method.toUpperCase(),a(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p[y]=function(){if(p&&(4===p.readyState||v)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?o(p.getAllResponseHeaders()):null,n=t.responseType&&"text"!==t.responseType?p.response:p.responseText,a={data:n,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:r,config:t,request:p};i(e,l,a),p=null}},p.onerror=function(){l(u("Network Error",t,null,p)),p=null},p.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var g=r(257),_=(t.withCredentials||s(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;_&&(h[t.xsrfHeaderName]=_)}if("setRequestHeader"in p&&n.forEach(h,function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete h[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),l(t),p=null)}),void 0===f&&(f=null),p.send(f)})}},function(t,e,r){"use strict";var n=r(252);t.exports=function(t,e,r,i,a){var o=new Error(t);return n(o,e,r,i,a)}},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){"use strict";var n=r(90),i=r.n(n),a=r(0),o=r.n(a),s=r(1),u=r.n(s),c=r(51),l=r.n(c),f=r(46),h=r(20),p=r(17),y=r(140),v=r(141),d=r(142),m=r(143),g=r(2),_=r(25),x=function(){function t(e){o()(this,t),e=e||{};this._renderContext=null,this._logger=new h.b("Game"),this._initialized=!1,this._gameScene=e.scene,this._totalElapsedTime=null,this._virtualResolution=null,this._shaderManager=null,this._executionPhase=f.a.EXECUTION_PHASES.WAITING,this._physicsEngine=l.a.Engine.create(),this._physicsEngine.enableSleeping=!0,this._renderExtensions={},this._paused=!1,this._swapScene=null,this._swappingScenes=!1,this._inputHandlersBinded=!1,l.a.Engine.run(this._physicsEngine),this.setVirtualResolution(800,640),Object(g.j)(e.target)&&this.setTarget(e.target)}return u()(t,[{key:"addRenderExtension",value:function(t,e){this._renderExtensions[t]=e}},{key:"removeRenderExtension",value:function(t){delete this._renderExtensions[t]}},{key:"clearRenderExtensions",value:function(){this._renderExtensions=[]}},{key:"getPhysicsEngine",value:function(){return this._physicsEngine}},{key:"pauseGame",value:function(){this._paused=!0}},{key:"resumeGame",value:function(){this._paused=!1}},{key:"getShaderManager",value:function(){return this._shaderManager}},{key:"getActiveCamera",value:function(){return this._gameScene?this._gameScene.getCamera():null}},{key:"getExecutionPhase",value:function(){return this._executionPhase}},{key:"init",value:function(t){if(t=t||{},!Object(g.i)(this._canvas))return void this._logger.warn("Cannot initialize game, the render display target was not provided or is invalid.");this._onAnimationFrame(0),p.a.activeGame=this,t.ignoreInputHandler||this._bindInputHandlers(),this._initalized=!0}},{key:"setActive",value:function(){p.a.activeGame=this}},{key:"setVirtualResolution",value:function(t,e){this._virtualResolution={width:t,height:e},Object(g.i)(this._renderContext)&&(this._renderContext.setVirtualResolution(t,e),this.getActiveCamera().setViewSize(t,e))}},{key:"refreshVirtualResolution",value:function(){this._renderContext.setVirtualResolution(this._virtualResolution.width,this._virtualResolution.height);var t=this.getActiveCamera();t&&t.setViewSize(this._virtualResolution.width,this._virtualResolution.height)}},{key:"getVirtualResolution",value:function(){return this._virtualResolution}},{key:"getRenderContext",value:function(){return this._renderContext}},{key:"setTarget",value:function(t){this._canvas=Object(g.j)(t)?document.getElementById(t):null,Object(g.i)(this._canvas)&&(this._renderContext=new y.a({renderContainer:this._canvas}),p.a.renderContext=this._renderContext,this._shaderManager=new v.a(this),this.refreshVirtualResolution())}},{key:"changeScene",value:function(t){_.a.isGameScene(t)&&(this._executionPhase==f.a.EXECUTION_PHASES.WAITING?(this._swappingScenes=!0,this._gameScene&&this._gameScene.unload(),this._gameScene=t,this._gameScene.setGame(this),p.a.activeScene=t,this.refreshVirtualResolution(),Object(g.g)(this._gameScene.initialize)&&this._gameScene.initialize(),this._swappingScenes=!1):this._swapScene=t)}},{key:"getTotalElapsedTime",value:function(){return this._totalElapsedTime}},{key:"unload",value:function(){this._inputHandlersBinded&&this._unbindInputHandlers()}},{key:"_bindInputHandlers",value:function(){window.addEventListener("keyup",this._keyUpListener.bind(this),!1),window.addEventListener("keydown",this._keyDownListener.bind(this),!1),this._inputHandlersBinded=!0}},{key:"_unbindInputHandlers",value:function(){window.removeEventListener("keyup",this._keyUpListener.bind(this),!1),window.removeEventListener("keydown",this._keyDownListener.bind(this),!1),this._inputHandlersBinded=!1}},{key:"_keyUpListener",value:function(t){var e=[t.keyCode];t.ctrlKey&&e.push(d.a.Ctrl),t.shiftKey&&e.push(d.a.Shift),m.a.removeKeys(e)}},{key:"_keyDownListener",value:function(t){var e=[t.keyCode];t.ctrlKey&&e.push(d.a.Ctrl),t.shiftKey&&e.push(d.a.Shift),m.a.addKeys(e)}},{key:"_onAnimationFrame",value:function(t){null===this._totalElapsedTime&&(this._totalElapsedTime=t),this._swapScene&&!this._swappingScenes&&(this.changeScene(this._swapScene),this._swapScene=null);var e=(t-this._totalElapsedTime)/1e3,r=this;if(this._totalElapsedTime=t,!this._paused&&_.a.isGameScene(this._gameScene)&&!this._swappingScenes){Object(g.g)(this._gameScene.update)&&(this._executionPhase=f.a.EXECUTION_PHASES.UPDATE,this._gameScene.update(e)),this._gameScene.sceneUpdate(e),Object(g.g)(this._gameScene.lateUpdate)&&(this._executionPhase=f.a.EXECUTION_PHASES.LATE_UPDATE,this._gameScene.lateUpdate(e)),this._gameScene.sceneLateUpdate(e),this._gameScene.onBeginFrameRender(),this._gameScene.prepareRender();i()(this._renderExtensions).forEach(function(t){r._renderExtensions[t].render(e)}),Object(g.g)(this._gameScene.render)&&(this._executionPhase=f.a.EXECUTION_PHASES.RENDER,this._gameScene.render(e)),this._executionPhase=f.a.EXECUTION_PHASES.SCENE_RENDER,this._gameScene.sceneRender(e),this._gameScene.flushRender(),Object(g.g)(this._gameScene.lateRender)&&(this._executionPhase=f.a.EXECUTION_PHASES.LATE_RENDER,this._gameScene.prepareRender(),this._gameScene.lateRender(e),this._gameScene.flushRender()),this._executionPhase=f.a.EXECUTION_PHASES.WAITING}this._paused?setTimeout(function(){requestAnimationFrame(r._onAnimationFrame.bind(r))},100):requestAnimationFrame(this._onAnimationFrame.bind(this))}}]),t}();e.a=x},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(20),u=r(46),c=r(2),l=function(){function t(e){i()(this,t),e=e||{},this._logger=new s.b("WebGLContext"),this._canvas=null,this._gl=null,Object(c.i)(e.renderContainer)&&this.assignContextFromContainer(e.renderContainer)}return o()(t,[{key:"setVirtualResolution",value:function(t,e){Object(c.i)(this._gl)&&(this._canvas.width=t,this._canvas.height=e,this._gl.viewport(0,0,t,e))}},{key:"assignContextFromContainer",value:function(t){var e={alpha:!1,antialias:!0},r=this._gl=t.getContext("experimental-webgl",e)||t.getContext("webgl",e)||t.getContext("webkit-3d",e)||t.getContext("moz-webgl",e);if(!Object(c.i)(this._gl))return void this._logger.warn("WebGL not supported, find a container that does (eg. Chrome, Firefox)");r.getExtension("OES_standard_derivatives"),this._canvas=t,r.disable(r.CULL_FACE),r.disable(r.DEPTH_TEST),r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE),r.enable(r.BLEND),r.blendFunc(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA)}},{key:"getName",value:function(){return u.a.WEBGL}},{key:"getContext",value:function(){return this._gl}},{key:"unload",value:function(){}}]),t}();e.a=l},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(2),u=function(){function t(e){i()(this,t),this._game=e,this._gl=this._game.getRenderContext().getContext(),this._activeShader=null}return o()(t,[{key:"unload",value:function(){}},{key:"useShader",value:function(t){Object(s.i)(this._activeShader)&&this._activeShader.getUID()===t.getUID()||(this._activeShader=t,this._gl.useProgram(t.getProgram()))}}]),t}();e.a=u},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=function t(){i()(this,t)};e.a=a,a.Backspace=8,a.Tab=9,a.Enter=13,a.Shift=16,a.Ctrl=17,a.Alt=18,a.Pause=19,a.Break=19,a.CapsLock=20,a.Escape=27,a.PageUp=33,a.PageDown=34,a.End=35,a.Home=36,a.LeftArrow=37,a.UpArrow=38,a.RightArrow=39,a.DownArrow=40,a.Insert=45,a.Delete=46,a.Space=32,a.D0=48,a.D1=49,a.D2=50,a.D3=51,a.D4=52,a.D5=53,a.D6=54,a.D7=55,a.D8=56,a.D9=57,a.A=65,a.B=66,a.C=67,a.D=68,a.E=69,a.F=70,a.G=71,a.H=72,a.I=73,a.J=74,a.K=75,a.L=76,a.M=77,a.N=78,a.O=79,a.P=80,a.Q=81,a.R=82,a.S=83,a.T=84,a.U=85,a.V=86,a.W=87,a.X=88,a.Y=89,a.Z=90,a.LeftWindowKey=91,a.RightWindowKey=92,a.SelectKey=93,a.NumPad0=96,a.NumPad1=97,a.NumPad2=98,a.NumPad3=99,a.NumPad4=100,a.NumPad5=101,a.NumPad6=102,a.NumPad7=103,a.NumPad8=104,a.NumPad9=105,a.Multiply=106,a.Add=107,a.Subtract=109,a.DecimalPoint=110,a.Divide=111,a.F1=112,a.F2=113,a.F3=114,a.F4=115,a.F5=116,a.F6=117,a.F7=118,a.F8=119,a.F9=120,a.F10=121,a.F11=122,a.F12=123,a.NumLock=144,a.ScrollLock=145,a.SemiColon=186,a.EqualSign=187,a.Comma=188,a.Dash=189,a.Period=190,a.ForwardSlash=191,a.GraveAccent=192,a.OpenBracket=219,a.BackSlash=220,a.CloseBraket=221,a.SingleQuote=222},function(t,e,r){"use strict";r.d(e,"a",function(){return h});var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(19),u=r.n(s),c=r(144),l=u()("keyboardSingleton"),f=function(){function t(e){if(i()(this,t),l!==e)throw new Error("Cannot instantiate directly.");this._keys=[]}return o()(t,[{key:"removeKey",value:function(t){var e=this._keys.indexOf(t);e>=0&&this._keys.splice(e,1)}},{key:"removeKeys",value:function(t){t.forEach(function(t){this.removeKey(t)}.bind(this))}},{key:"addKey",value:function(t){this._keys.indexOf(t)<0&&this._keys.push(t)}},{key:"addKeys",value:function(t){t.forEach(function(t){this.addKey(t)}.bind(this))}},{key:"setKeys",value:function(t){this._keys=t}},{key:"clearKeys",value:function(){this._keys=[]}},{key:"getState",value:function(){return new c.a(this._keys)}},{key:"isKeyDown",value:function(t){return this._keys.indexOf(t)>=0}},{key:"isKeyUp",value:function(t){return this._keys.indexOf(t)<0}}],[{key:"instance",get:function(){return this[l]||(this[l]=new t(l)),this[l]}}]),t}(),h=f.instance},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=function(){function t(e){i()(this,t),this._keys=[],e.forEach(function(t){this._keys.push(t)}.bind(this))}return o()(t,[{key:"getKeys",value:function(){return this._keys}},{key:"isKeyDown",value:function(t){return this._keys.indexOf(t)>=0}},{key:"isKeyUp",value:function(t){return this._keys.indexOf(t)<0}}]),t}();e.a=s},function(t,e,r){"use strict";var n=r(9),i=r.n(n),a=r(10),o=r.n(a),s=r(0),u=r.n(s),c=r(1),l=r.n(c),f=r(51),h=r.n(f),p=r(31),y=r(26),v=r(146),d=r(17),m=r(50),g=r(147),_=r(2);p.a.addRule("gameScene","_game",{visible:!1}),p.a.addRule("gameScene","_gameObjects",{visible:!1}),p.a.addRule("gameScene","_camera",{visible:!1}),p.a.addRule("gameScene","_spriteBatch",{visible:!1});var x=function(){function t(e){if(u()(this,t),e=e||{},!e.game)throw new Error("Cannot create a game scene without the game parameter");this.name=e.name||"GameScene",this._uid=Object(_.b)(),this._game=e.game||null,this._backgroundColor=e.backgroundColor||y.a.CornflowerBlue,this._gameObjects=e.gameObjects||[],this._camera=e.camera||new v.a(0,0,this._game.getVirtualResolution().width,this._game.getVirtualResolution().height),this._spriteBatch=new g.a(e.game)}return l()(t,[{key:"getUID",value:function(){return this._uid}},{key:"getPhysicsWorld",value:function(){return this._game.getPhysicsEngine().world}},{key:"getCamera",value:function(){return this._camera}},{key:"setGame",value:function(t){this._game=t}},{key:"getGame",value:function(){return this._game}},{key:"setBackgroundColor",value:function(t){this._backgroundColor=t}},{key:"getBackgroundColor",value:function(){return this._backgroundColor}},{key:"addGameObject",value:function(t,e){t.removeParent(),Object(_.i)(e)?this._gameObjects.splice(e,0,t):this._gameObjects.push(t)}},{key:"getGameObjects",value:function(){return this._gameObjects}},{key:"removeGameObject",value:function(t){for(var e=this._gameObjects.length-1;e>=0;e--)if(this._gameObjects[e].getUID()===t.getUID())return this._gameObjects.splice(e,1)}},{key:"getAllGameObjects",value:function(){function t(r){r.forEach(function(r){e.push(r),t(r.getChildren())})}var e=[];return t(this._gameObjects),e}},{key:"onBeginFrameRender",value:function(){var t=this._game.getRenderContext().getContext();t.clearColor(this._backgroundColor.r,this._backgroundColor.g,this._backgroundColor.b,this._backgroundColor.a),t.clear(t.COLOR_BUFFER_BIT)}},{key:"prepareRender",value:function(){this._spriteBatch.begin()}},{key:"flushRender",value:function(){this._spriteBatch.flush()}},{key:"sceneLateUpdate",value:function(t){h.a.Engine.update(this._game.getPhysicsEngine(),1e3/60)}},{key:"sceneUpdate",value:function(t){for(var e=0;e<this._gameObjects.length;e++)this._gameObjects[e].update(t)}},{key:"sceneRender",value:function(t){for(var e=0;e<this._gameObjects.length;e++)this._gameObjects[e].render(t,this._spriteBatch)}},{key:"objectify",value:function(){return{name:this.name,camera:this._camera.objectify(),backgroundColor:this._backgroundColor.objectify(),gameObjects:m.a.array(this._gameObjects)}}},{key:"unload",value:function(){}}],[{key:"restore",value:function(){function e(t){return r.apply(this,arguments)}var r=o()(i.a.mark(function e(r){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=d.a.activeGame,e.t2=y.a.restore(r.backgroundColor),e.t3=v.a.restore(r.camera),e.next=6,m.a.restoreArray(r.gameObjects);case 6:return e.t4=e.sent,e.t5={game:e.t1,backgroundColor:e.t2,camera:e.t3,gameObjects:e.t4},n=new e.t0(e.t5),e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)}));return e}()}]),t}();e.a=x},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(92),u=r(18),c=function(){function t(e,r,n,a,o){i()(this,t),this.x=e||0,this.y=r||0,this.zoom=o||1,this.viewWidth=n||0,this.viewHeight=a||0,this._lastX=null,this._lastY=null,this._lastZoom=null,this._matrix=new s.a}return o()(t,[{key:"calculateMatrix",value:function(){return this._matrix.orthographic(this.x+-this.viewWidth*this.zoom/2,this.x+this.viewWidth*this.zoom/2,this.y+this.viewHeight*this.zoom/2,this.y+-this.viewHeight*this.zoom/2,0,1),this._lastX=this.x,this._lastY=this.y,this._lastZoom=this.zoom,this._matrix.asArray()}},{key:"setViewSize",value:function(t,e){this.viewWidth=t,this.viewHeight=e,this.calculateMatrix()}},{key:"getViewWidth",value:function(){return this.viewWidth}},{key:"getViewHeight",value:function(){return this.viewHeight}},{key:"getMatrix",value:function(){return this.x!=this._lastX||this.y!=this._lastY||this._lastZoom!=this.zoom?this.calculateMatrix():this._matrix.asArray()}},{key:"screenToWorldCoordinates",value:function(t,e){var r=2*t/this.viewWidth-1,n=1-2*e/this.viewHeight;return u.a.transformMat4(new u.a(r,n),new s.a(this.getMatrix()).invert())}},{key:"unload",value:function(){}},{key:"objectify",value:function(){return{x:this.x,y:this.y,zoom:this.zoom}}}],[{key:"restore",value:function(e){return new t(e.x,e.y,e.viewWidth,e.viewHeight,e.zoom)}}]),t}();e.a=c},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(148),u=r(25),c=r(18),l=function(){function t(e){if(i()(this,t),!u.a.isGame(e))throw new Error("Cannot create sprite render, the Game object is missing from the parameters");this._game=e,this._gl=e.getRenderContext().getContext(),this._renderBuffer=this._gl.createBuffer(),this._textureShader=new s.a,this._stride=32,this._singleDataLength=48,this._maxSpritesPerBatch=2048,this._spriteData=new Float32Array(this._singleDataLength*this._maxSpritesPerBatch),this._spriteDataIdx=0,this._sprites=[]}return o()(t,[{key:"clear",value:function(){this._sprites=[],this._spriteDataIdx=0}},{key:"begin",value:function(){this.clear()}},{key:"storeSprite",value:function(t){this._sprites.push(t)}},{key:"_storeColor",value:function(t,e,r,n){this._spriteData[this._spriteDataIdx++]=t,this._spriteData[this._spriteDataIdx++]=e,this._spriteData[this._spriteDataIdx++]=r,this._spriteData[this._spriteDataIdx++]=n}},{key:"_processSprite",value:function(t){var e=t.getMatrix(),r=c.a.transformMat4(new c.a(0,0),e),n=c.a.transformMat4(new c.a(1,0),e),i=c.a.transformMat4(new c.a(0,1),e),a=c.a.transformMat4(new c.a(1,1),e),o=t.getTint(),s=o.r,u=o.g,l=o.b,f=o.a;this._spriteData[this._spriteDataIdx++]=r.x,this._spriteData[this._spriteDataIdx++]=r.y,this._spriteData[this._spriteDataIdx++]=0,this._spriteData[this._spriteDataIdx++]=0,this._storeColor(s,u,l,f),this._spriteData[this._spriteDataIdx++]=n.x,this._spriteData[this._spriteDataIdx++]=n.y,this._spriteData[this._spriteDataIdx++]=1,this._spriteData[this._spriteDataIdx++]=0,this._storeColor(s,u,l,f),this._spriteData[this._spriteDataIdx++]=i.x,this._spriteData[this._spriteDataIdx++]=i.y,this._spriteData[this._spriteDataIdx++]=0,this._spriteData[this._spriteDataIdx++]=1,this._storeColor(s,u,l,f),this._spriteData[this._spriteDataIdx++]=i.x,this._spriteData[this._spriteDataIdx++]=i.y,this._spriteData[this._spriteDataIdx++]=0,this._spriteData[this._spriteDataIdx++]=1,this._storeColor(s,u,l,f),this._spriteData[this._spriteDataIdx++]=n.x,this._spriteData[this._spriteDataIdx++]=n.y,this._spriteData[this._spriteDataIdx++]=1,this._spriteData[this._spriteDataIdx++]=0,this._storeColor(s,u,l,f),this._spriteData[this._spriteDataIdx++]=a.x,this._spriteData[this._spriteDataIdx++]=a.y,this._spriteData[this._spriteDataIdx++]=1,this._spriteData[this._spriteDataIdx++]=1,this._storeColor(s,u,l,f)}},{key:"_renderBatch",value:function(){if(0!==this._spriteDataIdx){var t=this._gl;t.bufferData(t.ARRAY_BUFFER,this._spriteData,t.STATIC_DRAW),t.enableVertexAttribArray(this._textureShader.attributes.aVertexPosition),t.vertexAttribPointer(this._textureShader.attributes.aVertexPosition,2,t.FLOAT,!1,this._stride,0),t.enableVertexAttribArray(this._textureShader.attributes.aTextureCoord),t.vertexAttribPointer(this._textureShader.attributes.aTextureCoord,2,t.FLOAT,!1,this._stride,8),t.enableVertexAttribArray(this._textureShader.attributes.aColor),t.vertexAttribPointer(this._textureShader.attributes.aColor,4,t.FLOAT,!1,this._stride,16),t.drawArrays(t.TRIANGLES,0,this._spriteDataIdx/this._singleDataLength*6),this._spriteDataIdx=0}}},{key:"flush",value:function(){if(0!==this._sprites.length){var t=this._gl,e=-1,r=0,n=void 0,i=void 0;this._game.getShaderManager().useShader(this._textureShader),t.bindBuffer(t.ARRAY_BUFFER,this._renderBuffer),t.uniformMatrix4fv(this._textureShader.uniforms.uMatrix._location,!1,this._game.getActiveCamera().getMatrix());for(var a=0;a<this._sprites.length;a++)n=this._sprites[a],i=n.getTexture(),null!=i&&i.isReady()&&(e!==i.getUID()&&(e>=0&&(this._renderBatch(r),r=0),i.bind(),e=i.getUID()),this._processSprite(n),r++),(r>=this._maxSpritesPerBatch||a===this._sprites.length-1)&&(this._renderBatch(r),r=0)}}},{key:"unload",value:function(){this._gl.deleteBuffer(this._renderBuffer),this._textureShader.unload()}}]),t}();e.a=l},function(t,e,r){"use strict";var n=r(27),i=r.n(n),a=r(0),o=r.n(a),s=r(34),u=r.n(s),c=r(1),l=r.n(c),f=r(35),h=r.n(f),p=r(39),y=function(t){function e(){o()(this,e);var t=e.shaderContent;return u()(this,(e.__proto__||i()(e)).call(this,t.vertex,t.fragment,t.uniforms,t.attributes))}return h()(e,t),l()(e,null,[{key:"shaderContent",get:function(){return{vertex:["precision mediump float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat4 uMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void) {","   vTextureCoord = aTextureCoord;","   gl_Position = uMatrix * vec4(aVertexPosition, 0.0, 1.0);","   vColor = aColor;","}"].join("\n"),fragment:["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;","}"].join("\n"),uniforms:{uSampler:{type:"tex",value:0},uMatrix:{type:"mat4",value:new Float32Array(16)}},attributes:{aVertexPosition:-1,aTextureCoord:-1,aColor:-1}}}}]),e}(p.a);e.a=y},function(t,e,r){"use strict";r.d(e,"a",function(){return l});var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(20),u=r(2),c=function(){function t(){i()(this,t),this._logger=new s.b("WebGLUtils")}return o()(t,[{key:"_compileShader",value:function(t,e,r){var n=t.createShader(r);if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS)){var i=t.getShaderInfoLog(n);return this._logger.error("Error compiling shader '"+n+"':"+i),t.deleteShader(n),null}return n}},{key:"createProgram",value:function(t,e,r){var n=t.createProgram();return t.attachShader(n,e),t.attachShader(n,r),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||this._logger.error("Program filed to link:"+t.getProgramInfoLog(n)),n}},{key:"createShader",value:function(t,e,r){var n=void 0;if("vertex"===r)n=t.VERTEX_SHADER;else if("fragment"===r)n=t.FRAGMENT_SHADER;else if(!r)return this._logger.warn("Shader type not set, discarding.."),null;return this._compileShader(t,e,n)}},{key:"createShaderFromScript",value:function(t,e,r){var n=document.getElementById(e);if(!n)return this._logger.warn("Unknown script target element, discarding.."),null;this.createShader(t,n.text,r)}},{key:"createProgramFromScripts",value:function(t,e,r){var n=this.createShader(t,e,"vertex"),i=this.createShader(t,r,"fragment");return Object(u.i)(n)&&Object(u.i)(i)?this.createProgram(t,n,i):(this._logger.warn("Could not create program because scripts could not be compiled, discarding.."),t.deleteShader(n),t.deleteShader(i),null)}},{key:"createProgramFromScriptElements",value:function(t,e,r){var n=this.createShaderFromScript(t,e,"vertex"),i=this.createShaderFromScript(t,r,"fragment");return Object(u.i)(n)&&Object(u.i)(i)?this.createProgram(t,n,i):(this._logger.warn("Could not create program because scripts could not be compiled, discarding.."),t.deleteShader(n),t.deleteShader(i),null)}}]),t}();e.b=c;var l=new c},function(t,e,r){"use strict";var n=r(9),i=r.n(n),a=r(10),o=r.n(a),s=r(27),u=r.n(s),c=r(0),l=r.n(c),f=r(1),h=r.n(f),p=r(34),y=r.n(p),v=r(151),d=r.n(v),m=r(35),g=r.n(m),_=r(94),x=r(95),b=r(26),k=r(153),w=r(62),S=r(50),T=r(97),E=r(18),P=r(31),A=r(37),O=r(89),C=r(46),R=r(20),j=r(2);P.a.inherit("sprite","gameobject"),P.a.addRule("sprite","_source",{displayName:"Source",editor:"filepath"}),P.a.addRule("sprite","_tint",{displayName:"Tint"}),P.a.addRule("sprite","_texture",{visible:!1}),P.a.addRule("sprite","_wrapMode",{visible:!1}),P.a.addRule("sprite","_atlasRegion",{displayName:"Region",available:function(){return Object(j.i)(this._atlas)}});var D=function(t){function e(t){l()(this,e),t=t||{},t.name=t.name||"Sprite";var r=y()(this,(e.__proto__||u()(e)).call(this,t));return r._source="",r._atlasRegion="",r._tint=t.tint||b.a.fromRGB(255,255,255),r._textureWidth=0,r._textureHeight=0,r._origin=new E.a(.5,.5),r._wrapMode=k.a.CLAMP,r._atlas=null,r._logger=new R.b("Sprite"),r.setTexture(t.texture),r}return g()(e,t),h()(e,[{key:"getBaseWidth",value:function(){return this._textureWidth}},{key:"getBaseHeight",value:function(){return this._textureHeight}},{key:"getMatrix",value:function(){var t=void 0,e=void 0,r=void 0,n=void 0;return t=this.transform.getPosition().x,e=this.transform.getPosition().y,r=this._textureWidth*this.transform.getScale().x,n=this._textureHeight*this.transform.getScale().y,this._transformMatrix.identity(),this._wrapMode!==k.a.REPEAT?this._transformMatrix.translate([t-r*this._origin.x,e-n*this._origin.y,0]):this._transformMatrix.translate([-r*this._origin.x,-n*this._origin.y,0]),this._transformMatrix.translate([r*this._origin.x,n*this._origin.y,0]),this._transformMatrix.rotate([0,0,1],this.transform.getRotation()),this._transformMatrix.translate([-r*this._origin.x,-n*this._origin.y,0]),this._transformMatrix.scale([r,n,0]),this._transformMatrix.asArray()}},{key:"setWrapMode",value:function(t){this._wrapMode=t}},{key:"getWrapMode",value:function(){return this._wrapMode}},{key:"setOrigin",value:function(t){this._origin=t}},{key:"getOrigin",value:function(){return this._origin}},{key:"setTint",value:function(t){this._tint=t}},{key:"getTint",value:function(){return this._tint}},{key:"setSource",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(i.a.mark(function t(e){var r,n,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._source=e,!(null==e||e.length<=0)){t.next=5;break}return this._logger.error("Invalid path"),this.setTexture(null),t.abrupt("return");case 5:if((r=T.a.getFileExtension(e))==C.a.CONTENT_EXTENSIONS.ATLAS){t.next=11;break}return this._atlas=null,t.next=10,this._assignTextureFromPath(e);case 10:return t.abrupt("return",t.sent);case 11:return t.next=13,A.a.loadFile(e);case 13:if(!1!==(n=t.sent)){t.next=16;break}return t.abrupt("return");case 16:if(null!=(a=S.a.restoreFromString(n))&&Object(j.i)(a.sourcePath)){t.next=20;break}return this._logger.error("Couldn't restore atlas"),t.abrupt("return");case 20:return this._atlas=a,O.a.emit(C.a.EVENTS.CONTENT_ASSET_LOADED,e),t.next=24,this._assignTextureFromPath(this._atlas.sourcePath);case 24:return t.abrupt("return",t.sent);case 25:case"end":return t.stop()}},t,this)}));return t}()},{key:"getAtlasRegion",value:function(){return this._atlasRegion}},{key:"setAtlasRegion",value:function(t){this._atlasRegion=t}},{key:"getSource",value:function(){return this._source}},{key:"getType",value:function(){return"Sprite"}},{key:"getTexture",value:function(){return this._texture}},{key:"setTexture",value:function(t){if(!t||!t.isReady())return this._texture=null,this._textureWidth=0,void(this._textureHeight=0);this._texture=t,this._textureWidth=this._texture.getWidth(),this._textureHeight=this._texture.getHeight()}},{key:"render",value:function(t,r){this.enabled&&(r.storeSprite(this),d()(e.prototype.__proto__||u()(e.prototype),"render",this).call(this,t,r))}},{key:"objectify",value:function(){var t=d()(e.prototype.__proto__||u()(e.prototype),"objectify",this).call(this);return S.a.extend(t,{src:this._source,tint:this._tint.objectify()})}},{key:"unload",value:function(){}},{key:"_assignTextureFromPath",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(i.a.mark(function t(e){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.fromPath(e);case 2:if(null!=(r=t.sent)){t.next=5;break}return t.abrupt("return");case 5:this.setTexture(r);case 6:case"end":return t.stop()}},t,this)}));return t}()}],[{key:"restore",value:function(){function t(t){return r.apply(this,arguments)}var r=o()(i.a.mark(function t(r){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.t1=r.name,t.t2=x.a.restore(r.transform),t.next=5,S.a.restoreArray(r.children);case 5:return t.t3=t.sent,t.next=8,S.a.restoreArray(r.components);case 8:return t.t4=t.sent,t.t5={name:t.t1,transform:t.t2,children:t.t3,components:t.t4},n=new t.t0(t.t5),t.next=13,n.setSource(r.src);case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t,this)}));return t}()}]),e}(_.a);e.a=D},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(27),a=n(i),o=r(280),s=n(o);e.default=function t(e,r,n){null===e&&(e=Function.prototype);var i=(0,s.default)(e,r);if(void 0===i){var o=(0,a.default)(e);return null===o?void 0:t(o,r,n)}if("value"in i)return i.value;var u=i.get;if(void 0!==u)return u.call(n)}},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(18),u=function(){function t(e,r,n,a){i()(this,t),this.topLeft=e||new s.a,this.topRight=r||new s.a,this.bottomRight=n||new s.a,this.bottomLeft=a||new s.a}return o()(t,[{key:"getVertices",value:function(){return[this.topLeft,this.topRight,this.bottomRight,this.bottomLeft]}},{key:"getNormals",value:function(){return{top:new s.a(this.topRight.x-this.topLeft.x,this.topRight.y-this.topLeft.y).normalLeft(),right:new s.a(this.bottomRight.x-this.topRight.x,this.bottomRight.y-this.topRight.y).normalLeft(),bottom:new s.a(this.bottomLeft.x-this.bottomRight.x,this.bottomLeft.y-this.bottomRight.y).normalLeft(),left:new s.a(this.topLeft.x-this.bottomLeft.x,this.topLeft.y-this.bottomLeft.y).normalLeft()}}},{key:"overlapsWith",value:function(e){return t.overlap(this,e)}}],[{key:"getMinMax",value:function(t,e){var r=t.topRight.dot(e),n=t.bottomRight.dot(e),i=t.bottomLeft.dot(e),a=t.topLeft.dot(e);return{max:Math.max(r,n,i,a),min:Math.min(r,n,i,a)}}},{key:"overlap",value:function(e,r){for(var n=e.getNormals(),i=r.getNormals(),a=void 0,o=void 0,s=void 0,u=void 0,c=0;c<4;c++)if(s=c>=2?i:n,u=c%2==0?s.bottom:s.right,a=t.getMinMax(e,u),o=t.getMinMax(r,u),a.max<o.min||o.max<a.min)return!1;return!0}},{key:"fromVector2",value:function(e,r){var n=r/2;return new t(new s.a(e.x-n,e.y-n),new s.a(e.x+n,e.y-n),new s.a(e.x+n,e.y+n),new s.a(e.x-n,e.y+n))}}]),t}();e.a=u},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n={CLAMP:0,REPEAT:1}},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(t){return i.exec(t).slice(1)};e.resolve=function(){for(var e="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:t.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,i="/"===o.charAt(0))}return e=r(n(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),a="/"===o(t,-1);return t=r(n(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&a&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),a=n(r.split("/")),o=Math.min(i.length,a.length),s=o,u=0;u<o;u++)if(i[u]!==a[u]){s=u;break}for(var c=[],u=s;u<i.length;u++)c.push("..");return c=c.concat(a.slice(s)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=a(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=a(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return a(t)[3]};var o="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(e,r(134))},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(156),u=r(25),c=function(){function t(e){if(i()(this,t),!u.a.isGame(e))throw new Error("Cannot create primitive render the Game object is missing from the parameters");this._game=e,this._gl=e.getRenderContext().getContext(),this._shader=new s.a,this._renderBuffer=this._gl.createBuffer(),this._lineMaxPerBatch=2048,this._lineSingleDataLength=12,this._lineStride=24,this._lineData=new Float32Array(this._lineMaxPerBatch*this._lineSingleDataLength),this._lineDataIdx=0,this._rectangleMaxPerBatch=2048,this._rectangleSingleDataLength=36,this._rectangleStride=24,this._rectangleData=new Float32Array(this._rectangleMaxPerBatch*this._rectangleSingleDataLength),this._rectangleDataIdx=0}return o()(t,[{key:"unload",value:function(){this._gl.deleteBuffer(this._renderBuffer),this._shader.unload()}},{key:"begin",value:function(){this._clear()}},{key:"_clear",value:function(){this._lineDataIdx=0,this._rectangleDataIdx=0}},{key:"storeRectangle",value:function(t,e){var r=t.x,n=t.y,i=t.x+t.width,a=t.y,o=t.x,s=t.y+t.height,u=t.x+t.width,c=t.y+t.height;this._rectangleData[this._rectangleDataIdx++]=o,this._rectangleData[this._rectangleDataIdx++]=s,this._rectangleData[this._rectangleDataIdx++]=e.r,this._rectangleData[this._rectangleDataIdx++]=e.g,this._rectangleData[this._rectangleDataIdx++]=e.b,this._rectangleData[this._rectangleDataIdx++]=e.a,this._rectangleData[this._rectangleDataIdx++]=u,this._rectangleData[this._rectangleDataIdx++]=c,this._rectangleData[this._rectangleDataIdx++]=e.r,this._rectangleData[this._rectangleDataIdx++]=e.g,this._rectangleData[this._rectangleDataIdx++]=e.b,this._rectangleData[this._rectangleDataIdx++]=e.a,this._rectangleData[this._rectangleDataIdx++]=r,this._rectangleData[this._rectangleDataIdx++]=n,this._rectangleData[this._rectangleDataIdx++]=e.r,this._rectangleData[this._rectangleDataIdx++]=e.g,this._rectangleData[this._rectangleDataIdx++]=e.b,this._rectangleData[this._rectangleDataIdx++]=e.a,this._rectangleData[this._rectangleDataIdx++]=r,this._rectangleData[this._rectangleDataIdx++]=n,this._rectangleData[this._rectangleDataIdx++]=e.r,this._rectangleData[this._rectangleDataIdx++]=e.g,this._rectangleData[this._rectangleDataIdx++]=e.b,this._rectangleData[this._rectangleDataIdx++]=e.a,this._rectangleData[this._rectangleDataIdx++]=u,this._rectangleData[this._rectangleDataIdx++]=c,this._rectangleData[this._rectangleDataIdx++]=e.r,this._rectangleData[this._rectangleDataIdx++]=e.g,this._rectangleData[this._rectangleDataIdx++]=e.b,this._rectangleData[this._rectangleDataIdx++]=e.a,this._rectangleData[this._rectangleDataIdx++]=i,this._rectangleData[this._rectangleDataIdx++]=a,this._rectangleData[this._rectangleDataIdx++]=e.r,this._rectangleData[this._rectangleDataIdx++]=e.g,this._rectangleData[this._rectangleDataIdx++]=e.b,this._rectangleData[this._rectangleDataIdx++]=e.a,this._rectangleDataIdx>=this._rectangleData.length&&this._flushRectangles()}},{key:"_flushRectangles",value:function(){if(0!==this._rectangleDataIdx){var t=this._gl,e=this._rectangleDataIdx/this._rectangleSingleDataLength;t.bufferData(t.ARRAY_BUFFER,this._rectangleData,t.STATIC_DRAW),t.enableVertexAttribArray(this._shader.attributes.aVertexPosition),t.vertexAttribPointer(this._shader.attributes.aVertexPosition,2,t.FLOAT,!1,this._rectangleStride,0),t.enableVertexAttribArray(this._shader.attributes.aVertexColorPosition),t.vertexAttribPointer(this._shader.attributes.aVertexColorPosition,4,t.FLOAT,!0,this._rectangleStride,8),t.drawArrays(t.TRIANGLES,0,6*e),this._rectangleDataIdx=0}}},{key:"storeLine",value:function(t,e,r,n){this._lineData[this._lineDataIdx++]=t.x,this._lineData[this._lineDataIdx++]=t.y,this._lineData[this._lineDataIdx++]=r.r,this._lineData[this._lineDataIdx++]=r.g,this._lineData[this._lineDataIdx++]=r.b,this._lineData[this._lineDataIdx++]=r.a,this._lineData[this._lineDataIdx++]=e.x,this._lineData[this._lineDataIdx++]=e.y,this._lineData[this._lineDataIdx++]=n.r,this._lineData[this._lineDataIdx++]=n.g,this._lineData[this._lineDataIdx++]=n.b,this._lineData[this._lineDataIdx++]=n.a,this._lineDataIdx>=this._lineData.length&&this._flushLines()}},{key:"_flushLines",value:function(){if(0!==this._lineDataIdx){var t=this._gl,e=this._lineDataIdx/this._lineSingleDataLength;t.bufferData(t.ARRAY_BUFFER,this._lineData,t.STATIC_DRAW),t.enableVertexAttribArray(this._shader.attributes.aVertexPosition),t.vertexAttribPointer(this._shader.attributes.aVertexPosition,2,t.FLOAT,!1,this._lineStride,0),t.enableVertexAttribArray(this._shader.attributes.aVertexColorPosition),t.vertexAttribPointer(this._shader.attributes.aVertexColorPosition,4,t.FLOAT,!0,this._lineStride,8),t.drawArrays(t.LINES,0,2*e),this._lineDataIdx=0}}},{key:"flush",value:function(){var t=this._gl;this._game.getShaderManager().useShader(this._shader),t.bindBuffer(t.ARRAY_BUFFER,this._renderBuffer),t.uniformMatrix4fv(this._shader.uniforms.uMatrix._location,!1,this._game.getActiveCamera().getMatrix()),this._flushLines(),this._flushRectangles()}}]),t}();e.a=c},function(t,e,r){"use strict";var n=r(27),i=r.n(n),a=r(0),o=r.n(a),s=r(34),u=r.n(s),c=r(1),l=r.n(c),f=r(35),h=r.n(f),p=r(39),y=function(t){function e(){o()(this,e);var t=e.shaderContent;return u()(this,(e.__proto__||i()(e)).call(this,t.vertex,t.fragment,t.uniforms,t.attributes))}return h()(e,t),l()(e,null,[{key:"shaderContent",get:function(){return{vertex:["attribute vec2 aVertexPosition;","attribute vec4 aVertexColorPosition;","uniform mat4 uMatrix;","uniform float uPointSize;","varying vec4 vColor;","void main(void) {","   vColor = aVertexColorPosition;","   gl_PointSize = uPointSize;","   gl_Position = uMatrix * vec4(aVertexPosition, 0.0, 1.0);","}"].join("\n"),fragment:["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"].join("\n"),uniforms:{uMatrix:{type:"mat4",value:new Float32Array(16)},uPointSize:{type:"1i",value:2}},attributes:{aVertexPosition:-1,aVertexColorPosition:-1}}}}]),e}(p.a);e.a=y},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(26),u=r(100),c=r(18),l=function(){function t(e,r,n){i()(this,t),this.stroke=e instanceof u.a?e:new u.a(s.a.fromRGBA(0,0,0,1),5),this._rawMaxOffset=r instanceof c.a?r:new c.a(10,10),this._offset=n instanceof c.a?n:new c.a(7,7)}return o()(t,[{key:"getStroke",value:function(){return this.stroke}},{key:"setStroke",value:function(t){t instanceof u.a&&(this.stroke=t)}},{key:"getOffset",value:function(){return this._offset}},{key:"setOffset",value:function(t){if(!(t instanceof c.a))throw new Error("The given raw max drop shadow offset is invalid");this._offset=t}},{key:"getRawMaxOffset",value:function(){return this._rawMaxOffset}},{key:"setRawMaxOffset",value:function(t){if(!(t instanceof c.a))throw new Error("The given raw max drop shadow offset is invalid");this._rawMaxOffset=t}},{key:"objectify",value:function(){return{stroke:this.getStroke().objectify(),rawMaxOffset:this.getRawMaxOffset().objectify(),offset:this.getOffset().objectify()}}}],[{key:"restore",value:function(e){var r=new t;return r.setStroke(u.a.restore(e.stroke)),r.setRawMaxOffset(c.a.restore(e.rawMaxOffset)),r.setOffset(c.a.restore(e.offset)),r}}]),t}();e.a=l},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=function(){function t(){i()(this,t)}return o()(t,null,[{key:"measureCharacterWidth",value:function(t,e){if(!t||!e)return 0;var r=t.getScale();if(!r)return 0;var n=t.findCharID(e);return null===n?0:t.getFontDescription().chars[n].xadvance*r}},{key:"measureTextWidth",value:function(e,r){if(!e||!r||!e.getScale())return 0;for(var n=0,i=0,a=!1,o=0;o<r.length;o++){var s=r[o];!a&&n>0&&(i=e.getLetterSpacing(),a=!0);var u=t.measureCharacterWidth(e,s);u>0&&(n+=u+i)}return n}},{key:"wrapWordsShortVersion",value:function(e,r,n){var i=[];if(!e||!r||!n||n<=0)return i;var a=r.split(" ");if(1==a.length)return a;for(var o=a.shift(),s=0;s<a.length;s++){var u=a[s],c=o+" "+u;t.measureTextWidth(e,c)>n?(i.push(o),o=u):o+=" "+u}return i.push(o),i}},{key:"wrapWordsLongVersion",value:function(e,r,n,i){var a=[];if(!e||!r||!n||n<=0)return a;for(var o=r.split(" "),s="",u=0,c="",l=0,f=!1,h=0;h<o.length;h++){var p=o[h];!f&&u>0&&(c=" ",l=t.measureCharacterWidth(e,c)+e.getLetterSpacing(),f=!0);var y=t.measureTextWidth(e,p);if(i&&y>n){var v=s+c+p,d=t.wrapTextByCharacter(e,v,n);s=d.splice(-1,1)[0].chars.join(""),u=t.measureTextWidth(e,s),c="",l=0,f=!1;for(var m=0;m<d.length;m++){var g=d[m].chars.join("");a.push(g)}}else{u+y+l>n?(a.push(s),s=p,u=y,c="",l=0,f=!1):(s+=c+p,u+=l+y)}}return a.push(s),a}},{key:"wrapTextByCharacter",value:function(e,r,n){var i=[];if(!e||!r||!n||n<=0)return i;i.push({chars:[],width:0});for(var a=0,o=!1,s=0;s<r.length;s++){var u=r[s],c=i.length-1;!o&&i[c].width>0&&(a=e.getLetterSpacing(),o=!0);var l=t.measureCharacterWidth(e,u);i[c].width+l+a>n&&(i.push({chars:[],width:0}),c++,a=0,o=!1," "===u)||(i[c].width+=l+a,i[c].chars.push(u))}return i}},{key:"convertTextStringToLineFormat",value:function(e,r){var n={chars:Array(),width:0};return e&&r&&e.getScale()?(n.chars=r.split(""),n.width=t.measureTextWidth(e,r),n):n}},{key:"measureText",value:function(e,r,n,i,a){var o=[];if(!(e&&r&&n&&e.getScale()))return o;o.push({chars:[],width:0});var s=r,u=[];if(i){var c="";u=s.split(/(?:\r\n|\r|\n)/);for(var l=0;l<u.length;l++){var f=t.wrapWordsLongVersion(e,u[l],n,a).join("\n");f+="\n",c+=f}s=c}u=s.split(/(?:\r\n|\r|\n)/);for(var h=0;h<u.length;h++){var p=u[h],y=[];!i&&a?y=t.wrapTextByCharacter(e,p,n):y.push(t.convertTextStringToLineFormat(e,p)),Array.prototype.push.apply(o,y)}return o}}]),t}();e.a=s},function(t,e,r){"use strict";var n=r(9),i=r.n(n),a=r(10),o=r.n(a),s=r(0),u=r.n(s),c=r(1),l=r.n(c),f=r(37),h=r(97),p=r(160),y=r(98),v=r(99),d=r(161),m=r(162),g=r.n(m),_=r(163),x=r.n(_),b=r(164),k=r.n(b),w=r(32),S=r.n(w),T=function(){function t(){u()(this,t)}return l()(t,null,[{key:"isExtensionSupported",value:function(t){var e=S.a.string(),r=S.a.return(S.a.boolean());return S.a.param("extension",e).assert(t),r.assert(p.a.includes(t))}},{key:"validateFont",value:function(){function e(t,e,n,i,a){return r.apply(this,arguments)}var r=o()(i.a.mark(function e(r,n,a,o,s){var u,c,l,p,y,v,m,g,_,x,b,k;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=S.a.string(),c=S.a.ref(f.a),l=S.a.object(),p=S.a.function(),y=S.a.function(),v=S.a.return(S.a.union(S.a.nullable(S.a.object(S.a.property("imagePath",S.a.string()),S.a.property("specPath",S.a.string()))),S.a.ref("Promise",S.a.nullable(S.a.object(S.a.property("imagePath",S.a.string()),S.a.property("specPath",S.a.string())))))),S.a.param("path",u).assert(r),S.a.param("contentLoader",c).assert(n),S.a.param("options",l).assert(a),S.a.param("generate",p).assert(o),S.a.param("writeFileAsync",y).assert(s),m=h.a.getBasename(r),g=h.a.getFileExtension(m),!(m.length<=0)&&t.isExtensionSupported(g)){e.next=15;break}return e.abrupt("return",v.assert(null));case 15:return _=r.substring(0,r.length-g.length),x=_+".png",b=_+".json",e.next=20,t.textureAndSpecExist(x,b,n);case 20:if(k=e.sent,e.t0=k,e.t0){e.next=26;break}return e.next=25,d.a.tryToGenerateAsync(r,a,o,s);case 25:e.t0=e.sent;case 26:if(!e.t0){e.next=30;break}return e.abrupt("return",v.assert({imagePath:x,specPath:b}));case 30:return e.abrupt("return",v.assert(null));case 31:case"end":return e.stop()}},e,this)}));return e}()},{key:"textureAndSpecExist",value:function(){function t(t,r,n){return e.apply(this,arguments)}var e=o()(i.a.mark(function t(e,r,n){var a,o,s,u,c,l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=S.a.string(),o=S.a.string(),s=S.a.ref(f.a),u=S.a.return(S.a.union(S.a.boolean(),S.a.ref("Promise",S.a.boolean()))),S.a.param("imagePath",a).assert(e),S.a.param("specPath",o).assert(r),S.a.param("contentLoader",s).assert(n),t.t0=S.a.boolean(),t.next=10,n.fileExistsAsync(e);case 10:return t.t1=t.sent,c=t.t0.assert.call(t.t0,t.t1),t.t2=S.a.boolean(),t.next=15,n.fileExistsAsync(r);case 15:return t.t3=t.sent,l=t.t2.assert.call(t.t2,t.t3),t.abrupt("return",u.assert(c&&l));case 18:case"end":return t.stop()}},t,this)}));return t}()},{key:"loadFontAsync",value:function(){function e(t){return r.apply(this,arguments)}var r=o()(i.a.mark(function e(r){var n,a,o,s,u,c,l,h,p,m,_,b,w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.a||function(){return!0},E=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.a?k()(x.a.writeFile):function(){return!0},P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d.a.BMFontOptions;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=S.a.string(),a=S.a.ref(f.a),o=S.a.function(),s=S.a.function(),u=S.a.object(),c=S.a.return(S.a.union(S.a.nullable(S.a.ref(y.a)),S.a.ref("Promise",S.a.nullable(S.a.ref(y.a))))),S.a.param("path",n).assert(r),S.a.param("contentLoader",a).assert(w),S.a.param("generate",o).assert(T),S.a.param("writeFileAsync",s).assert(E),S.a.param("options",u).assert(P),e.next=13,t.validateFont(r,w,P,T,E);case 13:if(null!==(l=e.sent)&&l.imagePath&&l.specPath){e.next=16;break}return e.abrupt("return",c.assert(null));case 16:return h=l.imagePath,p=l.specPath,e.next=20,w.loadImage(h,h);case 20:return m=e.sent,e.next=23,w.loadFile(p,p);case 23:if(_=e.sent,!1!==m&&!1!==_){e.next=26;break}return e.abrupt("return",c.assert(null));case 26:if(null!==(b=v.a.parse(_))){e.next=29;break}return e.abrupt("return",c.assert(null));case 29:return e.abrupt("return",c.assert(new y.a(b,p,m)));case 30:case"end":return e.stop()}},e,this)}));return e}()}]),t}();e.a=T},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r(32),i=r.n(n),a=i.a.array(i.a.string()).assert([".ttf",".woff",".otf"])},function(t,e,r){"use strict";var n=r(9),i=r.n(n),a=r(84),o=r.n(a),s=r(10),u=r.n(s),c=r(0),l=r.n(c),f=r(1),h=r.n(f),p=r(17),y=r(154),v=r.n(y),d=r(162),m=r.n(d),g=r(163),_=r.n(g),x=r(164),b=r.n(x),k=r(25),w=r(32),S=r.n(w),T=function(){function t(){l()(this,t)}return h()(t,null,[{key:"_writeTextures",value:function(){function t(t,r){return e.apply(this,arguments)}var e=u()(i.a.mark(function t(e,r){var n,a,s=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=S.a.array(S.a.object(S.a.property("filename",S.a.string()),S.a.property("texture",S.a.ref("Uint8Array")))),a=S.a.function(),S.a.param("textures",n).assert(e),S.a.param("writeFileAsync",a).assert(r),t.next=6,o.a.all(e.map(function(){var t=u()(i.a.mark(function t(e){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(e.filename+".png",e.texture);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,s)}));return function(e){return t.apply(this,arguments)}}()));case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}));return t}()},{key:"_writeBMFontSpecFiles",value:function(){function e(t,e,n){return r.apply(this,arguments)}var r=u()(i.a.mark(function e(r,n,a){var s,u,c,l,f;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=S.a.array(S.a.object(S.a.property("filename",S.a.string()),S.a.property("texture",S.a.ref("Uint8Array")))),u=S.a.object(S.a.property("filename",S.a.string()),S.a.property("data",S.a.any())),c=S.a.function(),S.a.param("textures",s).assert(r),S.a.param("font",u).assert(n),S.a.param("writeFileAsync",c).assert(a),l=t._writeTextures(r,a),f=a(n.filename,n.data),e.next=10,o.a.all([l,f]);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"_generateAsync",value:function(){function e(t,e,n,i){return r.apply(this,arguments)}var r=u()(i.a.mark(function e(r,n,a,s){var c,l,f,h,p,y=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=S.a.string(),l=S.a.object(),f=S.a.function(),h=S.a.function(),p=S.a.return(S.a.union(S.a.boolean(),S.a.ref("Promise",S.a.boolean()))),S.a.param("fontPath",c).assert(r),S.a.param("options",l).assert(n),S.a.param("generate",f).assert(a),S.a.param("writeFileAsync",h).assert(s),e.abrupt("return",p.assert(new o.a(function(e,o){a(r,n,function(){var r=u()(i.a.mark(function r(n,a,u){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n&&o(n),r.prev=1,r.next=4,t._writeBMFontSpecFiles(a,u,s);case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),o(r.t0);case 9:e(!0);case 10:case"end":return r.stop()}},r,y,[[1,6]])}));return function(t,e,n){return r.apply(this,arguments)}}())})));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"tryToGenerateAsync",value:function(){function e(t,e){return r.apply(this,arguments)}var r=u()(i.a.mark(function e(r,n){var a,o,s,u,c,l,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.a||function(){return!0},h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b.a?b()(_.a.writeFile):function(){return!0};return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S.a.string(),o=S.a.object(),s=S.a.function(),u=S.a.function(),c=S.a.return(S.a.union(S.a.nullable(S.a.boolean()),S.a.ref("Promise",S.a.nullable(S.a.boolean())))),S.a.param("fontPath",a).assert(r),S.a.param("options",o).assert(n),S.a.param("generate",s).assert(f),S.a.param("writeFileAsync",u).assert(h),k.a.isElectron()){e.next=12;break}return console.warn("BMFont Generator cannot be used in the browser. Use through node instead."),e.abrupt("return",c.assert(null));case 12:return l=v.a.join(p.a._activeProjectPath,r),e.prev=13,e.t0=c,e.next=17,t._generateAsync(l,n,f,h);case 17:return e.t1=e.sent,e.abrupt("return",e.t0.assert.call(e.t0,e.t1));case 21:return e.prev=21,e.t2=e.catch(13),console.error(new Error("Could not create BMFont Spec and Texture files.\nDetails: "+e.t2.message)),e.abrupt("return",c.assert(null));case 25:case"end":return e.stop()}},e,this,[[13,21]])}));return e}()},{key:"BMFontOptions",get:function(){return S.a.return(S.a.object()).assert({outputType:"json",distanceRange:10,smartSize:!0,pot:!0,fontSize:50,texturePadding:8})}}]),t}();e.a=T},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_162__},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_163__},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_164__},function(t,e,r){"use strict";var n=r(27),i=r.n(n),a=r(0),o=r.n(a),s=r(34),u=r.n(s),c=r(1),l=r.n(c),f=r(35),h=r.n(f),p=r(39),y=function(t){function e(){o()(this,e);var t=e.shaderContent;return u()(this,(e.__proto__||i()(e)).call(this,t.vertex,t.fragment,t.uniforms,t.attributes))}return h()(e,t),l()(e,null,[{key:"shaderContent",get:function(){return{vertex:["attribute vec2 aPos;","attribute vec2 aTexCoord;","uniform mat4 uMatrix;","uniform mat4 uTransform;","uniform vec2 uTexSize;","varying vec2 vTexCoord;","void main() {","   gl_Position = uMatrix * uTransform * vec4(aPos, 0, 1);","   vTexCoord = aTexCoord / uTexSize;","}"].join("\n"),fragment:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives : enable","#endif","precision highp float;","vec3 mod289(vec3 x) {","  return x - floor(x * (1.0 / 289.0)) * 289.0;","}","vec4 mod289(vec4 x) {","  return x - floor(x * (1.0 / 289.0)) * 289.0;","}","vec4 permute(vec4 x) {","    return mod289(((x*34.0)+1.0)*x);","}","vec4 taylorInvSqrt(vec4 r)","{","  return 1.79284291400159 - 0.85373472095314 * r;","}","float snoise(vec3 v)","  {","  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;","  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);","  vec3 i  = floor(v + dot(v, C.yyy) );","  vec3 x0 =   v - i + dot(i, C.xxx) ;","  vec3 g = step(x0.yzx, x0.xyz);","  vec3 l = 1.0 - g;","  vec3 i1 = min( g.xyz, l.zxy );","  vec3 i2 = max( g.xyz, l.zxy );","  vec3 x1 = x0 - i1 + C.xxx;","  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y","  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y","  i = mod289(i);","  vec4 p = permute( permute( permute(","            i.z + vec4(0.0, i1.z, i2.z, 1.0 ))","          + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))","          + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));","  float n_ = 0.142857142857; // 1.0/7.0","  vec3  ns = n_ * D.wyz - D.xzx;","  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);","  vec4 x_ = floor(j * ns.z);","  vec4 y_ = floor(j - 7.0 * x_ );","  vec4 x = x_ *ns.x + ns.yyyy;","  vec4 y = y_ *ns.x + ns.yyyy;","  vec4 h = 1.0 - abs(x) - abs(y);","  vec4 b0 = vec4( x.xy, y.xy );","  vec4 b1 = vec4( x.zw, y.zw );","  vec4 s0 = floor(b0)*2.0 + 1.0;","  vec4 s1 = floor(b1)*2.0 + 1.0;","  vec4 sh = -step(h, vec4(0.0));","  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;","  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;","  vec3 p0 = vec3(a0.xy,h.x);","  vec3 p1 = vec3(a0.zw,h.y);","  vec3 p2 = vec3(a1.xy,h.z);","  vec3 p3 = vec3(a1.zw,h.w);","  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));","  p0 *= norm.x;","  p1 *= norm.y;","  p2 *= norm.z;","  p3 *= norm.w;","  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);","  m = m * m;","  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),","                                dot(p2,x2), dot(p3,x3) ) );","  }","float aastep(float threshold, float value) {","  #ifdef GL_OES_standard_derivatives","    float afwidth = length(vec2(dFdx(value), dFdy(value))) * 0.70710678118654757;","    return smoothstep(threshold-afwidth, threshold+afwidth, value);","  #else","    return step(threshold, value);","  #endif ","}","uniform vec2 uTexSize;","uniform sampler2D uTexture;","uniform vec4 uColor;","uniform float uGamma;","uniform float uOutlineDistance;","uniform vec4 uOutlineColor;","uniform float iGlobalTime;","uniform float animate;","uniform vec4 uDropShadowColor;","uniform float uDropShadowSmoothing;","uniform vec2 uDropShadowOffset;","uniform float uDebug;","uniform float uDropShadow;","uniform float uOutline;","varying vec2 vTexCoord;","float median(float r, float g, float b) {"," return max(min(r, g), min(max(r, g), b));","}","void main() {"," float alpha = 0.0;"," float animValue = pow(abs(animate * 2.0 - 1.0), 12.0 - 0.5 * 5.0);"," float threshold = 0.0 * 0.5 + 0.5;"," vec2 msdfUnit = 10.0/uTexSize;"," vec3 sample = texture2D(uTexture, vTexCoord).rgb;"," float med = median(sample.r, sample.g, sample.b);"," float sigDist = med - 0.5;"," sigDist *= dot(msdfUnit, 0.5/fwidth(vTexCoord));"," alpha += 0.15 * aastep(threshold, med + 0.4 * snoise(vec3(vTexCoord * 10.0, iGlobalTime)));"," alpha += 0.35 * aastep(threshold, med + 0.1 * snoise(vec3(vTexCoord * 20.0, iGlobalTime)));"," alpha += 0.15 * aastep(threshold, med);"," gl_FragColor = vec4(uColor.rgb, alpha);","}"].join("\n"),uniforms:{uMatrix:{type:"mat4",value:new Float32Array(16)},uTransform:{type:"mat4",value:new Float32Array(16)},uTexture:{type:"tex",value:0},uTexSize:{type:"1i",value:24},iGlobalTime:{type:"f",value:0},animate:{type:"f",value:0},uColor:[1,0,0,1],uOutlineColor:[1,1,1,1],uDropShadowColor:[0,0,0,1],uDropShadowSmoothing:{type:"1i",value:0},uDropShadowOffset:[0,0],uOutlineDistance:{type:"1i",value:0},uGamma:{type:"1i",value:0},uDebug:{type:"1i",value:1},uDropShadow:{type:"1i",value:1},uOutline:{type:"1i",value:1}},attributes:{aPos:0,aTexCoord:0}}}}]),e}(p.a);e.a=y},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=function(){function t(e){i()(this,t),this.gamepadInfo=e}return o()(t,[{key:"isButtonPressed",value:function(t){return this.gamepadInfo.buttons[t]&&this.gamepadInfo.buttons[t].pressed}},{key:"getButtonValue",value:function(t){return this.gamepadInfo.buttons[t]?this.gamepadInfo.buttons[t].value:0}},{key:"getAxisValue",value:function(t){return this.gamepadInfo.axes[t]?this.gamepadInfo.axes[t]:0}}]),t}();e.a=s},function(t,e,r){r(51),t.exports=r(174)},function(t,e,r){var n={};t.exports=n;var i=r(11),a=r(66),o=r(12),s=r(68),u=r(21);!function(){n.ray=function(t,e,r,n){n=n||1e-100;for(var u=i.angle(e,r),c=i.magnitude(i.sub(e,r)),l=.5*(r.x+e.x),f=.5*(r.y+e.y),h=s.rectangle(l,f,c,n,{angle:u}),p=[],y=0;y<t.length;y++){var v=t[y];if(o.overlaps(v.bounds,h.bounds))for(var d=1===v.parts.length?0:1;d<v.parts.length;d++){var m=v.parts[d];if(o.overlaps(m.bounds,h.bounds)){var g=a.collides(m,h);if(g.collided){g.body=g.bodyA=g.bodyB=v,p.push(g);break}}}}return p},n.region=function(t,e,r){for(var n=[],i=0;i<t.length;i++){var a=t[i],s=o.overlaps(a.bounds,e);(s&&!r||!s&&r)&&n.push(a)}return n},n.point=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=t[n];if(o.contains(i.bounds,e))for(var a=1===i.parts.length?0:1;a<i.parts.length;a++){var s=i.parts[a];if(o.contains(s.bounds,e)&&u.contains(s.vertices,e)){r.push(i);break}}}return r}}()},function(t,e,r){var n={};t.exports=n;var i=r(21),a=r(41),o=r(105),s=r(28),u=r(65),c=r(42),l=r(22),f=r(3),h=r(12);!function(){n.create=function(e,r){var i=(e?e.mouse:null)||(r?r.mouse:null);i||(e&&e.render&&e.render.canvas?i=o.create(e.render.canvas):r&&r.element?i=o.create(r.element):(i=o.create(),f.log("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected","warn")));var a=c.create({label:"Mouse Constraint",pointA:i.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),u={type:"mouseConstraint",mouse:i,element:null,body:null,constraint:a,collisionFilter:{category:1,mask:4294967295,group:0}},h=f.extend(u,r);return s.on(e,"tick",function(){var r=l.allBodies(e.world);n.update(h,r),t(h)}),h},n.update=function(t,e){var r=t.mouse,n=t.constraint,o=t.body;if(0===r.button){if(n.bodyB)a.set(n.bodyB,!1),n.pointA=r.position;else for(var c=0;c<e.length;c++)if(o=e[c],h.contains(o.bounds,r.position)&&u.canCollide(o.collisionFilter,t.collisionFilter))for(var l=o.parts.length>1?1:0;l<o.parts.length;l++){var f=o.parts[l];if(i.contains(f.vertices,r.position)){n.pointA=r.position,n.bodyB=t.body=o,n.pointB={x:r.position.x-o.position.x,y:r.position.y-o.position.y},n.angleB=o.angle,a.set(o,!1),s.trigger(t,"startdrag",{mouse:r,body:o});break}}}else n.bodyB=t.body=null,n.pointB=null,o&&s.trigger(t,"enddrag",{mouse:r,body:o})};var t=function(t){var e=t.mouse,r=e.sourceEvents;r.mousemove&&s.trigger(t,"mousemove",{mouse:e}),r.mousedown&&s.trigger(t,"mousedown",{mouse:e}),r.mouseup&&s.trigger(t,"mouseup",{mouse:e}),o.clearSourceEvents(e)}}()},function(t,e,r){var n={};t.exports=n;var i=r(28),a=r(106),o=r(3);!function(){var t,e;"undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(function(){t(o.now())},1e3/60)},e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),n.create=function(t){var e={fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},r=o.extend(e,t);return r.delta=r.delta||1e3/r.fps,r.deltaMin=r.deltaMin||1e3/r.fps,r.deltaMax=r.deltaMax||1e3/(.5*r.fps),r.fps=1e3/r.delta,r},n.run=function(e,r){return void 0!==e.positionIterations&&(r=e,e=n.create()),function i(a){e.frameRequestId=t(i),a&&e.enabled&&n.tick(e,r,a)}(),e},n.tick=function(t,e,r){var n,o=e.timing,s=1,u={timestamp:o.timestamp};i.trigger(t,"beforeTick",u),i.trigger(e,"beforeTick",u),t.isFixed?n=t.delta:(n=r-t.timePrev||t.delta,t.timePrev=r,t.deltaHistory.push(n),t.deltaHistory=t.deltaHistory.slice(-t.deltaSampleSize),n=Math.min.apply(null,t.deltaHistory),n=n<t.deltaMin?t.deltaMin:n,n=n>t.deltaMax?t.deltaMax:n,s=n/t.delta,t.delta=n),0!==t.timeScalePrev&&(s*=o.timeScale/t.timeScalePrev),0===o.timeScale&&(s=0),t.timeScalePrev=o.timeScale,t.correction=s,t.frameCounter+=1,r-t.counterTimestamp>=1e3&&(t.fps=t.frameCounter*((r-t.counterTimestamp)/1e3),t.counterTimestamp=r,t.frameCounter=0),i.trigger(t,"tick",u),i.trigger(e,"tick",u),e.world.isModified&&e.render&&e.render.controller&&e.render.controller.clear&&e.render.controller.clear(e.render),i.trigger(t,"beforeUpdate",u),a.update(e,n,s),i.trigger(t,"afterUpdate",u),e.render&&e.render.controller&&(i.trigger(t,"beforeRender",u),i.trigger(e,"beforeRender",u),e.render.controller.world(e.render),i.trigger(t,"afterRender",u),i.trigger(e,"afterRender",u)),i.trigger(t,"afterTick",u),i.trigger(e,"afterTick",u)},n.stop=function(t){e(t.frameRequestId)},n.start=function(t,e){n.run(t,e)}}()},function(t,e,r){var n={};t.exports=n;var i=r(22),a=r(42),o=r(3),s=r(40),u=r(68);!function(){n.stack=function(t,e,r,n,a,o,u){for(var c,l=i.create({label:"Stack"}),f=t,h=e,p=0,y=0;y<n;y++){for(var v=0,d=0;d<r;d++){var m=u(f,h,d,y,c,p);if(m){var g=m.bounds.max.y-m.bounds.min.y,_=m.bounds.max.x-m.bounds.min.x;g>v&&(v=g),s.translate(m,{x:.5*_,y:.5*g}),f=m.bounds.max.x+a,i.addBody(l,m),c=m,p+=1}else f+=a}h+=v+o,f=t}return l},n.chain=function(t,e,r,n,s,u){for(var c=t.bodies,l=1;l<c.length;l++){var f=c[l-1],h=c[l],p=f.bounds.max.y-f.bounds.min.y,y=f.bounds.max.x-f.bounds.min.x,v=h.bounds.max.y-h.bounds.min.y,d=h.bounds.max.x-h.bounds.min.x,m={bodyA:f,pointA:{x:y*e,y:p*r},bodyB:h,pointB:{x:d*n,y:v*s}},g=o.extend(m,u);i.addConstraint(t,a.create(g))}return t.label+=" Chain",t},n.mesh=function(t,e,r,n,s){var u,c,l,f,h,p=t.bodies;for(u=0;u<r;u++){for(c=1;c<e;c++)l=p[c-1+u*e],f=p[c+u*e],i.addConstraint(t,a.create(o.extend({bodyA:l,bodyB:f},s)));if(u>0)for(c=0;c<e;c++)l=p[c+(u-1)*e],f=p[c+u*e],i.addConstraint(t,a.create(o.extend({bodyA:l,bodyB:f},s))),n&&c>0&&(h=p[c-1+(u-1)*e],i.addConstraint(t,a.create(o.extend({bodyA:h,bodyB:f},s)))),n&&c<e-1&&(h=p[c+1+(u-1)*e],i.addConstraint(t,a.create(o.extend({bodyA:h,bodyB:f},s))))}return t.label+=" Mesh",t},n.pyramid=function(t,e,r,i,a,o,u){return n.stack(t,e,r,i,a,o,function(e,n,o,c,l,f){var h=Math.min(i,Math.ceil(r/2)),p=l?l.bounds.max.x-l.bounds.min.x:0;if(!(c>h)){c=h-c;var y=c,v=r-1-c;if(!(o<y||o>v)){1===f&&s.translate(l,{x:(o+(r%2==1?1:-1))*p,y:0});return u(t+(l?o*p:0)+o*a,n,o,c,l,f)}}})},n.newtonsCradle=function(t,e,r,n,o){for(var s=i.create({label:"Newtons Cradle"}),c=0;c<r;c++){var l=u.circle(t+c*(1.9*n),e+o,n,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),f=a.create({pointA:{x:t+c*(1.9*n),y:e},bodyB:l});i.addBody(s,l),i.addConstraint(s,f)}return s},n.car=function(t,e,r,n,o){var c=s.nextGroup(!0),l=.5*-r-20,f=.5*r- -20,h=i.create({label:"Car"}),p=u.trapezoid(t,e,r,n,.3,{collisionFilter:{group:c},friction:.01,chamfer:{radius:10}}),y=u.circle(t+l,e+0,o,{collisionFilter:{group:c},friction:.8,density:.01}),v=u.circle(t+f,e+0,o,{collisionFilter:{group:c},friction:.8,density:.01}),d=a.create({bodyA:p,pointA:{x:l,y:0},bodyB:y,stiffness:.2}),m=a.create({bodyA:p,pointA:{x:f,y:0},bodyB:v,stiffness:.2});return i.addBody(h,p),i.addBody(h,y),i.addBody(h,v),i.addConstraint(h,d),i.addConstraint(h,m),h},n.softBody=function(t,e,r,i,a,s,c,l,f,h){f=o.extend({inertia:1/0},f),h=o.extend({stiffness:.4},h);var p=n.stack(t,e,r,i,a,s,function(t,e){return u.circle(t,e,l,f)});return n.mesh(p,r,i,c,h),p.label="Soft Body",p}}()},function(t,e,r){var n={};t.exports=n;r(12);!function(){n.pathToVertices=function(e,r){var n,i,a,o,s,u,c,l,f,h,p,y,v=[],d=0,m=0,g=0;r=r||15;var _=function(t,e,r){var n=r%2==1&&r>1;if(!f||t!=f.x||e!=f.y){f&&n?(p=f.x,y=f.y):(p=0,y=0);var i={x:p+t,y:y+e};!n&&f||(f=i),v.push(i),m=p+t,g=y+e}},x=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if("Z"!==e){switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":m=t.x,g=t.y;break;case"H":m=t.x;break;case"V":g=t.y}_(m,g,t.pathSegType)}};for(t(e),a=e.getTotalLength(),u=[],n=0;n<e.pathSegList.numberOfItems;n+=1)u.push(e.pathSegList.getItem(n));for(c=u.concat();d<a;){if(h=e.getPathSegAtLength(d),(s=u[h])!=l){for(;c.length&&c[0]!=s;)x(c.shift());l=s}switch(s.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=e.getPointAtLength(d),_(o.x,o.y,0)}d+=r}for(n=0,i=c.length;n<i;++n)x(c[n]);return v};var t=function(t){for(var e,r,n,i,a,o,s=t.pathSegList,u=0,c=0,l=s.numberOfItems,f=0;f<l;++f){var h=s.getItem(f),p=h.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in h&&(u=h.x),"y"in h&&(c=h.y);else switch("x1"in h&&(n=u+h.x1),"x2"in h&&(a=u+h.x2),"y1"in h&&(i=c+h.y1),"y2"in h&&(o=c+h.y2),"x"in h&&(u+=h.x),"y"in h&&(c+=h.y),p){case"m":s.replaceItem(t.createSVGPathSegMovetoAbs(u,c),f);break;case"l":s.replaceItem(t.createSVGPathSegLinetoAbs(u,c),f);break;case"h":s.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(u),f);break;case"v":s.replaceItem(t.createSVGPathSegLinetoVerticalAbs(c),f);break;case"c":s.replaceItem(t.createSVGPathSegCurvetoCubicAbs(u,c,n,i,a,o),f);break;case"s":s.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(u,c,a,o),f);break;case"q":s.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(u,c,n,i),f);break;case"t":s.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(u,c),f);break;case"a":s.replaceItem(t.createSVGPathSegArcAbs(u,c,h.r1,h.r2,h.angle,h.largeArcFlag,h.sweepFlag),f);break;case"z":case"Z":u=e,c=r}"M"!=p&&"m"!=p||(e=u,r=c)}}}()},function(t,e,r){var n={};t.exports=n;var i=r(22),a=r(3);!function(){var t,e;"undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(function(){t(a.now())},1e3/60)},e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),n.create=function(t){a.log("RenderPixi.create: Matter.RenderPixi is deprecated (see docs)","warn");var e={controller:n,engine:null,element:null,frameRequestId:null,canvas:null,renderer:null,container:null,spriteContainer:null,pixiOptions:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},r=a.extend(e,t),i=!r.options.wireframes&&"transparent"===r.options.background;return r.pixiOptions=r.pixiOptions||{view:r.canvas,transparent:i,antialias:!0,backgroundColor:t.background},r.mouse=t.mouse,r.engine=t.engine,r.renderer=r.renderer||new PIXI.WebGLRenderer(r.options.width,r.options.height,r.pixiOptions),r.container=r.container||new PIXI.Container,r.spriteContainer=r.spriteContainer||new PIXI.Container,r.canvas=r.canvas||r.renderer.view,r.bounds=r.bounds||{min:{x:0,y:0},max:{x:r.options.width,y:r.options.height}},r.textures={},r.sprites={},r.primitives={},r.container.addChild(r.spriteContainer),a.isElement(r.element)?r.element.appendChild(r.canvas):a.log('No "render.element" passed, "render.canvas" was not inserted into document.',"warn"),r.canvas.oncontextmenu=function(){return!1},r.canvas.onselectstart=function(){return!1},r},n.run=function(e){!function r(i){e.frameRequestId=t(r),n.world(e)}()},n.stop=function(t){e(t.frameRequestId)},n.clear=function(t){for(var e=t.container,r=t.spriteContainer;e.children[0];)e.removeChild(e.children[0]);for(;r.children[0];)r.removeChild(r.children[0]);var n=t.sprites["bg-0"];t.textures={},t.sprites={},t.primitives={},t.sprites["bg-0"]=n,n&&e.addChildAt(n,0),t.container.addChild(t.spriteContainer),t.currentBackground=null,e.scale.set(1,1),e.position.set(0,0)},n.setBackground=function(t,e){if(t.currentBackground!==e){var r=e.indexOf&&-1!==e.indexOf("#"),n=t.sprites["bg-0"];if(r){var i=a.colorToNumber(e);t.renderer.backgroundColor=i,n&&t.container.removeChild(n)}else if(!n){var o=s(t,e);n=t.sprites["bg-0"]=new PIXI.Sprite(o),n.position.x=0,n.position.y=0,t.container.addChildAt(n,0)}t.currentBackground=e}},n.world=function(t){var e,r=t.engine,a=r.world,o=t.renderer,s=t.container,u=t.options,c=i.allBodies(a),l=i.allConstraints(a),f=[];u.wireframes?n.setBackground(t,u.wireframeBackground):n.setBackground(t,u.background);var h=t.bounds.max.x-t.bounds.min.x,p=t.bounds.max.y-t.bounds.min.y,y=h/t.options.width,v=p/t.options.height;if(u.hasBounds){for(e=0;e<c.length;e++){var d=c[e];d.render.sprite.visible=Bounds.overlaps(d.bounds,t.bounds)}for(e=0;e<l.length;e++){var m=l[e],g=m.bodyA,_=m.bodyB,x=m.pointA,b=m.pointB;g&&(x=Vector.add(g.position,m.pointA)),_&&(b=Vector.add(_.position,m.pointB)),x&&b&&((Bounds.contains(t.bounds,x)||Bounds.contains(t.bounds,b))&&f.push(m))}s.scale.set(1/y,1/v),s.position.set(-t.bounds.min.x*(1/y),-t.bounds.min.y*(1/v))}else f=l;for(e=0;e<c.length;e++)n.body(t,c[e]);for(e=0;e<f.length;e++)n.constraint(t,f[e]);o.render(s)},n.constraint=function(t,e){var r=(t.engine,e.bodyA),n=e.bodyB,i=e.pointA,o=e.pointB,s=t.container,u=e.render,c="c-"+e.id,l=t.primitives[c];if(l||(l=t.primitives[c]=new PIXI.Graphics),!u.visible||!e.pointA||!e.pointB)return void l.clear();-1===a.indexOf(s.children,l)&&s.addChild(l),l.clear(),l.beginFill(0,0),l.lineStyle(u.lineWidth,a.colorToNumber(u.strokeStyle),1),r?l.moveTo(r.position.x+i.x,r.position.y+i.y):l.moveTo(i.x,i.y),n?l.lineTo(n.position.x+o.x,n.position.y+o.y):l.lineTo(o.x,o.y),l.endFill()},n.body=function(t,e){var n=(t.engine,e.render);if(n.visible)if(n.sprite&&n.sprite.texture){var i="b-"+e.id,s=t.sprites[i],u=t.spriteContainer;s||(s=t.sprites[i]=r(t,e)),-1===a.indexOf(u.children,s)&&u.addChild(s),s.position.x=e.position.x,s.position.y=e.position.y,s.rotation=e.angle,s.scale.x=n.sprite.xScale||1,s.scale.y=n.sprite.yScale||1}else{var c="b-"+e.id,l=t.primitives[c],f=t.container;l||(l=t.primitives[c]=o(t,e),l.initialAngle=e.angle),-1===a.indexOf(f.children,l)&&f.addChild(l),l.position.x=e.position.x,l.position.y=e.position.y,l.rotation=e.angle-l.initialAngle}};var r=function(t,e){var r=e.render,n=r.sprite.texture,i=s(t,n),a=new PIXI.Sprite(i);return a.anchor.x=e.render.sprite.xOffset,a.anchor.y=e.render.sprite.yOffset,a},o=function(t,e){var r,n=e.render,i=t.options,o=new PIXI.Graphics,s=a.colorToNumber(n.fillStyle),u=a.colorToNumber(n.strokeStyle),c=a.colorToNumber(n.strokeStyle),l=a.colorToNumber("#bbb"),f=a.colorToNumber("#CD5C5C");o.clear();for(var h=e.parts.length>1?1:0;h<e.parts.length;h++){r=e.parts[h],i.wireframes?(o.beginFill(0,0),o.lineStyle(1,l,1)):(o.beginFill(s,1),o.lineStyle(n.lineWidth,u,1)),o.moveTo(r.vertices[0].x-e.position.x,r.vertices[0].y-e.position.y);for(var p=1;p<r.vertices.length;p++)o.lineTo(r.vertices[p].x-e.position.x,r.vertices[p].y-e.position.y);o.lineTo(r.vertices[0].x-e.position.x,r.vertices[0].y-e.position.y),o.endFill(),(i.showAngleIndicator||i.showAxes)&&(o.beginFill(0,0),i.wireframes?o.lineStyle(1,f,1):o.lineStyle(1,c),o.moveTo(r.position.x-e.position.x,r.position.y-e.position.y),o.lineTo((r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2-e.position.x,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2-e.position.y),o.endFill())}return o},s=function(t,e){var r=t.textures[e];return r||(r=t.textures[e]=PIXI.Texture.fromImage(e)),r}}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"XPTO",function(){return v});var n=r(19),i=r.n(n),a=r(184);r.d(e,"AttributeDictionary",function(){return a.a}),r.d(e,"CallbackResponse",function(){return a.c}),r.d(e,"CONSTANTS",function(){return a.b}),r.d(e,"ContentLoader",function(){return a.d}),r.d(e,"EventManager",function(){return a.f}),r.d(e,"FileContext",function(){return a.g}),r.d(e,"Logger",function(){return a.h}),r.d(e,"Debug",function(){return a.e}),r.d(e,"SetterDictionary",function(){return a.i}),r.d(e,"isObjectAssigned",function(){return a.r}),r.d(e,"isString",function(){return a.s}),r.d(e,"isNumber",function(){return a.q}),r.d(e,"isFunction",function(){return a.p}),r.d(e,"inheritsFrom",function(){return a.n}),r.d(e,"generateUID",function(){return a.k}),r.d(e,"splitCamelCase",function(){return a.t}),r.d(e,"capitalize",function(){return a.j}),r.d(e,"getType",function(){return a.l}),r.d(e,"isEqual",function(){return a.o}),r.d(e,"indexOfArray",function(){return a.m});var o=r(266);r.d(e,"RigidBody",function(){return o.a});var s=r(283);r.d(e,"ContentObject",function(){return s.a}),r.d(e,"ProjectFile",function(){return s.b}),r.d(e,"TextureAtlas",function(){return s.c}),r.d(e,"WorkspaceFile",function(){return s.d});var u=r(288);r.d(e,"Camera2D",function(){return u.a}),r.d(e,"Color",function(){return u.b}),r.d(e,"FontStyle",function(){return u.d}),r.d(e,"Game",function(){return u.e}),r.d(e,"GameManager",function(){return u.f}),r.d(e,"GameObject",function(){return u.g}),r.d(e,"GameScene",function(){return u.h}),r.d(e,"PrimitiveBatch",function(){return u.i}),r.d(e,"Script",function(){return u.j}),r.d(e,"Scripts",function(){return u.k}),r.d(e,"addScript",function(){return u.t}),r.d(e,"assignScript",function(){return u.u}),r.d(e,"Sound",function(){return u.l}),r.d(e,"Sprite",function(){return u.m}),r.d(e,"SpriteBatch",function(){return u.n}),r.d(e,"Stroke",function(){return u.o}),r.d(e,"Dropshadow",function(){return u.c}),r.d(e,"Text",function(){return u.p}),r.d(e,"Texture2D",function(){return u.q}),r.d(e,"Transform",function(){return u.r}),r.d(e,"WrapMode",function(){return u.s});var c=r(297);r.d(e,"GridExtension",function(){return c.a});var l=r(299);r.d(e,"KeyboardState",function(){return l.d}),r.d(e,"Keyboard",function(){return l.c}),r.d(e,"Keys",function(){return l.e}),r.d(e,"GamepadState",function(){return l.b}),r.d(e,"Gamepad",function(){return l.a});var f=r(301);r.d(e,"Boundary",function(){return f.a}),r.d(e,"MathHelper",function(){return f.b}),r.d(e,"Matrix3",function(){return f.c}),r.d(e,"Matrix4",function(){return f.d}),r.d(e,"Ray",function(){return f.e}),r.d(e,"Rectangle",function(){return f.f}),r.d(e,"Vector2",function(){return f.g}),r.d(e,"Vector3",function(){return f.h}),r.d(e,"Vector4",function(){return f.i});var h=r(306);r.d(e,"Shader",function(){return h.c}),r.d(e,"PrimitiveShader",function(){return h.b}),r.d(e,"ShaderManager",function(){return h.d}),r.d(e,"TestShader",function(){return h.e}),r.d(e,"TextShader",function(){return h.f}),r.d(e,"MSDFTextShader",function(){return h.a}),r.d(e,"TextureShader",function(){return h.g});var p=r(309);r.d(e,"Objectify",function(){return p.e}),r.d(e,"Path",function(){return p.f}),r.d(e,"Utils",function(){return p.h}),r.d(e,"TextMetrics",function(){return p.g}),r.d(e,"BMFontParser",function(){return p.b}),r.d(e,"FontLoader",function(){return p.c}),r.d(e,"FontSupportedTypes",function(){return p.d}),r.d(e,"BMFontGenerator",function(){return p.a});var y=r(310);r.d(e,"WebGLContext",function(){return y.b}),r.d(e,"WebGLUtils",function(){return y.c}),r.d(e,"GLU",function(){return y.a});var v=i()("#########!232131232")},function(t,e,r){r(176),r(82),r(182),r(183),t.exports=r(4).Symbol},function(t,e,r){"use strict";var n=r(6),i=r(29),a=r(13),o=r(7),s=r(109),u=r(71).KEY,c=r(36),l=r(72),f=r(44),h=r(54),p=r(5),y=r(73),v=r(74),d=r(177),m=r(113),g=r(15),_=r(30),x=r(70),b=r(53),k=r(57),w=r(181),S=r(81),T=r(14),E=r(56),P=S.f,A=T.f,O=w.f,C=n.Symbol,R=n.JSON,j=R&&R.stringify,D=p("_hidden"),M=p("toPrimitive"),I={}.propertyIsEnumerable,N=l("symbol-registry"),L=l("symbols"),B=l("op-symbols"),F=Object.prototype,W="function"==typeof C,G=n.QObject,U=!G||!G.prototype||!G.prototype.findChild,z=a&&c(function(){return 7!=k(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=P(F,e);n&&delete F[e],A(t,e,r),n&&t!==F&&A(F,e,n)}:A,V=function(t){var e=L[t]=k(C.prototype);return e._k=t,e},X=W&&"symbol"==typeof C.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof C},q=function(t,e,r){return t===F&&q(B,e,r),g(t),e=x(e,!0),g(r),i(L,e)?(r.enumerable?(i(t,D)&&t[D][e]&&(t[D][e]=!1),r=k(r,{enumerable:b(0,!1)})):(i(t,D)||A(t,D,b(1,{})),t[D][e]=!0),z(t,e,r)):A(t,e,r)},H=function(t,e){g(t);for(var r,n=d(e=_(e)),i=0,a=n.length;a>i;)q(t,r=n[i++],e[r]);return t},K=function(t,e){return void 0===e?k(t):H(k(t),e)},Y=function(t){var e=I.call(this,t=x(t,!0));return!(this===F&&i(L,t)&&!i(B,t))&&(!(e||!i(this,t)||!i(L,t)||i(this,D)&&this[D][t])||e)},J=function(t,e){if(t=_(t),e=x(e,!0),t!==F||!i(L,e)||i(B,e)){var r=P(t,e);return!r||!i(L,e)||i(t,D)&&t[D][e]||(r.enumerable=!0),r}},$=function(t){for(var e,r=O(_(t)),n=[],a=0;r.length>a;)i(L,e=r[a++])||e==D||e==u||n.push(e);return n},Z=function(t){for(var e,r=t===F,n=O(r?B:_(t)),a=[],o=0;n.length>o;)!i(L,e=n[o++])||r&&!i(F,e)||a.push(L[e]);return a};W||(C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(r){this===F&&e.call(B,r),i(this,D)&&i(this[D],t)&&(this[D][t]=!1),z(this,t,b(1,r))};return a&&U&&z(F,t,{configurable:!0,set:e}),V(t)},s(C.prototype,"toString",function(){return this._k}),S.f=J,T.f=q,r(115).f=w.f=$,r(80).f=Y,r(112).f=Z,a&&!r(55)&&s(F,"propertyIsEnumerable",Y,!0),y.f=function(t){return V(p(t))}),o(o.G+o.W+o.F*!W,{Symbol:C});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)p(Q[tt++]);for(var et=E(p.store),rt=0;et.length>rt;)v(et[rt++]);o(o.S+o.F*!W,"Symbol",{for:function(t){return i(N,t+="")?N[t]:N[t]=C(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in N)if(N[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),o(o.S+o.F*!W,"Object",{create:K,defineProperty:q,defineProperties:H,getOwnPropertyDescriptor:J,getOwnPropertyNames:$,getOwnPropertySymbols:Z}),R&&o(o.S+o.F*(!W||c(function(){var t=C();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!X(t)){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);return e=n[1],"function"==typeof e&&(r=e),!r&&m(e)||(e=function(t,e){if(r&&(e=r.call(this,t,e)),!X(e))return e}),n[1]=e,j.apply(R,n)}}}),C.prototype[M]||r(24)(C.prototype,M,C.prototype.valueOf),f(C,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},function(t,e,r){var n=r(56),i=r(112),a=r(80);t.exports=function(t){var e=n(t),r=i.f;if(r)for(var o,s=r(t),u=a.f,c=0;s.length>c;)u.call(t,o=s[c++])&&e.push(o);return e}},function(t,e,r){var n=r(30),i=r(76),a=r(179);t.exports=function(t){return function(e,r,o){var s,u=n(e),c=i(u.length),l=a(o,c);if(t&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===r)return t||l||0;return!t&&-1}}},function(t,e,r){var n=r(77),i=Math.max,a=Math.min;t.exports=function(t,e){return t=n(t),t<0?i(t+e,0):a(t,e)}},function(t,e,r){var n=r(14),i=r(15),a=r(56);t.exports=r(13)?Object.defineProperties:function(t,e){i(t);for(var r,o=a(e),s=o.length,u=0;s>u;)n.f(t,r=o[u++],e[r]);return t}},function(t,e,r){var n=r(30),i=r(115).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?s(t):i(n(t))}},function(t,e,r){r(74)("asyncIterator")},function(t,e,r){r(74)("observable")},function(t,e,r){"use strict";var n=r(31);r.d(e,"a",function(){return n.a});var i=r(210);r.d(e,"c",function(){return i.a});var a=r(46);r.d(e,"b",function(){return a.a});var o=r(37);r.d(e,"d",function(){return o.a});var s=r(89);r.d(e,"f",function(){return s.a});var u=r(60);r.d(e,"g",function(){return u.a});var c=r(20);r.d(e,"h",function(){return c.b}),r.d(e,"e",function(){return c.a});var l=r(33);r.d(e,"i",function(){return l.a});var f=r(2);r.d(e,"j",function(){return f.a}),r.d(e,"k",function(){return f.b}),r.d(e,"l",function(){return f.c}),r.d(e,"m",function(){return f.d}),r.d(e,"n",function(){return f.e}),r.d(e,"o",function(){return f.f}),r.d(e,"p",function(){return f.g}),r.d(e,"q",function(){return f.h}),r.d(e,"r",function(){return f.i}),r.d(e,"s",function(){return f.j}),r.d(e,"t",function(){return f.k})},function(t,e,r){t.exports={default:r(186),__esModule:!0}},function(t,e,r){r(187);var n=r(4).Object;t.exports=function(t,e,r){return n.defineProperty(t,e,r)}},function(t,e,r){var n=r(7);n(n.S+n.F*!r(13),"Object",{defineProperty:r(14).f})},function(t,e,r){r(189);var n=r(4).Object;t.exports=function(t,e){return n.create(t,e)}},function(t,e,r){var n=r(7);n(n.S,"Object",{create:r(57)})},function(t,e,r){var n=r(191),i=r(118),a=n(function(t,e,r){return t+(r?" ":"")+i(e)});t.exports=a},function(t,e,r){function n(t){return function(e){return i(o(a(e).replace(s,"")),t,"")}}var i=r(192),a=r(193),o=r(194),s=RegExp("['’]","g");t.exports=n},function(t,e){function r(t,e,r,n){var i=-1,a=null==t?0:t.length;for(n&&a&&(r=t[++i]);++i<a;)r=e(r,t[i],i,t);return r}t.exports=r},function(t,e){function r(t){return t}t.exports=r},function(t,e,r){function n(t,e,r){return t=o(t),e=r?void 0:e,void 0===e?a(t)?s(t):i(t):t.match(e)||[]}var i=r(195),a=r(196),o=r(117),s=r(197);t.exports=n},function(t,e){function r(t){return t.match(n)||[]}var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;t.exports=r},function(t,e){function r(t){return n.test(t)}var n=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;t.exports=r},function(t,e){function r(t){return t.match(v)||[]}var n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="["+n+"]",a="[a-z\\xdf-\\xf6\\xf8-\\xff]",o="[^\\ud800-\\udfff"+n+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",c="[A-Z\\xc0-\\xd6\\xd8-\\xde]",l="(?:"+a+"|"+o+")",f="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",h="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",s,u].join("|")+")[\\ufe0e\\ufe0f]?"+f+")*",p="[\\ufe0e\\ufe0f]?"+f+h,y="(?:"+["[\\u2700-\\u27bf]",s,u].join("|")+")"+p,v=RegExp([c+"?"+a+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[i,c,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[i,c+l,"$"].join("|")+")",c+"?"+l+"+(?:['’](?:d|ll|m|re|s|t|ve))?",c+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",y].join("|"),"g");t.exports=r},function(t,e,r){function n(t){return function(e){e=s(e);var r=a(e)?o(e):void 0,n=r?r[0]:e.charAt(0),u=r?i(r,1).join(""):e.slice(1);return n[t]()+u}}var i=r(199),a=r(119),o=r(201),s=r(117);t.exports=n},function(t,e,r){function n(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:i(t,e,r)}var i=r(200);t.exports=n},function(t,e){function r(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}t.exports=r},function(t,e,r){function n(t){return a(t)?o(t):i(t)}var i=r(202),a=r(119),o=r(203);t.exports=n},function(t,e){function r(t){return t.split("")}t.exports=r},function(t,e){function r(t){return t.match(f)||[]}var n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",u="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",a,o].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",c="[\\ufe0e\\ufe0f]?"+s+u,l="(?:"+["[^\\ud800-\\udfff]"+n+"?",n,a,o,"[\\ud800-\\udfff]"].join("|")+")",f=RegExp(i+"(?="+i+")|"+l+c,"g");t.exports=r},function(t,e,r){function n(t){return"number"==typeof t||a(t)&&i(t)==o}var i=r(120),a=r(121),o="[object Number]";t.exports=n},function(t,e,r){function n(t){return"string"==typeof t||!a(t)&&o(t)&&i(t)==s}var i=r(120),a=r(206),o=r(121),s="[object String]";t.exports=n},function(t,e){var r=Array.isArray;t.exports=r},function(t,e,r){function n(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var s=null==r?0:a(r);return s<0&&(s=o(n+s,0)),i(t,e,s)}var i=r(208),a=r(209),o=Math.max;t.exports=n},function(t,e){function r(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}t.exports=r},function(t,e){function r(t){return t}t.exports=r},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=function(){function t(e){i()(this,t),e=e||{},this.success=e.success,this.data=e.data||{}}return o()(t,[{key:"isSuccessful",value:function(){return this.success}}]),t}();e.a=s},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(212),a=n(i),o=r(124),s=n(o);e.default=function(){function t(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var o,u=(0,s.default)(t);!(n=(o=u.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(i)throw a}}return r}return function(e,r){if(Array.isArray(e))return e;if((0,a.default)(Object(e)))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,r){t.exports={default:r(213),__esModule:!0}},function(t,e,r){r(47),r(48),t.exports=r(218)},function(t,e,r){"use strict";var n=r(215),i=r(122),a=r(38),o=r(30);t.exports=r(83)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,r):"values"==e?i(0,t[r]):i(0,[r,t[r]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e,r){"use strict";var n=r(57),i=r(53),a=r(44),o={};r(24)(o,r(5)("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=n(o,{next:i(1,r)}),a(t,e+" Iterator")}},function(t,e,r){var n=r(77),i=r(75);t.exports=function(t){return function(e,r){var a,o,s=String(i(e)),u=n(r),c=s.length;return u<0||u>=c?t?"":void 0:(a=s.charCodeAt(u),a<55296||a>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):a:t?s.slice(u,u+2):o-56320+(a-55296<<10)+65536)}}},function(t,e,r){var n=r(59),i=r(5)("iterator"),a=r(38);t.exports=r(4).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||a.hasOwnProperty(n(e))}},function(t,e,r){r(47),r(48),t.exports=r(220)},function(t,e,r){var n=r(15),i=r(125);t.exports=r(4).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,r){r(82),r(48),r(47),r(222),r(228),r(229),t.exports=r(4).Promise},function(t,e,r){"use strict";var n,i,a,o,s=r(55),u=r(6),c=r(23),l=r(59),f=r(7),h=r(16),p=r(43),y=r(85),v=r(49),d=r(126),m=r(127).set,g=r(226)(),_=r(86),x=r(128),b=r(129),k=u.TypeError,w=u.process,S=u.Promise,T="process"==l(w),E=function(){},P=i=_.f,A=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[r(5)("species")]=function(t){t(E,E)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof e}catch(t){}}(),O=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},C=function(t,e){if(!t._n){t._n=!0;var r=t._c;g(function(){for(var n=t._v,i=1==t._s,a=0;r.length>a;)!function(e){var r,a,o=i?e.ok:e.fail,s=e.resolve,u=e.reject,c=e.domain;try{o?(i||(2==t._h&&D(t),t._h=1),!0===o?r=n:(c&&c.enter(),r=o(n),c&&c.exit()),r===e.promise?u(k("Promise-chain cycle")):(a=O(r))?a.call(r,s,u):s(r)):u(n)}catch(t){u(t)}}(r[a++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){m.call(u,function(){var e,r,n,i=t._v,a=j(t);if(a&&(e=x(function(){T?w.emit("unhandledRejection",i,t):(r=u.onunhandledrejection)?r({promise:t,reason:i}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",i)}),t._h=T||j(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},j=function(t){if(1==t._h)return!1;for(var e,r=t._a||t._c,n=0;r.length>n;)if(e=r[n++],e.fail||!j(e.promise))return!1;return!0},D=function(t){m.call(u,function(){var e;T?w.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},M=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),C(e,!0))},I=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw k("Promise can't be resolved itself");(e=O(t))?g(function(){var n={_w:r,_d:!1};try{e.call(t,c(I,n,1),c(M,n,1))}catch(t){M.call(n,t)}}):(r._v=t,r._s=1,C(r,!1))}catch(t){M.call({_w:r,_d:!1},t)}}};A||(S=function(t){y(this,S,"Promise","_h"),p(t),n.call(this);try{t(c(I,this,1),c(M,this,1))}catch(t){M.call(this,t)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=r(87)(S.prototype,{then:function(t,e){var r=P(d(this,S));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=T?w.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&C(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new n;this.promise=t,this.resolve=c(I,t,1),this.reject=c(M,t,1)},_.f=P=function(t){return t===S||t===o?new a(t):i(t)}),f(f.G+f.W+f.F*!A,{Promise:S}),r(44)(S,"Promise"),r(130)("Promise"),o=r(4).Promise,f(f.S+f.F*!A,"Promise",{reject:function(t){var e=P(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!A),"Promise",{resolve:function(t){return b(s&&this===o?S:this,t)}}),f(f.S+f.F*!(A&&r(227)(function(t){S.all(t).catch(E)})),"Promise",{all:function(t){var e=this,r=P(e),n=r.resolve,i=r.reject,a=x(function(){var r=[],a=0,o=1;v(t,!1,function(t){var s=a++,u=!1;r.push(void 0),o++,e.resolve(t).then(function(t){u||(u=!0,r[s]=t,--o||n(r))},i)}),--o||n(r)});return a.e&&i(a.v),r.promise},race:function(t){var e=this,r=P(e),n=r.reject,i=x(function(){v(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},function(t,e,r){var n=r(15);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){var a=t.return;throw void 0!==a&&n(a.call(t)),e}}},function(t,e,r){var n=r(38),i=r(5)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||a[i]===t)}},function(t,e){t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},function(t,e,r){var n=r(6),i=r(127).set,a=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,u="process"==r(45)(o);t.exports=function(){var t,e,r,c=function(){var n,i;for(u&&(n=o.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(u)r=function(){o.nextTick(c)};else if(a){var l=!0,f=document.createTextNode("");new a(c).observe(f,{characterData:!0}),r=function(){f.data=l=!l}}else if(s&&s.resolve){var h=s.resolve();r=function(){h.then(c)}}else r=function(){i.call(n,c)};return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}}},function(t,e,r){var n=r(5)("iterator"),i=!1;try{var a=[7][n]();a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var a=[7],o=a[n]();o.next=function(){return{done:r=!0}},a[n]=function(){return o},t(a)}catch(t){}return r}},function(t,e,r){"use strict";var n=r(7),i=r(4),a=r(6),o=r(126),s=r(129);n(n.P+n.R,"Promise",{finally:function(t){var e=o(this,i.Promise||a.Promise),r="function"==typeof t;return this.then(r?function(r){return s(e,t()).then(function(){return r})}:t,r?function(r){return s(e,t()).then(function(){throw r})}:t)}})},function(t,e,r){"use strict";var n=r(7),i=r(86),a=r(128);n(n.S,"Promise",{try:function(t){var e=i.f(this),r=a(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}})},function(t,e){!function(e){"use strict";function r(t,e,r,n){var a=e&&e.prototype instanceof i?e:i,o=Object.create(a.prototype),s=new p(n||[]);return o._invoke=c(t,r,s),o}function n(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function i(){}function a(){}function o(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function e(r,i,a,o){var s=n(t[r],t,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&g.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,a,o)},function(t){e("throw",t,a,o)}):Promise.resolve(c).then(function(t){u.value=t,a(u)},o)}o(s.arg)}function r(t,r){function n(){return new Promise(function(n,i){e(t,r,n,i)})}return i=i?i.then(n,n):n()}var i;this._invoke=r}function c(t,e,r){var i=T;return function(a,o){if(i===P)throw new Error("Generator is already running");if(i===A){if("throw"===a)throw o;return v()}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=l(s,r);if(u){if(u===O)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===T)throw i=A,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=P;var c=n(t,e,r);if("normal"===c.type){if(i=r.done?A:E,c.arg===O)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=A,r.method="throw",r.arg=c.arg)}}}function l(t,e){var r=t.iterator[e.method];if(r===d){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=d,l(t,e),"throw"===e.method))return O;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var i=n(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,O;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=d),e.delegate=null,O):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,O)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function y(t){if(t){var e=t[x];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(g.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=d,e.done=!0,e};return n.next=n}}return{next:v}}function v(){return{value:d,done:!0}}var d,m=Object.prototype,g=m.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},x=_.iterator||"@@iterator",b=_.asyncIterator||"@@asyncIterator",k=_.toStringTag||"@@toStringTag",w="object"==typeof t,S=e.regeneratorRuntime;if(S)return void(w&&(t.exports=S));S=e.regeneratorRuntime=w?t.exports:{},S.wrap=r;var T="suspendedStart",E="suspendedYield",P="executing",A="completed",O={},C={};C[x]=function(){return this};var R=Object.getPrototypeOf,j=R&&R(R(y([])));j&&j!==m&&g.call(j,x)&&(C=j);var D=o.prototype=i.prototype=Object.create(C);a.prototype=D.constructor=o,o.constructor=a,o[k]=a.displayName="GeneratorFunction",S.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===a||"GeneratorFunction"===(e.displayName||e.name))},S.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,o):(t.__proto__=o,k in t||(t[k]="GeneratorFunction")),t.prototype=Object.create(D),t},S.awrap=function(t){return{__await:t}},s(u.prototype),u.prototype[b]=function(){return this},S.AsyncIterator=u,S.async=function(t,e,n,i){var a=new u(r(t,e,n,i));return S.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},s(D),D[k]="Generator",D[x]=function(){return this},D.toString=function(){return"[object Generator]"},S.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},S.values=y,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&g.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=d)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,n){return a.type="throw",a.arg=t,r.next=e,n&&(r.method="next",r.arg=d),!!n}if(this.done)throw t;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var o=g.call(i,"catchLoc"),s=g.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&g.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,O):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),O},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),h(r),O}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;h(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:y(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=d),O}}}(function(){return this}()||Function("return this")())},function(t,e,r){t.exports={default:r(232),__esModule:!0}},function(t,e,r){r(82),r(48),r(47),r(233),r(239),r(242),r(244),t.exports=r(4).Set},function(t,e,r){"use strict";var n=r(234),i=r(132);t.exports=r(235)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(i(this,"Set"),t=0===t?0:t,t)}},n)},function(t,e,r){"use strict";var n=r(14).f,i=r(57),a=r(87),o=r(23),s=r(85),u=r(49),c=r(83),l=r(122),f=r(130),h=r(13),p=r(71).fastKey,y=r(132),v=h?"_s":"size",d=function(t,e){var r,n=p(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,c){var l=t(function(t,n){s(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=n&&u(n,r,t[c],t)});return a(l.prototype,{clear:function(){for(var t=y(this,e),r=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var r=y(this,e),n=d(r,t);if(n){var i=n.n,a=n.p;delete r._i[n.i],n.r=!0,a&&(a.n=i),i&&(i.p=a),r._f==n&&(r._f=i),r._l==n&&(r._l=a),r[v]--}return!!n},forEach:function(t){y(this,e);for(var r,n=o(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!d(y(this,e),t)}}),h&&n(l.prototype,"size",{get:function(){return y(this,e)[v]}}),l},def:function(t,e,r){var n,i,a=d(t,e);return a?a.v=r:(t._l=a={i:i=p(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=a),n&&(n.n=a),t[v]++,"F"!==i&&(t._i[i]=a)),t},getEntry:d,setStrong:function(t,e,r){c(t,e,function(t,r){this._t=y(t,e),this._k=r,this._l=void 0},function(){for(var t=this,e=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==e?l(0,r.k):"values"==e?l(0,r.v):l(0,[r.k,r.v]):(t._t=void 0,l(1))},r?"entries":"values",!r,!0),f(e)}}},function(t,e,r){"use strict";var n=r(6),i=r(7),a=r(71),o=r(36),s=r(24),u=r(87),c=r(49),l=r(85),f=r(16),h=r(44),p=r(14).f,y=r(236)(0),v=r(13);t.exports=function(t,e,r,d,m,g){var _=n[t],x=_,b=m?"set":"add",k=x&&x.prototype,w={};return v&&"function"==typeof x&&(g||k.forEach&&!o(function(){(new x).entries().next()}))?(x=e(function(e,r){l(e,x,t,"_c"),e._c=new _,void 0!=r&&c(r,m,e[b],e)}),y("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in k&&(!g||"clear"!=t)&&s(x.prototype,t,function(r,n){if(l(this,x,t),!e&&g&&!f(r))return"get"==t&&void 0;var i=this._c[t](0===r?0:r,n);return e?this:i})}),g||p(x.prototype,"size",{get:function(){return this._c.size}})):(x=d.getConstructor(e,t,m,b),u(x.prototype,r),a.NEED=!0),h(x,t),w[t]=x,i(i.G+i.W+i.F,w),g||d.setStrong(x,t,m),x}},function(t,e,r){var n=r(23),i=r(111),a=r(58),o=r(76),s=r(237);t.exports=function(t,e){var r=1==t,u=2==t,c=3==t,l=4==t,f=6==t,h=5==t||f,p=e||s;return function(e,s,y){for(var v,d,m=a(e),g=i(m),_=n(s,y,3),x=o(g.length),b=0,k=r?p(e,x):u?p(e,0):void 0;x>b;b++)if((h||b in g)&&(v=g[b],d=_(v,b,m),t))if(r)k[b]=d;else if(d)switch(t){case 3:return!0;case 5:return v;case 6:return b;case 2:k.push(v)}else if(l)return!1;return f?-1:c||l?l:k}}},function(t,e,r){var n=r(238);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,r){var n=r(16),i=r(113),a=r(5)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},function(t,e,r){var n=r(7);n(n.P+n.R,"Set",{toJSON:r(240)("Set")})},function(t,e,r){var n=r(59),i=r(241);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,r){var n=r(49);t.exports=function(t,e){var r=[];return n(t,!1,r.push,r,e),r}},function(t,e,r){r(243)("Set")},function(t,e,r){"use strict";var n=r(7);t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,r){r(245)("Set")},function(t,e,r){"use strict";var n=r(7),i=r(43),a=r(23),o=r(49);t.exports=function(t){n(n.S,t,{from:function(t){var e,r,n,s,u=arguments[1];return i(this),e=void 0!==u,e&&i(u),void 0==t?new this:(r=[],e?(n=0,s=a(u,arguments[2],2),o(t,!1,function(t){r.push(s(t,n++))})):o(t,!1,r.push,r),new this(r))}})}},function(t,e,r){t.exports=r(247)},function(t,e,r){"use strict";function n(t){var e=new o(t),r=a(o.prototype.request,e);return i.extend(r,o.prototype,e),i.extend(r,e),r}var i=r(8),a=r(133),o=r(249),s=r(88),u=n(s);u.Axios=o,u.create=function(t){return n(i.merge(s,t))},u.Cancel=r(138),u.CancelToken=r(263),u.isCancel=r(137),u.all=function(t){return Promise.all(t)},u.spread=r(264),t.exports=u,t.exports.default=u},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function n(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(r(t)||n(t)||!!t._isBuffer)}},function(t,e,r){"use strict";function n(t){this.defaults=t,this.interceptors={request:new o,response:new o}}var i=r(88),a=r(8),o=r(258),s=r(259);n.prototype.request=function(t){"string"==typeof t&&(t=a.merge({url:arguments[0]},arguments[1])),t=a.merge(i,this.defaults,{method:"get"},t),t.method=t.method.toLowerCase();var e=[s,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},a.forEach(["delete","get","head","options"],function(t){n.prototype[t]=function(e,r){return this.request(a.merge(r||{},{method:t,url:e}))}}),a.forEach(["post","put","patch"],function(t){n.prototype[t]=function(e,r,n){return this.request(a.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=n},function(t,e,r){"use strict";var n=r(8);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},function(t,e,r){"use strict";var n=r(136);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t}},function(t,e,r){"use strict";function n(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=r(8);t.exports=function(t,e,r){if(!e)return t;var a;if(r)a=r(e);else if(i.isURLSearchParams(e))a=e.toString();else{var o=[];i.forEach(e,function(t,e){null!==t&&void 0!==t&&(i.isArray(t)&&(e+="[]"),i.isArray(t)||(t=[t]),i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),o.push(n(e)+"="+n(t))}))}),a=o.join("&")}return a&&(t+=(-1===t.indexOf("?")?"?":"&")+a),t}},function(t,e,r){"use strict";var n=r(8),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,a,o={};return t?(n.forEach(t.split("\n"),function(t){if(a=t.indexOf(":"),e=n.trim(t.substr(0,a)).toLowerCase(),r=n.trim(t.substr(a+1)),e){if(o[e]&&i.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([r]):o[e]?o[e]+", "+r:r}}),o):o}},function(t,e,r){"use strict";var n=r(8);t.exports=n.isStandardBrowserEnv()?function(){function t(t){var e=t;return r&&(i.setAttribute("href",e),e=i.href),i.setAttribute("href",e),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var e,r=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return e=t(window.location.href),function(r){var i=n.isString(r)?t(r):r;return i.protocol===e.protocol&&i.host===e.host}}():function(){return function(){return!0}}()},function(t,e,r){"use strict";function n(){this.message="String contains an invalid character"}function i(t){for(var e,r,i=String(t),o="",s=0,u=a;i.charAt(0|s)||(u="=",s%1);o+=u.charAt(63&e>>8-s%1*8)){if((r=i.charCodeAt(s+=.75))>255)throw new n;e=e<<8|r}return o}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",t.exports=i},function(t,e,r){"use strict";var n=r(8);t.exports=n.isStandardBrowserEnv()?function(){return{write:function(t,e,r,i,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,e,r){"use strict";function n(){this.handlers=[]}var i=r(8);n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=n},function(t,e,r){"use strict";function n(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var i=r(8),a=r(260),o=r(137),s=r(88),u=r(261),c=r(262);t.exports=function(t){return n(t),t.baseURL&&!u(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=a(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return n(t),e.data=a(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(n(t),e&&e.response&&(e.response.data=a(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,r){"use strict";var n=r(8);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new i(t),e(r.reason))})}var i=r(138);n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t;return{token:new n(function(e){t=e}),cancel:t}},t.exports=n},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var n=r(267);r.d(e,"a",function(){return n.a})},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(51),u=r.n(s),c=r(17),l=r(2),f=r(25),h=function(){function t(e){i()(this,t),e=e||{},this.gameObject=null,this._isStatic=e.static||!1,this._mass=e.mass||null,this._friction=e.friction||null,this._body=null}return o()(t,[{key:"setMass",value:function(t){this._mass=t,u.a.Body.setMass(this._body,this._mass)}},{key:"getMass",value:function(){return this.mass}},{key:"setGameObject",value:function(t){this._sync()}},{key:"onGameObjectDetach",value:function(){this.gameObject.transform.clearPositionGetter(),this.gameObject.transform.clearScaleGetter(),this.gameObject.transform.clearRotationGetter()}},{key:"onGameObjectPositionUpdated",value:function(t){Object(l.i)(this._body)&&u.a.Body.setPosition(this._body,t)}},{key:"onGameObjectRotationUpdated",value:function(t){Object(l.i)(this._body)&&u.a.Body.setAngle(this._body,t)}},{key:"onGameObjectScaleUpdated",value:function(t){Object(l.i)(this._body)&&u.a.Body.scale(this._body,t.x,t.y)}},{key:"unload",value:function(){}},{key:"_sync",value:function(){var t=this;if(Object(l.i)(this.gameObject)){if(!Object(l.i)(this._body)){var e=this.gameObject.transform.getPosition(),r=1,n=1;f.a.isSprite(this.gameObject)&&(r=this.gameObject.getTexture().getWidth(),n=this.gameObject.getTexture().getHeight()),this._body=u.a.Bodies.rectangle(e.x,e.y,r,n,{isStatic:this._isStatic}),u.a.World.add(c.a.activeScene.getPhysicsWorld(),[this._body]);var i=this.gameObject.transform.getScale();u.a.Body.scale(this._body,i.x,i.y),this.gameObject.transform.overridePositionGetter(function(){return{x:t._body.position.x,y:t._body.position.y}}),this.gameObject.transform.overrideRotationGetter(function(){return t._body.angle})}Object(l.i)(this._mass)&&u.a.Body.setMass(this._body,this._mass),Object(l.i)(this._friction)&&(this._body.friction=this._friction)}}}]),t}();e.a=h},function(t,e,r){r(269),t.exports=r(4).Object.keys},function(t,e,r){var n=r(58),i=r(56);r(91)("keys",function(){return function(t){return i(n(t))}})},function(t,e,r){t.exports={default:r(271),__esModule:!0}},function(t,e,r){var n=r(4),i=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,r){r(273),t.exports=r(4).Object.getPrototypeOf},function(t,e,r){var n=r(58),i=r(123);r(91)("getPrototypeOf",function(){return function(t){return i(n(t))}})},function(t,e,r){t.exports={default:r(275),__esModule:!0}},function(t,e,r){r(48),r(47),t.exports=r(73).f("iterator")},function(t,e,r){t.exports={default:r(277),__esModule:!0}},function(t,e,r){r(278),t.exports=r(4).Object.setPrototypeOf},function(t,e,r){var n=r(7);n(n.S,"Object",{setPrototypeOf:r(279).set})},function(t,e,r){var n=r(16),i=r(15),a=function(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=r(23)(Function.call,r(81).f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return a(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:a}},function(t,e,r){t.exports={default:r(281),__esModule:!0}},function(t,e,r){r(282);var n=r(4).Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}},function(t,e,r){var n=r(30),i=r(81).f;r(91)("getOwnPropertyDescriptor",function(){return function(t,e){return i(n(t),e)}})},function(t,e,r){"use strict";var n=r(284);r.d(e,"a",function(){return n.a});var i=r(285);r.d(e,"b",function(){return i.a});var a=r(286);r.d(e,"c",function(){return a.a});var o=r(287);r.d(e,"d",function(){return o.a})},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=function t(e){i()(this,t)};e.a=a},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=function(){function t(e){i()(this,t),e=e||{},this.name=e.name||"New Project",this.settings=e.settings||{},this.content=e.content||{scripts:[]},this.ensureContentStructure()}return o()(t,[{key:"ensureContentStructure",value:function(){this.content=this.content||{},this.content.hasOwnProperty("scripts")||(this.content.scripts=[])}}],[{key:"restore",value:function(e){return new t(e)}}]),t}();e.a=s},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=function(){function t(e){i()(this,t),e=e||{},this.sourcePath=e.sourcePath||"",this.mapping=[]}return o()(t,[{key:"objectify",value:function(){return{sourcePath:this.sourcePath}}},{key:"getType",value:function(){return"TextureAtlas"}}],[{key:"restore",value:function(e){return new t({sourcePath:e.sourcePath})}}]),t}();e.a=s},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=function(){function t(e){i()(this,t),e=e||{},this.activeLayout=e.activeLayout||{}}return o()(t,null,[{key:"restore",value:function(e){return new t(e)}}]),t}();e.a=s},function(t,e,r){"use strict";r.d(e,"t",function(){return k}),r.d(e,"u",function(){return w});var n=r(146);r.d(e,"a",function(){return n.a});var i=r(26);r.d(e,"b",function(){return i.a});var a=r(98);r.d(e,"d",function(){return a.a});var o=r(139);r.d(e,"e",function(){return o.a});var s=r(17);r.d(e,"f",function(){return s.a});var u=r(94);r.d(e,"g",function(){return u.a});var c=r(145);r.d(e,"h",function(){return c.a});var l=r(155);r.d(e,"i",function(){return l.a});var f=r(293);r.d(e,"j",function(){return f.a});var h=r(294);r.d(e,"k",function(){return h.a});var p=r(295);r.d(e,"l",function(){return p.a});var y=r(150);r.d(e,"m",function(){return y.a});var v=r(147);r.d(e,"n",function(){return v.a});var d=r(100);r.d(e,"o",function(){return d.a});var m=r(157);r.d(e,"c",function(){return m.a});var g=r(296);r.d(e,"p",function(){return g.a});var _=r(62);r.d(e,"q",function(){return _.a});var x=r(95);r.d(e,"r",function(){return x.a});var b=r(153);r.d(e,"s",function(){return b.a});var k=h.a.addScript.bind(h.a),w=h.a.assign.bind(h.a)},function(t,e){function r(t,e){if(!(t=t.replace(/\t+/g," ").trim()))return null;var r=t.indexOf(" ");if(-1===r)throw new Error("no named row at line "+e);var i=t.substring(0,r);t=t.substring(r+1),t=t.replace(/letter=[\'\"]\S+[\'\"]/gi,""),t=t.split("="),t=t.map(function(t){return t.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var a=[],o=0;o<t.length;o++){var s=t[o];0===o?a.push({key:s[0],data:""}):o===t.length-1?a[a.length-1].data=n(s[0]):(a[a.length-1].data=n(s[0]),a.push({key:s[1],data:""}))}var u={key:i,data:{}};return a.forEach(function(t){u.data[t.key]=t.data}),u}function n(t){return t&&0!==t.length?0===t.indexOf('"')||0===t.indexOf("'")?t.substring(1,t.length-1):-1!==t.indexOf(",")?i(t):parseInt(t,10):""}function i(t){return t.split(",").map(function(t){return parseInt(t,10)})}t.exports=function(t){if(!t)throw new Error("no data provided");t=t.toString().trim();var e={pages:[],chars:[],kernings:[]},n=t.split(/\r\n?|\n/g);if(0===n.length)throw new Error("no data in BMFont file");for(var i=0;i<n.length;i++){var a=r(n[i],i);if(a)if("page"===a.key){if("number"!=typeof a.data.id)throw new Error("malformed file at line "+i+" -- needs page id=N");if("string"!=typeof a.data.file)throw new Error("malformed file at line "+i+' -- needs page file="path"');e.pages[a.data.id]=a.data.file}else"chars"===a.key||"kernings"===a.key||("char"===a.key?e.chars.push(a.data):"kerning"===a.key?e.kernings.push(a.data):e[a.key]=a.data)}return e}},function(t,e,r){function n(t){return i(t).reduce(function(t,e){return t[a(e.nodeName)]=e.nodeValue,t},{})}function i(t){for(var e=[],r=0;r<t.attributes.length;r++)e.push(t.attributes[r]);return e}function a(t){return u[t.toLowerCase()]||t}var o=r(291),s=r(292),u={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};t.exports=function(t){t=t.toString();var e=s(t),r={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(t){var i=e.getElementsByTagName(t)[0];i&&(r[t]=o(n(i)))});var i=e.getElementsByTagName("pages")[0];if(!i)throw new Error("malformed file -- no <pages> element");for(var a=i.getElementsByTagName("page"),u=0;u<a.length;u++){var c=a[u],l=parseInt(c.getAttribute("id"),10),f=c.getAttribute("file");if(isNaN(l))throw new Error('malformed file -- page "id" attribute is NaN');if(!f)throw new Error('malformed file -- needs page "file" attribute');r.pages[parseInt(l,10)]=f}return["chars","kernings"].forEach(function(t){var i=e.getElementsByTagName(t)[0];if(i)for(var a=t.substring(0,t.length-1),s=i.getElementsByTagName(a),u=0;u<s.length;u++){var c=s[u];r[t].push(o(n(c)))}}),r}},function(t,e){function r(t){return t.split(",").map(function(t){return parseInt(t,10)})}t.exports=function(t){"chasrset"in t&&(t.charset=t.chasrset,delete t.chasrset);for(var e in t)"face"!==e&&"charset"!==e&&(t[e]="padding"===e||"spacing"===e?r(t[e]):parseInt(t[e],10));return t}},function(t,e){t.exports=function(){return void 0!==self.DOMParser?function(t){return(new self.DOMParser).parseFromString(t,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(t){var e=new self.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e}:function(t){var e=document.createElement("div");return e.innerHTML=t,e}}()},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=function(){function t(){i()(this,t)}return o()(t,[{key:"update",value:function(t){}},{key:"render",value:function(t,e){}}]),t}();e.a=s},function(t,e,r){"use strict";r.d(e,"a",function(){return h});var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(19),u=r.n(s),c=r(20),l=u()("scriptsSingleton"),f=function(){function t(e){if(i()(this,t),l!==e)throw new Error("Cannot instantiate directly.");this._store={},this._logger=new c.b("ScriptEngine")}return o()(t,[{key:"clear",value:function(){this._store={}}},{key:"addScript",value:function(t,e){this._store[t]=e}},{key:"assign",value:function(t,e){var r=this.generateComponent(t);return null===r?void this._logger.warn("Could not generate script component: "+t):(e.addComponent(r),r)}},{key:"generateComponent",value:function(t){return this._store[t]?new this._store[t]:(this._logger.warn("No script is available under the name: "+t),null)}}],[{key:"instance",get:function(){return this[l]||(this[l]=new t(l)),this[l]}}]),t}(),h=f.instance},function(t,e,r){"use strict";var n=r(9),i=r.n(n),a=r(10),o=r.n(a),s=r(0),u=r.n(s),c=r(1),l=r.n(c),f=r(37),h=r(2),p=function(){function t(e){if(u()(this,t),!Object(h.i)(e))throw new Error("Cannot create Sound without a valid audio source");this._source=e}return l()(t,[{key:"setAudioSource",value:function(t){this._source=t}},{key:"play",value:function(){this._source.play()}},{key:"pause",value:function(){this._source.pause()}},{key:"stop",value:function(){this._source.pause(),this._source.currentTime=0}},{key:"setLoop",value:function(t){this._source.loop=t}},{key:"setVolume",value:function(t){this._source.volume=t}}],[{key:"fromPath",value:function(){function e(t){return r.apply(this,arguments)}var r=o()(i.a.mark(function e(r){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.loadAudio(r);case 2:if(!1!==(n=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",new t(n));case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}();e.a=p},function(t,e,r){"use strict";var n=r(9),i=r.n(n),a=r(10),o=r.n(a),s=r(27),u=r.n(s),c=r(0),l=r.n(c),f=r(34),h=r.n(f),p=r(151),y=r.n(p),v=r(1),d=r.n(v),m=r(35),g=r.n(m),_=r(18),x=r(61),b=r(50),k=r(158),w=r(94),S=r(26),T=r(100),E=r(157),P=r(17),A=r(62),O=r(31),C=r(2),R=r(159),j=r(165),D=r(98),M=r(32),I=r.n(M);O.a.inherit("text","gameobject"),O.a.addRule("text","_fontPathAsync",{displayName:"Font Src",editor:"filepath"}),O.a.addRule("text","_color",{displayName:"Color"}),O.a.addRule("text","_text",{displayName:"Text"}),O.a.addRule("text","_texture",{visible:!1}),O.a.addRule("text","_fontStyle",{ownContainer:!0}),O.a.addRule("text","_stroke",{ownContainer:!0,available:function(){return!!this.getStrokeEnabled()}}),O.a.addRule("text","_dropShadow",{ownContainer:!0,available:function(){return!!this.getDropShadowEnabled()}});var N=function(t){function e(t){l()(this,e),t=t||{},t.name=t.name||"Text";var r=h()(this,(e.__proto__||u()(e)).call(this,t));return r._fontPathAsync="",r._wordWrap=t.wordWrap||!0,r._characterWrap=t.characterWrap||!0,r._alignType=t.alignType||e.AlignType.LEFT,r._color=t.color||S.a.fromRGBA(164,56,32,1),r._text=t.text||"",r._gamma=t.gamma||2,r._strokeEnabled=!0,r._stroke=new T.a(S.a.fromRGBA(255,0,0,1),0),r._dropShadowEnabled=!0,r._dropShadow=new E.a,r._debug=!1,r._gl=P.a.renderContext.getContext(),r._vertexBuffer=null,r._textureBuffer=null,r._vertexIndicesBuffer=null,r._textShader=t.shader,r._textureSrc="",r._texture=null,r._textureWidth=0,r._textureHeight=0,r.setTexture(t.texture||null),r}return g()(e,t),d()(e,null,[{key:"AlignType",get:function(){return I.a.return(I.a.object()).assert({LEFT:"LEFT",CENTER:"CENTER",RIGHT:"RIGHT"})}}]),d()(e,[{key:"getShader",value:function(){return this._textShader}},{key:"render",value:function(t,r){if(this.enabled&&null!==this.getTexture()){var n=this._gl;if(P.a.activeGame.getShaderManager().useShader(this._textShader),n.enableVertexAttribArray(this._textShader.attributes.aPos),n.enableVertexAttribArray(this._textShader.attributes.aTexCoord),null!==this._drawText()){var i=P.a.activeGame.getActiveCamera().getMatrix();n.uniformMatrix4fv(this._textShader.uniforms.uMatrix._location,!1,i),n.uniformMatrix4fv(this._textShader.uniforms.uTransform._location,!1,this.getMatrix()),n.activeTexture(n.TEXTURE0),this._texture.bind(),n.uniform1i(this._textShader.uniforms.uTexture._location,0),n.uniform1f(this._textShader.uniforms.uDebug._location,this._debug?1:0),n.uniform1f(this._textShader.uniforms.uOutline._location,this._strokeEnabled?1:0),n.uniform1f(this._textShader.uniforms.uDropShadow._location,this._dropShadowEnabled?1:0),n.bindBuffer(n.ARRAY_BUFFER,this._vertexBuffer),n.vertexAttribPointer(this._textShader.attributes.aPos,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this._textureBuffer),n.vertexAttribPointer(this._textShader.attributes.aTexCoord,2,n.FLOAT,!1,0,0);var a=this.getStroke().getColor();n.uniform4fv(this._textShader.uniforms.uOutlineColor._location,[a.r,a.g,a.b,a.a]),n.uniform1f(this._textShader.uniforms.uOutlineDistance._location,this.getNormalizedStrokeSize());var o=this.getDropShadow().getStroke().getColor();n.uniform4fv(this._textShader.uniforms.uDropShadowColor._location,[o.r,o.g,o.b,o.a]),n.uniform1f(this._textShader.uniforms.uDropShadowSmoothing._location,this.getNormalizedDropShadowSmoothing());var s=this.getNormalizedDropShadowOffset();n.uniform2fv(this._textShader.uniforms.uDropShadowOffset._location,[s.x,s.y]);var c=this.getColor();n.uniform4fv(this._textShader.uniforms.uColor._location,[c.r,c.g,c.b,c.a]),n.uniform1f(this._textShader.uniforms.uGamma._location,.25/(10*this.getFontStyle().getScale())),n.drawElements(n.TRIANGLES,this._vertexIndicesBuffer.numItems,n.UNSIGNED_SHORT,0),y()(e.prototype.__proto__||u()(e.prototype),"render",this).call(this,t,r)}}}},{key:"unload",value:function(){Object(C.i)(this._vertexBuffer)&&this._gl.deleteBuffer(this._vertexBuffer),Object(C.i)(this._textureBuffer)&&this._gl.deleteBuffer(this._textureBuffer),Object(C.i)(this._vertexIndicesBuffer)&&this._gl.deleteBuffer(this._vertexIndicesBuffer),Object(C.i)(this._textShader)&&this._textShader.unload()}},{key:"getMatrix",value:function(){var t=void 0,e=void 0;return t=this.transform.getPosition().x,e=this.transform.getPosition().y,this._transformMatrix.identity(),this._transformMatrix.translate([t,e,0]),this._transformMatrix.asArray()}},{key:"getType",value:function(){return"Text"}},{key:"getTexture",value:function(){return this._texture}},{key:"setTextureSrc",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(i.a.mark(function t(e){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.a.fromPath(e);case 2:r=t.sent,this.setTexture(r);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"setFontPathAsync",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(i.a.mark(function t(e){var r,n,a,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=I.a.string(),n=I.a.return(I.a.union(I.a.boolean(),I.a.ref("Promise",I.a.boolean()))),I.a.param("fontPath",r).assert(e),t.t0=I.a.nullable(I.a.ref(D.a)),t.next=6,R.a.loadFontAsync(e);case 6:if(t.t1=t.sent,null!=(a=t.t0.assert.call(t.t0,t.t1))&&null!=a.getFontImage()){t.next=10;break}return t.abrupt("return",n.assert(!1));case 10:return o=new A.a(a.getFontImage()),this.setTexture(o),this._fontStyle=a,this._fontPathAsync=e,t.abrupt("return",n.assert(!0));case 15:case"end":return t.stop()}},t,this)}));return t}()},{key:"getFontPathAsync",value:function(){return I.a.return(I.a.string()).assert(this._fontPathAsync)}},{key:"setTexture",value:function(t){if(null==t||!t.isReady())return this._textureSrc="",this._texture=null,this._textureWidth=0,void(this._textureHeight=0);this._setTextureParameters(),this._textShader=this._textShader||new j.a,this._textureSrc=t.getTextureSrc(),this._texture=t,this._textureWidth=this._texture.getWidth(),this._textureHeight=this._texture.getHeight(),this._vertexBuffer=this._gl.createBuffer(),this._textureBuffer=this._gl.createBuffer(),this._vertexIndicesBuffer=this._gl.createBuffer(),this._gl.uniform2f(this._textShader.uniforms.uTexSize._location,this._textureWidth,this._textureHeight)}},{key:"setColor",value:function(t){this._color=t}},{key:"getColor",value:function(){return this._color}},{key:"setStroke",value:function(t){this._stroke=t}},{key:"getStroke",value:function(){return this._stroke}},{key:"getDropShadow",value:function(){return this._dropShadow}},{key:"setDropShadow",value:function(t){this._dropShadow=t}},{key:"setText",value:function(t){this._text=t}},{key:"getText",value:function(){return this._text}},{key:"getFontStyle",value:function(){return this._fontStyle}},{key:"setFontStyle",value:function(t){this._fontStyle=t}},{key:"getNormalizedStrokeSize",value:function(){var t=x.a.normalize(this.getStroke().getSize(),0,this.getStroke().getMaxSize(),0,.5);return t=.5-t}},{key:"getNormalizedDropShadowSmoothing",value:function(){var t=this.getDropShadow().getStroke();return x.a.normalize(t.getSize(),0,t.getMaxSize(),0,.5)}},{key:"getNormalizedDropShadowOffset",value:function(){var t=this.getDropShadow().getOffset(),e=this.getDropShadow().getRawMaxOffset(),r=x.a.normalize(t.x,-1*e.x,e.x,-1*this.maxDropShadowOffsetX,this.maxDropShadowOffsetX),n=x.a.normalize(t.y,-1*e.y,e.y,-1*this.maxDropShadowOffsetY,this.maxDropShadowOffsetY);return new _.a(r,n)}},{key:"setFontSize",value:function(t){this.getFontStyle().setFontSize(t)}},{key:"getFontSize",value:function(){return this.getFontStyle().getFontSize()}},{key:"getLetterSpacing",value:function(){return this.getFontStyle().getLetterSpacing()}},{key:"setLetterSpacing",value:function(t){this.getFontStyle().setLetterSpacing(t)}},{key:"setGamma",value:function(t){this._gamma=t}},{key:"getGamma",value:function(){return this._gamma}},{key:"setDebug",value:function(t){this._debug=!!t}},{key:"getDebug",value:function(){return this._debug}},{key:"setDropShadowEnabled",value:function(t){this._dropShadowEnabled=!!t}},{key:"getDropShadowEnabled",value:function(){return this._dropShadowEnabled}},{key:"setStrokeEnabled",value:function(t){this._strokeEnabled=!!t}},{key:"getStrokeEnabled",value:function(){return this._strokeEnabled}},{key:"setWordWrap",value:function(t){this._wordWrap=t}},{key:"getWordWrap",value:function(){return this._wordWrap}},{key:"setCharacterWrap",value:function(t){this._characterWrap=t}},{key:"getCharacterWrap",value:function(){return this._characterWrap}},{key:"setAlign",value:function(t){this._alignType=t}},{key:"getAlign",value:function(){return this._alignType}},{key:"getTextureSrc",value:function(){return this._textureSrc}},{key:"objectify",value:function(){var t=y()(e.prototype.__proto__||u()(e.prototype),"objectify",this).call(this);return b.a.extend(t,{fontPath:this.getFontPathAsync(),wordWrap:this.getWordWrap(),characterWrap:this.getCharacterWrap(),alignType:this.getAlign(),color:this.getColor().objectify(),text:this.getText(),gamma:this.getGamma(),strokeEnabled:this.getStrokeEnabled(),stroke:this.getStroke().objectify(),dropShadowEnabled:this.getDropShadowEnabled(),dropShadow:this.getDropShadow().objectify(),debug:this.getDebug()})}},{key:"_setTextureParameters",value:function(){var t=this._gl;t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}},{key:"_drawText",value:function(){var t=this.getFontStyle();if(!t)return null;var e=t.getFontDescription();if(!e||!e.common||!e.common.lineHeight)return null;var r=e.common.lineHeight||this.getFontSize(),n=t.getScale();if(!n)return null;var i=k.a.measureText(t,this.getText(),1500,this.getWordWrap(),this.getCharacterWrap());this._drawLines(i,n,r)}},{key:"_alignLine",value:function(t){var r=void 0;switch(this.getAlign()){case e.AlignType.LEFT:r=this.transform.getPosition().x;break;case e.AlignType.CENTER:r=this.transform.getPosition().x+750-t/2;break;case e.AlignType.RIGHT:r=this.transform.getPosition().x+1500-t;break;default:r=0}return r}},{key:"_drawLines",value:function(t,e,r){if(t&&e&&!(e<=0)&&r&&0!==r){for(var n=this._gl,i=[],a=[],o=[],s={x:0,y:this.transform.getPosition().y},u=0;u<t.length;u++){s.x=this._alignLine(t[u].width);var c=t[u].chars;this._prepareLineToBeDrawn(c,e,s,i,a,o),s.y+=r*e}n.bindBuffer(n.ARRAY_BUFFER,this._vertexBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(i),n.STATIC_DRAW),this._vertexBuffer.numItems=i.length/2,n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this._vertexIndicesBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(o),n.STATIC_DRAW),this._vertexIndicesBuffer.numItems=o.length,n.bindBuffer(n.ARRAY_BUFFER,this._textureBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(a),n.STATIC_DRAW),this._textureBuffer.numItems=a.length/2}}},{key:"_prepareLineToBeDrawn",value:function(t,e,r,n,i,a){for(var o=0,s=0;s<t.length;s++){var u=t[s];o=this._createGlyph(u,e,r,o,n,i,a)}}},{key:"_createGlyph",value:function(t,e,r,n,i,a,o){var s=this.getFontStyle();if(!s)return 0;var u=s.getFontDescription();if(!(u&&u.chars&&t&&e&&!(e<=0)&&r&&null!=n&&i&&a&&o))return 0;var c=s.findCharID(t);if(null===c)return 0;var l=u.chars[c],f=l.width,h=l.height,p=l.xoffset,y=l.yoffset,v=l.xadvance,d=l.x,m=l.y,g=l.id,_=0;if(f>0&&h>0){n&&(_=s.getKerning(n,g));var x=o.length/6*4;o.push(0+x,1+x,2+x,1+x,2+x,3+x),i.push(r.x+(p+_)*e,r.y+y*e,r.x+(p+_+f)*e,r.y+y*e,r.x+(p+_)*e,r.y+(h+y)*e,r.x+(p+_+f)*e,r.y+(h+y)*e),a.push(d,m,d+f,m,d,m+h,d+f,m+h)}return r.x=r.x+s.getLetterSpacing()+(v+_)*e,g}},{key:"maxDropShadowOffsetX",get:function(){return 0!==this._textureWidth&&null!=this._fontStyle?this._fontStyle.getSpread()/this._textureWidth:0}},{key:"maxDropShadowOffsetY",get:function(){return 0!==this._textureHeight&&null!=this._fontStyle?this._fontStyle.getSpread()/this._textureHeight:0}}],[{key:"restore",value:function(){function t(t){return r.apply(this,arguments)}var r=o()(i.a.mark(function t(r){var n,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=y()(e.__proto__||u()(e),"restore",this).call(this,r),a=new e,t.next=4,a.setFontPathAsync(r.fontPath);case 4:return a.setWordWrap(r.wordWrap),a.setCharacterWrap(r.characterWrap),a.setAlign(r.alignType),a.setColor(S.a.restore(r.color)),a.setText(r.text),a.setGamma(r.gamma),a.setStrokeEnabled(r.strokeEnabled),a.setStroke(T.a.restore(r.stroke)),a.setDropShadowEnabled(r.dropShadowEnabled),a.setDropShadow(E.a.restore(r.dropShadow)),a.setDebug(r.debug),t.abrupt("return",b.a.extend(a,n));case 16:case"end":return t.stop()}},t,this)}));return t}()}]),e}(w.a);e.a=N},function(t,e,r){"use strict";var n=r(298);r.d(e,"a",function(){return n.a})},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(26),u=r(155),c=r(96),l=function(){function t(e){if(i()(this,t),e=e||{},!e.game)throw new Error("Cannot create debug extension without game parameter");this.enabled=!0,this._game=e.game||null,this._gridSize=e.gridSize||32,this._gridColor=e.gridColor||s.a.Red,this._originLines=!0,this._zoomMultiplier=2,this._primitiveBatch=new u.a(e.game),this._useDynamicColor=e.dynamicColor||!0}return o()(t,[{key:"setOriginLines",value:function(t){this._originLines=t}},{key:"setGridSize",value:function(t){this._gridSize=t}},{key:"getGridSize",value:function(){return this._gridSize}},{key:"setGridColor",value:function(t){this._gridColor=t}},{key:"render",value:function(){if(this.enabled){this._primitiveBatch.begin();for(var t=this._game.getActiveCamera().zoom,e=Math.floor(t),r=this._gridSize,n=0;n<e-1;n++)n%this._zoomMultiplier==0&&(r*=2);var i=2*r,a=this._game.getVirtualResolution(),o=this._game.getActiveCamera().x-this._game.getActiveCamera().x%r,s=this._game.getActiveCamera().y-this._game.getActiveCamera().y%r,u=t*a.width*2,l=t*a.height*2,f=Math.floor((a.width+u)/r+2),h=Math.floor((a.height+l)/r+2),p=Math.floor(f/2)%2==0,y=Math.floor(h/2)%2==0,v=-(a.width+u)/2,d=(a.width+u)/2,m=-(a.height+l)/2,g=(a.height+l)/2,_=this._gridColor.clone(),x=null;t>1&&this._useDynamicColor&&(_.a=1-t%this._zoomMultiplier/this._zoomMultiplier);for(var b=0;b<f;b++)x=this._gridColor,this._useDynamicColor&&(b*r+o+(p?r:0))%i&&(x=_),this._primitiveBatch.storeLine({x:b*r+v-v%r+o,y:g+r+s},{x:b*r+v-v%r+o,y:m-r+s},x,x);for(var k=0;k<h;k++)x=this._gridColor,this._useDynamicColor&&(k*r+s+(y?r:0))%i&&(x=_),this._primitiveBatch.storeLine({x:d+this._gridSize+o,y:k*r+m-m%r+s},{x:v-r+o,y:k*r+m-m%r+s},x,x);this._originLines&&(this._primitiveBatch.storeRectangle(new c.a(-2,m-this._gridSize+s,4,a.height+l),this._gridColor),this._primitiveBatch.storeRectangle(new c.a(v-this._gridSize+o,-2,a.width+u,4),this._gridColor)),this._primitiveBatch.flush()}}}]),t}();e.a=l},function(t,e,r){"use strict";var n=r(144);r.d(e,"d",function(){return n.a});var i=r(143);r.d(e,"c",function(){return i.a});var a=r(142);r.d(e,"e",function(){return a.a});var o=r(166);r.d(e,"b",function(){return o.a});var s=r(300);r.d(e,"a",function(){return s.a})},function(t,e,r){"use strict";r.d(e,"a",function(){return v});var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(19),u=r.n(s),c=r(89),l=r(46),f=r(166),h=r(20),p=u()("gamepadSingleton"),y=function(){function t(e){if(i()(this,t),p!==e)throw new Error("Cannot instantiate directly.");this._logger=new h.b("Gamepad"),this._initialize()}return o()(t,[{key:"getGamepadState",value:function(t){if(void 0===navigator.getGamepads)return void this._logger.warn("Gamepad module not available on this system!");var e=navigator.getGamepads();return e[t]?new f.a(e[t]):null}},{key:"_initialize",value:function(){window.addEventListener("gamepadconnected",this._onGamepadConnected.bind(this),!1),window.addEventListener("gamepaddisconnected",this._onGamepadDisconnected.bind(this),!1)}},{key:"_onGamepadConnected",value:function(t){var e=t.gamepad;this._logger.log("Gamepad ["+e.index+"] connected"),c.a.emit(l.a.EVENTS.INPUT.GAMEPAD_CONNECTED,e)}},{key:"_onGamepadDisconnected",value:function(t){var e=t.gamepad;this._logger.log("Gamepad ["+e.index+"] disconnected"),c.a.emit(l.a.EVENTS.INPUT.GAMEPAD_DISCONNECTED,e)}}],[{key:"instance",get:function(){return this[p]||(this[p]=new t(p)),this[p]}}]),t}(),v=y.instance},function(t,e,r){"use strict";var n=r(152);r.d(e,"a",function(){return n.a});var i=r(61);r.d(e,"b",function(){return i.a});var a=r(302);r.d(e,"c",function(){return a.a});var o=r(92);r.d(e,"d",function(){return o.a});var s=r(303);r.d(e,"e",function(){return s.a});var u=r(96);r.d(e,"f",function(){return u.a});var c=r(18);r.d(e,"g",function(){return c.a});var l=r(304);r.d(e,"h",function(){return l.a});var f=r(305);r.d(e,"i",function(){return f.a})},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=function(){function t(e){i()(this,t),(e instanceof Array||e instanceof Float32Array)&&9===e.length?this._matrix=new Float32Array(e):this._matrix=new Float32Array(9)}return o()(t,[{key:"copy",value:function(e){e instanceof t&&e.setFromArray(this.asArray())}},{key:"setFromArray",value:function(t){(t instanceof Array||t instanceof Float32Array)&&9===t.length&&(this._matrix=new Float32Array(t))}},{key:"clone",value:function(){return new t(this._matrix.asArray())}},{key:"asArray",value:function(){return this._matrix}},{key:"invert",value:function(){var t=this._matrix[4]*this._matrix[8]-this._matrix[5]*this._matrix[7],e=this._matrix[1]*this._matrix[8]-this._matrix[2]*this._matrix[7],r=this._matrix[1]*this._matrix[5]-this._matrix[2]*this._matrix[4],n=1/(this._matrix[0]*t-this._matrix[3]*e+this._matrix[6]*r);return this._matrix[0]=n*t,this._matrix[1]=-n*e,this._matrix[2]=n*r,this._matrix[3]=-n*(this._matrix[3]*this._matrix[8]-this._matrix[5]*this._matrix[6]),this._matrix[4]=n*(this._matrix[0]*this._matrix[8]-this._matrix[2]*this._matrix[6]),this._matrix[5]=-n*(this._matrix[0]*this._matrix[5]-this._matrix[2]*this._matrix[3]),this._matrix[6]=n*(this._matrix[3]*this._matrix[7]-this._matrix[4]*this._matrix[6]),this._matrix[7]=-n*(this._matrix[0]*this._matrix[7]-this._matrix[1]*this._matrix[6]),this._matrix[8]=n*(this._matrix[0]*this._matrix[4]-this._matrix[1]*this._matrix[3]),this._matrix}},{key:"multiply",value:function(t){var e=this._matrix[0],r=this._matrix[1],n=this._matrix[2],i=this._matrix[3],a=this._matrix[4],o=this._matrix[5],s=this._matrix[6],u=this._matrix[7],c=this._matrix[8],l=t[0],f=t[1],h=t[2],p=t[3],y=t[4],v=t[5],d=t[6],m=t[7],g=t[8];return this._matrix[0]=e*l+r*p+n*d,this._matrix[1]=e*f+r*y+n*m,this._matrix[2]=e*h+r*v+n*g,this._matrix[3]=i*l+a*p+o*d,this._matrix[4]=i*f+a*y+o*m,this._matrix[5]=i*h+a*v+o*g,this._matrix[6]=s*l+u*p+c*d,this._matrix[7]=s*f+u*y+c*m,this._matrix[8]=s*h+u*v+c*g,this._matrix}},{key:"identity",value:function(){return this._matrix[0]=1,this._matrix[1]=0,this._matrix[2]=0,this._matrix[3]=0,this._matrix[4]=1,this._matrix[5]=0,this._matrix[6]=0,this._matrix[7]=0,this._matrix[8]=1,this._matrix}}]),t}();e.a=s},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a);r(33).a.addRule("ray",["origin","direction"]);var s=function(){function t(e,r){i()(this,t),this.origin=0,this.direction=0,this.set(e,r)}return o()(t,[{key:"set",value:function(t,e){this.origin=t||0,this.direction=e||0}},{key:"objectify",value:function(){return{origin:this.origin,direction:this.direction}}},{key:"equals",value:function(t){return t.origin===this.origin&&t.direction===this.direction}},{key:"unload",value:function(){}}],[{key:"restore",value:function(e){return new t(e.origin,e.direction)}}]),t}();e.a=s},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a);r(33).a.addRule("vector3",["x","y","z"]);var s=function(){function t(e,r,n){i()(this,t),this.x=0,this.y=0,this.z=0,this.set(e,r,n)}return o()(t,[{key:"set",value:function(t,e,r){this.x=t||0,this.y=e||0,this.z=r||0}},{key:"objectify",value:function(){return{x:this.x,y:this.y,z:this.z}}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"unload",value:function(){}},{key:"magnitude",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"sqrMagnitude",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"distanceTo",value:function(t){return Math.sqrt((this.x-t.x)*(this.x-t.x)+(this.y-t.y)*(this.y-t.y)+(this.z-t.z)*(this.z-t.z))}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"cross",value:function(e){return new t(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)}}],[{key:"restore",value:function(e){return new t(e.x,e.y,e.z)}}]),t}();e.a=s},function(t,e,r){"use strict";var n=r(0),i=r.n(n),a=r(1),o=r.n(a);r(33).a.addRule("vector4",["x","y","z","w"]);var s=function(){function t(e,r,n,a){i()(this,t),this.x=0,this.y=0,this.z=0,this.w=0,this.set(e,r,n,a)}return o()(t,[{key:"set",value:function(t,e,r,n){this.x=t||0,this.y=e||0,this.z=r||0,this.w=n||0}},{key:"objectify",value:function(){return{x:this.x,y:this.y,z:this.z,w:this.w}}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}},{key:"unload",value:function(){}}],[{key:"restore",value:function(e){return new t(e.x,e.y,e.z,e.w)}}]),t}();e.a=s},function(t,e,r){"use strict";var n=r(39);r.d(e,"c",function(){return n.a});var i=r(156);r.d(e,"b",function(){return i.a});var a=r(141);r.d(e,"d",function(){return a.a});var o=r(307);r.d(e,"e",function(){return o.a});var s=r(308);r.d(e,"f",function(){return s.a});var u=r(165);r.d(e,"a",function(){return u.a});var c=r(148);r.d(e,"g",function(){return c.a})},function(t,e,r){"use strict";var n=r(27),i=r.n(n),a=r(0),o=r.n(a),s=r(34),u=r.n(s),c=r(1),l=r.n(c),f=r(35),h=r.n(f),p=r(39),y=function(t){function e(){o()(this,e);var t=e.shaderContent;return u()(this,(e.__proto__||i()(e)).call(this,t.vertex,t.fragment,t.uniforms,t.attributes))}return h()(e,t),l()(e,null,[{key:"shaderContent",get:function(){return{vertex:["attribute vec4 a_position;","void main() {","gl_Position = a_position;","}"].join("\n"),fragment:["precision mediump float;","void main() {","gl_FragColor = vec4(1, 0, 0.5, 1);","}"].join("\n"),uniforms:{},attributes:{a_position:0}}}}]),e}(p.a);e.a=y},function(t,e,r){"use strict";var n=r(27),i=r.n(n),a=r(0),o=r.n(a),s=r(34),u=r.n(s),c=r(1),l=r.n(c),f=r(35),h=r.n(f),p=r(39),y=function(t){function e(){o()(this,e);var t=e.shaderContent;return u()(this,(e.__proto__||i()(e)).call(this,t.vertex,t.fragment,t.uniforms,t.attributes))}return h()(e,t),l()(e,null,[{key:"shaderContent",get:function(){return{vertex:["attribute vec2 aPos;","attribute vec2 aTexCoord;","uniform mat4 uMatrix;","uniform mat4 uTransform;","uniform vec2 uTexSize;","varying vec2 vTexCoord;","void main() {","   gl_Position = uMatrix * uTransform * vec4(aPos, 0, 1);","   vTexCoord = aTexCoord / uTexSize;","}"].join("\n"),fragment:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives : enable","#endif","#ifdef GL_ES","   precision mediump float;","#endif","uniform sampler2D uTexture;","uniform vec4 uColor;","uniform float uGamma;","uniform float uOutlineDistance;","uniform vec4 uOutlineColor;","uniform vec4 uDropShadowColor;","uniform float uDropShadowSmoothing;","uniform vec2 uDropShadowOffset;","uniform float uDebug;","uniform float uDropShadow;","uniform float uOutline;","varying vec2 vTexCoord;","float aastep(float value) {","  #ifdef GL_OES_standard_derivatives","    float afwidth = length(vec2(dFdx(value), dFdy(value))) * 0.70710678118654757;","  #else","    float afwidth = (1.0 / 72.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","  #endif","  return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","}","void main() {","   float distance = texture2D(uTexture, vTexCoord).a;","   vec4 finalColor = uColor;","   if (uDebug > 0.0) {","       gl_FragColor = vec4(distance, distance, distance, 1);","       return;","   }","   if (uOutline > 0.0) {","       float outlineFactor = smoothstep(0.5 - uGamma, 0.5 + uGamma, distance);","       vec4 color = mix(uOutlineColor, uColor, outlineFactor);","       float alpha = smoothstep(uOutlineDistance - uGamma, uOutlineDistance + uGamma, distance);","       finalColor = vec4(color.rgb, color.a * alpha);","   } else {","       float alpha = aastep(distance);","       finalColor = vec4(uColor.rgb, uColor.a * alpha);","   }","   if (uDropShadow > 0.0) {","       float shadowDistance = texture2D(uTexture, vTexCoord - uDropShadowOffset).a;","       float shadowAlpha = smoothstep(0.5 - uDropShadowSmoothing, 0.5 + uDropShadowSmoothing, shadowDistance);","       vec4 shadow = vec4(uDropShadowColor.rgb, uDropShadowColor.a * shadowAlpha);","       gl_FragColor = mix(shadow, finalColor, finalColor.a);","       return;","   }","   gl_FragColor = finalColor;","}"].join("\n"),uniforms:{uMatrix:{type:"mat4",value:new Float32Array(16)},uTransform:{type:"mat4",value:new Float32Array(16)},uTexture:{type:"tex",value:0},uTexSize:{type:"1i",value:24},uColor:[1,0,0,1],uOutlineColor:[1,1,1,1],uDropShadowColor:[0,0,0,1],uDropShadowSmoothing:{type:"1i",value:0},uDropShadowOffset:[0,0],uOutlineDistance:{type:"1i",value:0},uGamma:{type:"1i",value:0},uDebug:{type:"1i",value:1},uDropShadow:{type:"1i",value:1},uOutline:{type:"1i",value:1}},attributes:{aPos:0,aTexCoord:0}}}}]),e}(p.a);e.a=y},function(t,e,r){"use strict";var n=r(50);r.d(e,"e",function(){return n.a});var i=r(97);r.d(e,"f",function(){return i.a});var a=r(25);r.d(e,"h",function(){return a.a});var o=r(158);r.d(e,"g",function(){return o.a});var s=r(99);r.d(e,"b",function(){return s.a});var u=r(159);r.d(e,"c",function(){return u.a});var c=r(160);r.d(e,"d",function(){return c.a});var l=r(161);r.d(e,"a",function(){return l.a})},function(t,e,r){"use strict";var n=r(140);r.d(e,"b",function(){return n.a});var i=r(149);r.d(e,"c",function(){return i.b}),r.d(e,"a",function(){return i.a})}])});